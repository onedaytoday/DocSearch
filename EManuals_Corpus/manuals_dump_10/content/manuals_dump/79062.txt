Security Router XSR P/N
should the right to specifications and other information this and its without The should Networks to whether such The firmware, or software this to without IN NO EVENT SHALL ENTERASYS NETWORKS BE LIABLE FOR ANY INCIDENTAL, INDIRECT, SPECIAL, OR CONSEQUENTIAL DAMAGES WHATSOEVER (INCLUDING BUT NOT LIMITED TO LOST PROFITS) ARISING OUT OF OR RELATED TO THIS DOCUMENT, WEB SITE, OR THE INFORMATION CONTAINED IN THEM, EVEN IF ENTERASYS NETWORKS HAS BEEN ADVISED OF, KNEW OF, OR SHOULD HAVE KNOWN OF, THE POSSIBILITY OF SUCH DAMAGES. Networks, Inc. MA Inc. rights ENTERASYS NETWORKS, ENTERASYS XSR, and associated therewith, or of Inc. the United States and other countries. other this or of their respective owners. URL: URL: URL: Notice
The XSR with Class of FCC to the following This interference. This interference received, including interference that operation. NOTE: The XSR tested and found to comply with the to of the FCC These to reasonable protection interference when the XSR operated This XSR and and with the interference to of the XSR to interference which to the interference WARNING: or to the XSR, and the authority the FCC or other such agency to the XSR. The XSR with of the FCC and the the Council (ACTA). the board of the Network Interface other information, the the following If this to the telephone and to the XSR to the and telephone with the FCC and ACTA. to the following and instructions to this If the XSR the telephone the telephone that to temporarily service. the telephone as as Also, of right to with the FCC necessary. The telephone its operations, or that the of the XSR. If this the telephone to and service. If with the XSR, or warranty information, please Inc., If the XSR causing to the telephone the that the the The XSR to repaired the customer. Information (FCC) Notice Product Product US: 5N5DENANET1 US: 5N5DENANEBU US: 5N5DL02NEAA US: 5N5DENANEDI US: 5N5DENANECT Product Used RJ49C RJ11C Product Interface (FIC) Service (SOC) 02IS5 6.0N 02LS2 7.0Y RJ48C 04DU9.BN, 04DU9.DN, 6.0N 04DU9.1KN, 04DU9.1SN
This the from the Interference Regulations of the of NOTICE: The Industry This that the telecommunications protective, and as the Technical The the to the this users should that to connected to the of the The using of The should that with the of service Repairs to should coordinated the repairs or the to this or malfunctions, the telecommunications to the to the should their own protection that the ground of the telephone and internal together. This areas. should to such themselves, should the inspection authority, or as NOTICE: The (REN) assigned to each of the of terminals allowed to connected to telephone interface. The termination interface of of to the that the of the of the Networks, Inc. that this XSR1850 XPedition Security Router with and other of Directive 1999/5/EC. WARNING: This Class this interference which the to ADVERTENCIA: A. tomar WARNHINWEIS: This with the following: UL CSA C22.2 73/23/EEC, EN EN IEC the XSR with the Advanced (APS61ES30) supply included with the branch router. strongly recommends that the type of supply the XSR. It should type, UL listed/CSA certified, type SJ or SJT, rated with groundingtype The should the the country which the UL CSA C22.2 73/23/EEC, EN EN IEC UL CSA C22.2 73/23/EEC, EN EN IEC Industry Notices TTE Directive Declaration ITE Producto Class ITE Notice A. ITE Product
This with the following: CFR and CSA C108.8, 89/336/EEC, EN EN EN EN AS/NZS CISPR and VCCI V3. CFR CSA C108.8, 89/336/EEC, EN EN EN EN AS/NZS CISPR VCCI V3. CFR and CSA C108.8, 89/336/EEC, EN EN EN EN AS/NZS CISPR VCCI V3. with Directive 2002/96/EC of the and (WEEE): The that of and and that this the the of Directive 2002/96/EC. this reached the of its serviceable life, of as It collected and treated separately. It the that there effects the and health as of the of and It the users responsibility to the to WEEE properly treated. information about the please to or Customer (Ireland). This based the of the Council Interference Information (VCCI) V3. If this such the user to corrective This this interference which the to (EMC) (EMC) EMC and (WEEE) Notice BSMI EMC VCCI Notice
Conformance to Directive(s)/Product EC Directive 89/336/EEC EN EN EN EN EC Directive 73/23/EEC EN EN or Light Inc. that the with this conforms to the WARNING: phone WARNING: phone the interface through The service off service interface connected to the WARNING: The NIMBRIST connected directly to service (CSU) to the ISDN this CSU the and others the service Information Processing (FIPS) The XSR to the National of and (NIST) FIPS and officially the NIST information about the FIPS to the FIPS and the [PDF] the top of the Declaration of Conformity Application of Council Directive(s): 89/336/EEC 73/23/EEC Inc. Address: MA USA Address: House, Newbury Road, Newbury RG14 2PZ, Australian N826
This with the terms of the of section of the Telecommunications of and the Telecommunications the Office of The VPN (VPNC) testing of to IPSec With rigorous testing, the VPNC IPSec users that the XSR typical business VPNC the IPSec testing that shows both of interoperability as as the that the tests. Communications Authority of South Africa VPN
This the user and Inc. of and its Affiliates (as (Enterasys) that forth rights and obligations with to the software program/firmware the (including accompanying or the and conflicting or and appearing purchase or other submitted Affiliate partnership, corporation, or other of that directly or indirectly through or or by, or with the specified. This the the and or whether oral or writing, the with to the of this The contained firmware, or other BY INSTALLING OR OTHERWISE USING THE PROGRAM, YOU REPRESENT THAT YOU ARE AUTHORIZED TO ACCEPT THESE TERMS ON BEHALF OF THE END USER (IF THE END USER IS AN ENTITY ON WHOSE BEHALF YOU ARE AUTHORIZED TO ACT, YOU AND YOUR SHALL BE DEEMED TO REFER TO SUCH ENTITY) AND THAT YOU AGREE THAT YOU ARE BOUND BY THE TERMS OF THIS AGREEMENT, WHICH INCLUDES, AMONG OTHER PROVISIONS, THE LICENSE, THE DISCLAIMER OF WARRANTY AND THE LIMITATION OF LIABILITY. IF YOU DO NOT AGREE TO THE TERMS OF THIS AGREEMENT OR ARE NOT AUTHORIZED TO ENTER INTO THIS AGREEMENT, ENTERASYS IS UNWILLING TO LICENSE THE PROGRAM TO YOU AND YOU AGREE TO RETURN THE UNOPENED PRODUCT TO ENTERASYS OR YOUR DEALER, IF ANY, WITHIN TEN DAYS FOLLOWING THE DATE OF RECEIPT FOR FULL REFUND. IF YOU HAVE ANY QUESTIONS ABOUT THIS AGREEMENT, CONTACT ENTERASYS NETWORKS, LEGAL DEPARTMENT AT You and as follows: LICENSE. You the and right to the of the this to the and of this RESTRICTIONS. as otherwise authorized writing Enterasys, You You third to: or the whole or including reasons of correction or interoperability, to the and to the the that such rights excluded. Information to or from and of Enterasys fee. Incorporate the whole or other or based the whole or Publish, or the whole or Assign, lease, of security or otherwise the whole or copyright, rights, or warning included or of the APPLICABLE LAW. This and the and the and of the Commonwealth of without to its conflicts of You the and of the Commonwealth of of the United Nations Convention Contracts the International of the United Nations Convention the the International of and the Uniform Information apply to this Networks, Inc. BEFORE OPENING OR UTILIZING THE ENCLOSED PRODUCT, CAREFULLY READ THIS LICENSE AGREEMENT.
EXPORT RESTRICTIONS. You that and its Affiliates to of the U.S. Government, including the U.S. of which or of technical products to to the obtained from the U.S. Government or from such the exporting party. If the from the United States to the CIV the U.S. Administration Regulations, You that You of the and that You the and If the from the United States to the TSR the U.S. Administration Regulations, to the restriction forth Sections or of this You to reexport or release the the the or to of country Country D:1 or E:2 North the Peoples of or such other countries as the United States to Country D:1 or E:2 (as the of the or the such to security as the U.S. or the of the or of to Country D:1 or E:2 the of the or thereof, such to security as the U.S. or to State the U.S. Munitions UNITED STATES GOVERNMENT RESTRICTED RIGHTS. The restricted software with restricted rights with section through of the SoftwareRestricted Rights and its and to and/or its of the software with DFARS section and its and or the Government to forth DISCLAIMER OF WARRANTY. EXCEPT FOR THOSE WARRANTIES EXPRESSLY PROVIDED TO YOU IN WRITING BY Enterasys, DISCLAIMS ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR PARTICULAR PURPOSE, TITLE AND NON INFRINGEMENT WITH RESPECT TO THE PROGRAM. IF IMPLIED WARRANTIES MAY NOT BE DISCLAIMED BY APPLICABLE LAW, THEN ANY IMPLIED WARRANTIES ARE LIMITED IN DURATION TO THIRTY DAYS AFTER DELIVERY OF THE PROGRAM TO YOU. LIMITATION OF LIABILITY. IN NO EVENT SHALL ENTERASYS OR ITS SUPPLIERS BE LIABLE FOR ANY DAMAGES WHATSOEVER (INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF BUSINESS, PROFITS, BUSINESS INTERRUPTION, LOSS OF BUSINESS INFORMATION, SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR RELIANCE DAMAGES, OR OTHER LOSS) ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM, EVEN IF ENTERASYS HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THIS FOREGOING LIMITATION SHALL APPLY REGARDLESS OF THE CAUSE OF ACTION UNDER WHICH DAMAGES ARE SOUGHT. THE CUMULATIVE LIABILITY OF ENTERASYS TO YOU FOR ALL CLAIMS RELATING TO THE PROGRAM, IN CONTRACT, TORT OR OTHERWISE, SHALL NOT EXCEED THE TOTAL AMOUNT OF FEES PAID TO ENTERASYS BY YOU FOR THE RIGHTS GRANTED HEREIN. AUDIT RIGHTS. You acknowledge that the property rights associated with the of to and, accordingly, You to records and accounts showing and and the copying and of the You to and its authorized reasonable the right to and business hours, records, accounts and which the to with this including the of the and and the copying and of the Enterasys right of examination reasonably, and to with business. the such with this including of the or breach of this You promptly to the the right, to its and without to terminate this effective immediately, to comply with this such termination, You immediately of the and to the and of the OWNERSHIP. This and You acknowledge and that the and/or copyrighted of and/or its You to reasonable security to such and copyrighted right, title and and to the with and/or its rights specifically to You to Enterasys.
ENFORCEMENT. You acknowledge and that breach of Sections or of this You which recovery of money would and that to to Enterasys rights this to and ASSIGNMENT. You assign, or this or of rights or obligations this that You assign this to or which substantially of or assign this its This and to the of the their and assigns as this attempted assignment, or of the of this and breach of this WAIVER. waiver of breach of of the and of this writing and as waiver of breach of such or Enterasys to breach of such as waiver of breach or other SEVERABILITY. the of this found to or the and enforceability of of the affected or impaired thereby, and that and to the such invalidity, or or or such other TERMINATION. terminate this immediately breach of of the and of this such termination, You immediately of the and to the and of the
of the Used This Chapter Chapter the XSR the Command Interface Connecting the XSR the the XSR the to Remotely the XSR Connecting Interface to Commands Connecting Connecting SSH Accessing the Initial Prompt the Clock the RAI and RAI the XSR........................................................................................................... RAI Work............................................................................................................... CLI Editing CLI EXEC Privileged EXEC Exiting From the Current Command and CLI Command and Interfaces Supported Physical Interfaces.......................................................................................................... Supported Interfaces Supported Ports................................................................................................................................ XSR Cards, and Interface and Commands that Table Table Table XSR Interfaces Interface........................................................................................................................ Interface.......................................................................................................................
Interface Interface Commands Performing Commands the Clock RTC/Network Clock RTC Commands............................................................................................................................... the the to Factory the (XSR Only) Commands Downloading the Uploading the Configuration/Crash Report....................................................................................... Creating the Software Creating Software BootRom Choices.............................................................................................................. Loading Software EOS to the Downloading with FIPS Security Software Commands and Statistics Memory Creating Network through SNMP SNMP Informs Trap Statistics (Traps) Network Service Measuring Performance the SLA SNMP CTdownload MIB MIB...................................................................................... Software Download using NetSight CLI CLI Commands to SNMP Accessing the XSR Through the Network NetSight Router Services Procedures the CLI Downloads............................................................................................................ SNMP Downloads Reporting
LAN/WAN Interfaces of LAN Interfaces LAN the LAN MIB Statistics of WAN Interfaces WAN the WAN Chapter T1/E1 T3/E3 Interfaces T1/E1 Functionality T3/E3 Functionality T1/E1 T3 E3 T1/E1 T3/E3 T1 One-to-One DS0 and Features.................................................................................................................... T1/E1 Interfaces T3/E3 Interfaces Troubleshooting T1/E1 T3/E3 T1/E1 T3/E3 Physical Troubleshooting T1/E1 T3/E3 Indication (AIS Remote Indication (RAI Remote Indication (RAI Remote Indication (AIS T1/E1 T3/E3 Seconds Counter Increasing Seconds Increasing Increasing the D&I NIM IP IP ARP and Proxy ARP Proxy DNS BOOTP/DHCP Broadcast Directed Broadcast Broadcast.................................................................................................................................. ICMP TCP UDP SSH (TFTP) IP
Secondary IP Interface Secondary IP.................................................................................................................... ARP Secondary IP ICMP Secondary IP......................................................................................................................... Routing Table Secondary IP OSPF Secondary IP........................................................................................................................ RIP Secondary IP............................................................................................................................ Unnumbered Interface Secondary IP.............................................................................................. NAT Secondary IP DHCP Secondary IP VPN Secondary IP VRRP Secondary IP...................................................................................................................... Secondary IP Unit (MTU) Traceroute IP Routing and RIP RIP Works............................................................................................ OSPF LSA and OSPF Overflow OSPF Interfaces OSPF Troubleshooting Interface Route Preference Static VLAN Routing VLAN, VLAN VLAN Processing the Ethernet Interfaces VLAN Processing: Ethernet to LAN Interfaces VLAN Processing: Ethernet to WAN Interfaces VLAN Processing: WAN Interface to Ethernet Interface with VLAN................................................................................................................................. Based Routing Accessing the Routing Match PBR Cache....................................................................................................................................... Network Inter-Domain Routing (CIDR) Router ID (RTP) Network Translation Router VRRP Definitions.............................................................................................................................. the VRRP Works States of VRRP Router VRRP IP VR Router Authentication...................................................................................................................................
ARP VRRP Router ARP.......................................................................................................................................... Proxy ARP ARP................................................................................................................................. Traffic VRRP Router................................................................................................... ICMP Interface Watch Physical Interface and Physical IP VRRP Router......................................... (ECMP) Considerations RIP Unnumbered IP Interface OSPF NAT One-to-One Static NAT Static Translation Translation Network and Translation NAPT............................................................................................................................. Configuring NAPT............................................................................................................................. NAT within Interface Static NAT within Interface NAT Based Routing VRRP Router Router VLAN Chapter the Gateway BGP Notification.......................................................................................................................................... BGP Path AS Path Next Preference Community BGP Path Selection BGP Routing Access
Community Route Characters........................................................................................................ Initial BGP BGP Neighbors BGP Synchronization Route Route Route Refresh Scaling BGP Route Reflectors............................................................................................................................... Confederations and Network Statistics BGP Route BGP Neighbors BGP Path Neighbor BGP Route BGP Confederations TCP MD5 Authentication BGP BGP IBGP EBGP BGP Community with Route Chapter PIM-SM and IGMP Differences with Approach IP IGMP Distribution the IP Membership Actions and and Reports Query................................................................................................................................. Source-Specific with IGMP Distinctions of of of Routers of Routers
the PIM-SM Phase Building Shared Tree Phase Building Shortest Path Tree RP Phase Building Shortest Path Tree Neighbor Discovery and DR PIM PIM Processing Source-Specific PIM SM PIM Chapter PPP PPP (LCP) Network (NCP) Authentication Authentication (PAP) Authentication (CHAP)..................................................................... Microsoft (MS-CHAP) Quality (LQM) PPP (MLPPP) MLPPP MLPPP and Latency............................................ Interleaving the Head Format and IP (IPCP) IP Assignment PPP (BAP/BAPC) PPP with Synchronous Interface the Interface the Physical Interface the Interface the Interface as the Interface MLPPP interface BAP One Router with XSR1 XSR2 BAP Call/Callback XSR1 XSR2
Encapsulation ARP Congestion Networks Rate Enforcement (CIR) (DE) Congestion (FECN) Congestion (BECN) Information (LMI) Sub-interfaces FRF.12 End-to-End Commands Statistics............................................................................................................................ Reports and Clear Statistics Interconnecting Network to Chapter Services of Services Services and Synchronous AT Commands Synchronous Interfaces DTR Synchronous Interfaces of Typical Services Ethernet Services Profiles Interface Encapsulation ISDN Callback the Interface Creating and the Interface the Class the Physical Interface the Interface
ISDN Callback with Matched Calling/Called Point-to-Point with Calling/Called with One Neighbor............................................................................................ with Neighbors of of the Interface the Physical Interface the Interface Interface as the Interface of Interface Watch Watch Caveat Incoming ISDN Incoming (Calling (Called (Calling PPP (Calling (Called PPP PPP Routing Dial-out Routing PPP Dial-out Router Router MLPPP (Calling (Called MLPPP Router Dial-out Router MLPPP Dial-out Router Router MLPPP Switched PPP Bandwidth-on-Demand (Calling C (Called
ISDN C (Called with MLPPP C (Called Encapsulation Chapter Integrated Services Network ISDN BRI PRI ISDN Rate Interface Rate Interface and Networks ISDN Security ISDN Trace Trace Decoding Q921 Decoding................................................................................................................................. Q931 Decoding................................................................................................................................. Decoded BRI NI-1, DMS100 5ESS SPID (TEI) Procedures ISDN BRI (Switched) PRI Leased-Line T1 PRI E1 PRI ISDN BRI BRI Leased BRI Leased PPP BRI Leased ISDN (ITU Q.931) Chapter Quality of Service Describing the Class the and Services Class-Based CBWFQ.........................................................................................................................
Measuring Priority Priority Traffic Traffic Policing............................................................................................................... Class-based Traffic Differences and and Congestion Early Detection............................................................................................... Early Detection Interface the XSR and and Interleaving (LFI) with MLPPP with FRF.12 with VLAN VLAN Flow VLAN with Priority Routed Interface VLAN with Priority Routed Interface................................................................ IP Routed Interface............................................... with VLAN VPN VPN Physical Interface Interface Interface and VPN Interaction the the VPN Interface Physical Interface with MLPPP with FRF.12 with VLAN and to the Chapter ADSL PDU Encapsulation Choices PPP ATM.................................................................................................................................. PPP Ethernet ATM (Routed) Routed IP ATM ADSL
ADSL NIM Card ADSL the Motherboard................................................................................................................ DSP ADSL ATM OAM Performance Class of Service................................................................................................................................ DSLAM Access Restrictions ARP SNMP the Network VPN Security Network Works Ensuring VPN Security with IPSec/IKE/GRE GRE IPSec VPN Encryption Public-Key (PKI) the XSR CA Chains RA CRL and DF Functionality VPN Applications Site-to-Site Networks Networks NAT Network (NEM) Remote Access OSPF VPN Network OSPF Commands OSPF OSPF Network OSPF with (Redundancy)............................................................................
XSR VPN VPN Encryption ACL Selecting IKE/IPSec Security Considerations Creating Crypto Crypto Authentication, Authorization and Accounting AAA Commands AAA PKI PKI PKI Interface VPN VPN Interface Sub-Commands VPN Site-to-Site Application the VPN XSR with VPN Gateway GRE OSPF A: XSR-3250 VPN GRE Site-to-Site B: XSR-1805 VPN GRE Site-to-Site Site-to-Site XSR Profile the XSR Gateway-to-Gateway with Pre-Shared Gateway-to-Gateway with Chapter DHCP of DHCP DHCP DHCP Works DHCP Services of Network Temporary or Network Lease................................................................................................................................................ Network to Provisioning Differentiated Network Class BOOTP Nested IP Caveat
DHCP Services Router Option Option DHCP Interaction Secondary Interaction with Remote (RAI)........................................................................................ DHCP Timeouts DHCP CLI Commands DHCP DHCP DHCP Network IP Corresponding DHCP DHCP Network the DHCP Optional: DHCP Nested Optional: DHCP DHCP with with Class BOOTP DHCP Option Security the XSR Access ACL IP with Multicast/Broadcast Source Check SYN and ICMP ICMP ICMP of Death Spurious State Security Precautions AAA Services Connecting Remotely SSH or with AAA Service Reasons of ACL and ALG and Proxy Inspection XSR Functionality Firewall Inspection (SFI)....................................................................................................
Application Commands Application Gateway On URL of Service Protection...................................................................................... Authentication................................................................................................................................. Firewall and NAT and VPN............................................................................................................................ and CLI Commands Firewall the to the XSR with XSR with Firewall, and DHCP XSR with and VPN VRRP Firewall RADIUS Authentication and Accounting Security RPC A: and ASCII Recommended ........................................................................................................................A-1 and ............................................................................................................................A-3 Firewall and NAT and Reports .........................................................................................................A-14 ASCII Character Table ..................................................................................................................A-19 B: XSR SNMP and Associated Service Reporting MIB ..............................................................................................................B-1 ...................................................................................................................B-2 BGP MIB ........................................................................................................................................B-5 Table.....................................................................................................................B-5 BGP Table.............................................................................................................................B-5 BGP-4 Path Attribute ................................................................................................B-7 BGP-4 Traps.......................................................................................................................................B-8 MIB ........................................................................................................................................B-9 Interface Operations .....................................................................................................................B-9 .................................................................................................................................B-10 Table Counters ...................................................................................................B-10 Table .....................................................................................................................B-10 Counters ..................................................................................................................B-10 Table........................................................................................................................B-10 IP Counters.........................................................................................................................B-11 IP ..............................................................................................................................B-11 Authenticated Counters......................................................................................................B-11 Authenticated Table........................................................................................................B-11
DOS Counters........................................................................................................B-12 DOS Table .............................................................................................................B-12 VPN MIB ...........................................................................................................................................B-12 Table ....................................................................................................................B-13 Table ....................................................................................................B-13 Table..............................................................................................................B-14 Table...............................................................................................................B-14 Table ..................................................................................................................B-14 Table .......................................................................................................B-15 ...................................................................................................B-15 Table ..........................................................................................................B-16 Table ..............................................................................................B-16 Table ............................................................................................................B-16 Table ..........................................................................................................B-17 Table.....................................................................................................B-17 ipCidrRouteTable Static ..............................................................................................................B-18 MIB .......................................................................................................................B-18 MIB ..................................................................................................B-19 MIB ..........................................................................................................B-20 SNMP MIB ...............................................................................................................B-21 MIB ........................................................................................................................B-22
Used This Used This Chapter ISDN, to the Integrated Services Network the XSR BRI, PRI and leased applications. ISDN and of Q921 and Q931 Quality of Service XSR including Random Early Detection (RED), Weighted Early Detection (WRED), DSCP, IP and and CBWFQ and class-based Chapter ADSL, ADSL POTS and ISDN ADSL ATM UNI, OAM PDU choices: PPP ATM PPP Ethernet and Routed IP ATM Chapter the Network, XSR and Remote Access VPN applications. Other functionality includes RADIUS authentication, PKI authentication, NAT IP routing VPN only), and GRE and AAA. Chapter DHCP, the routers the including and IP of temporary or and Chapter Security the XSR to the router and security including AAA service, firewall, and to these features. A, and the high, and severity and the XSR as as XSR as function of memory. B, SNMP and Associated and SNMP and the following and MIBS. The following this the to item of information that of information to to the Informationen Warns action that or death to o
Warning: Warns action that or death. o Text type the or using the appear texto usted o Italics/It Text or the title of texto o SMALL CAPS/ the to the MAYUSCULAS that the CTRL+ALT+DEL). usted CTRL+ALT+DEL). Text this or directory. texto o to text CLI command. texto CLI. FastEthernet FastEthernet and GigabitEthernet interchangeable throughout this FastEthernet GigabitEthernet Used This XSR
related to the XSR, Networks of these World (toll-free U.S. and the toll-free country: To please type the FTP the and Release Notes Additional or To include the the of technical the following information ready: Networks service of the of action(s) already to the the The and of products the of type, Network and the of the The history the this recurring previous Authorization (RMA) ftp://ftp.enterasys.com anonymous
This chapter the functionality of the XSR. to the following this to this functionality and the XSR CLI Reference of associated CLI commands and The following functionality the XSR: The four the Command Interface (CLI) performance and the Network including SNMP the NetSight Router Services firewall and ACL and the to gather information. These the and software supported: memory SSH and EOS Network (SNTP and synchronization, and of and including Download, Chassis, Persistence, and VPN, and (OSPF, RIP, and PPP), SNMP Informs and Service (SLA) The SNMP XSR and the MIB TFTP on-the-fly to the XSR Flash, the to and to The XSR the header and Remote (RAI) centrally specifically created XSR of three the lowest PPP the lowest or ADSL Ethernet Interfaces The XSR Base-T FastEthernet interfaces and XSR three interfaces the routers LAN with and and statistics and Ethernet T1/E1 T3/E3 Interfaces The T1/E1 and T3/E3 subsystem NIM-based I/O the routers WAN with and the NIM, and of other functionality. Interface The NIM interface typically PPP both asynchronous and The as to the router or PPP (WAN) -The (PPP) PPP the assignment and of asynchronous and testing, and option such as network-layer XSR
and supported: and and PPP as as MLPPP. IP IP interconnected of packet-switched It where IP four each containing numbers. supported: secondary IP CIDR, the Router (VRRP), Proxy DNS, VLAN and Based routing, Route Preference, and AAA, PPP and OSPF DHCP The XSR DHCP and the trusted LAN to IP to customer's LAN temporary or (IP) and assignment to of of lease and to IP including and of DHCP activity and leases through reports statistics and Network Translation NAT, Network Translation (NAPT) and NAT IP NAT with PPTP/GRE ALG and IP NAPT, the interface and port-forwarded NAT, interface. IP Routing The XSR RIP, OSPF and BGP4 routing, function of the IP routing to the each through the XSR. supported: redistribution OSPF and RIP, to the with and Router (VRRP) router and DNS Networks (VLAN 802.1Q), VLAN routing 802.1P, based routing, preference, (PIM-SM), and RIP and OSPF timers. (ECMP) and (round OSPF, BGP and (RIP excluded). Gateway The XSR the following the BGP-4 features: MIB RFC-1657 including BGP SNMP protection of BGP reflection, refresh, AS confederations, BGP and PIM/IGMP (PIM-SM) and (IGMP) with the following features: IGMP and LAN interface only), PIM-SM IGMP membership, RP (BootStrap without RP, and assert Tree (RPT) and Shortest Path Tree (SPT) Build-up, RPT to SPT Switch, and Source (SSM). The XSR this fast-packet switching wide-area Acting as DTE, the router and that while as and them. The of DTE of the Network Interface (UNI) PVC (DLCI) with Committed Information Rate (CIR) BECN/FECN ILMI, ANSI D, CCITT A, FRF.12 ARP, interfaces the physical including FIFO or IP DCE and ISDN.
Quality of Service The XSR IP and DSCP and and and Weighted Early Detection (RED, WRED). Also, including based to flow (DSCP and IP and class, and VPN. ADSL Three PDU ADSL: PPP ATM PPP Ethernet and Routed IP ATM supported: POTS and ISDN ATM UNI (FUNI) OAM AIS, RDI, CC, Loopback F4 and F5 flows, to ATM ATM UBR class, ATM Adaption Layers to ARP and of SNMP Interface and Interface Network The XSR VPN using L2TP, PPP or IPSec protected DES, 3DES, RC4, MD5, AES or SHA-1 VPN authenticated/ authorized or (PKI) (Microsoft and supported: DF OSPF VPN, GRE interaction firewall/NAT/VPN, ToS IP VPN interfaces, IETF/Microsoft-compatible NAT L2TP, and VPN. Security its firewall the XSR firewall protection of of Service FTP and H.323 ALG FTP, SMTP, NNTP, HTTP, onboard URL firewall and authentication, and and Access to access. supported: AAA firewall, and users, and of firewall without to the Interface Services to the leased and they of both inbound and outbound The XSR incoming The The brought when and brought when the restored. This to sub-interfaces. supported: Watch, ISDN callback, and interface ISDN The BRI and PRI switched and leased and tear the of the The ISDN services BRI and PRI with or NIM PRI or BRI-S/T NIM or or BRI NIM supported: (CMD) (DS0s) switching the CO to the the of the outgoing incoming routed to the based number/sub-address and number/sub-address, or lease (each BRI CMD or Leased-Line of operation), BRI switches: ETSI, TEI BRI, of Q.921/Q.931 selection of switch type, PRI switches: ETSI, NI, DMS100, NTT, of PRI and TEI of PRI, ISDN switched and leased through and (BAP), security through ID, ISDN callback, PPP (MLPPP), activation NTT switches, and ISDN. The XSR asynchronous through Unnumbered Interface Addressing, PPP authentication from PAP and CHAP, ISDN callback, watch, and interface XSR
the Command Interface Connecting the XSR the the XSR The XSR three interfaces with of the Command Interface (CLI) performance and the Network (SNMP) and and the gathering information. The Command Interface (CLI) to and of the XSR. You the CLI three Directly to the asynchronous the using or SSH LAN or WAN interface ease of when first the XSR, directly the to Microsofts HyperTerminal or other with the following parity, flow the wired as DCE with DB-9 DB-9 to PC COM to the Although to this security the as as through the Optionally the as WAN interface to the following This option the XSR of the XSR Started the as WAN directly to because only to the CLI to to IP of Also, of the properly and the as to and to the to If to to the with the straight-through the below. This the XSR the XSR XSR
the Command Interface the to Remotely the XSR Connecting Interface to the XSR The connected to the of the with straight-through and the following XSR commands: XSR(config-if<S0>)#physical-layer XSR(config-if<S0>)#clock timeout shutdown the switches as follows: DTR (DTR offline commands first factory (AT The XSR attaching (RS-232) NIM interface and to inbound and outbound switches and the receiving-side XSR exactly as the to Remotely the XSR that the interface command instead specify interface (or higher). traight-through cabling the On the XSR, the following commands: XSR(config-if<S1/1>)#physical-layer XSR(config-if<S1/1>)#clock shutdown interface shutdown the following calling-side switch DTR (DTR offline commands AT
Commands Connecting Connecting SSH If to information about the the whoami command. to the XSR Started and XSR CLI Reference information commands. Once the XSR properly with IP to the CLI the with with the username command. Although to and supported, than (including the other This to commands that to the and to and another to the user the following currently locked Please Also, to that to the router, of the or SSH the That the first four users, the fifth allow only the to of the first four as then the fifth You from the XSR to the command. It that the router to seconds. Shell (SSH the to the XSR to To SSH, the following commands: with crypto AAA user including and with user and You the CLI with the username command. SSH with authentication with SSH PC to with the XSR Optionally with higher security Optionally the firewall Access (ACL) to allow SSH to the XSR these commands: tcp tcp fastethernet access-group the Command Interface XSR
the Command Interface Accessing the Initial Prompt the Clock the XSR and other with the SSH to the XSR Started and CLI Reference The CLI protected security. EXEC This connectivity of the XSR to or the routers Access to commands Privileged EXEC You while EXEC to Table of CLI SSH with of memory of timeout seconds The command displays created and the memory to the XSR CLI Reference XSR and routers on-board Clock (RTC) with which to the to the RTC as reference isolated employing the Network (SNTP). XSR routers RTC however, and these from The XSR both SNTP and to routers, switches and other include isolated or hierarchical as as instance, might Router (XSR acting as to both Router (XSR-1220) and Router C (XSR-1220) which through Router ISDN hierarchical the other hand, might Router acting as both SNTP and of Router and from Router C ISDN. NTP SNTP with RTC as its this respect, the internally to SNTP and with the A.B.C.D.] and commands, respectively. Also, the with the command. to the XSR Started and the XSR CLI Reference
the Remote RAI and first-time CLI with attributes; the to seconds of You such as users, and and and access. to the XSR CLI Reference about these commands. The (RAI) centrally specifically created the operation Basically, RAI from TFTP the XSR. This then the Flash: directory as the and the process. RAI of three the lowest numbered PPP using the lowest numbered the ADSL or LAN the lowest Ethernet RAI and of the XSR. centrally the TFTP the XSR the location with (based the or and the XSR. further these choices RAI The RAI includes DLCI to the IP the branch to with the RAI PPP leased or Leased RAI operates to RAI that leased RAI where and the to attached to the or switched BRI/ PRI interfaces. RAI ADSL the ADSL XSR the to existing PVC the ADSL and to the and TFTP that PVC. RAI DHCP to from TFTP that to the XSR. to the Software chapter of the XSR Started RAI and phased from the At the branch the XSR the following IETF features: NIM interfaces only lowest only. physical media-types. DTE LMI type ANSI, ILMI, Q933 supported. to (FR) DNS TFTP the Command Interface XSR
the Command Interface the XSR to those RAI. of RAI of RAI CLI RAI try, and to choices to and as the The the to the chance of of access. At the the XSR the following IETF interface features: physical interfaces which T1, T3, and DLCI DLCI based LMI (ILMI, AUTO ANSI, Q933A IP forwarding to DNS and TFTP to ARP and ARP DLCI At the branch the RAI ADSL the following features: F5 OAM or to the VPI and VCI numbers. PVC should with the VPI from to and VCI from to RAI the ADSL to to the first of the ADSL ADSL RAI with SNAP or MUX. The reachable from the DSLAM ATM or ADSL RAI with IPoA or The IP obtained IP The of the XSR the username and CHAP/PAP The of the sought from the TFTP the of the branch XSR. At the the RAI ADSL the following features: The terminating the ADLS DSLAM), and PVC with F5 OAM The of IP IP of the XSR. The authenticates the XSR with CHAP or PAP using the as the username and On the interface where terminated, broadcasting should allowed or other TFTP the TFTP The of the the TFTP should match the of the branch XSR.
RAI the XSR RAI Work DHCP the LAN: Ethernet interface the lowest the options TFTP IP and Optionally DNS options populated. At branch the XSR the following PPP IETF interface: NIM interfaces Lowest only. Supports physical media-types. Supports interface type. Supports the following clock rates the interface: and Supports PPP and MLPPP LCP. Supports IP IPCP. The branch XSR the of TFTP The TFTP and IP to with The branch XSR the IP from the RAI FR RAI the the RAI DHCP the IP through DHCP while PPP-based RAIs PPP IP At the of the process, the interface the branch XSR with IP and with the TFTP The the of the that from the TFTP to the branch XSR. It from the XSR the of the IP the branch XSR the from the RAI the this DNS and IP typically, and the DNS the IP RAI offers IP and DNS the RAI ADSL to this to the RAI the of the XSR as the of the the of RAI where DHCP to the the the DNS or TFTP the this the branch XSR) to know the IP of the Since the branch router and knowledge of the DNS or TFTP access. RAI to correctly, the of the (other of the FR DLCI, PPP or to the to This the the (Remote Router) The FR interface the FR of LMI. If the or to the the FR interface RAI of the the Command Interface XSR
the Command Interface the XSR RAI each DLCI, to interface and TFTP with The first DLCI that accomplishes this chosen. If the RAI and Phase media-type. If the DLCI of the and the DLCI that interface The DLCI the around to the first DLCI to indefinitely and as the command. with to with NIM abort RAI immediately and to the While RAI ARP, and other the optionally to the phase of the process. It recommended that the to these The to with the MAC of the first Ethernet the as the The MAC chosen this with to associated based the FR/routers which functionality the FR this field and to locally with the the the The IP assigned the the as the IP DNS The with the IP from as the This The the router to IP to to the the command to the DNS IP TFTP The TFTP broadcasts the hostname-config first. The TFTP with reply, from then both the and The TFTP the router to IP the interface to to the If the found or read-protected, the TFTP the shown below. Once the exhausted, the DLCI from FR tried. Hostname-confg If the respond, RAI the DLCI, and as At the the router to from router. If service to then this
With DHCP relay and functionality this DLCI from this DLCI. Unicast to the DLCI DLCI that statically-mapped DLCI with IP This both and sub-interfaces. the XSR internal or TFTP the to the sub-interface with A.B.C.D DHCP LAN (RAI The DHCP LAN RAI to XSR. RAI Ethernet from TFTP that to the router. This then to as the and procedures. DHCP the first Ethernet It DHCP to seconds and received, RAI to the RAI type. The DHCP the following information: IP This the DHCP assign MAC to the IP This optional otherwise DNS required. TFTP This optional otherwise TFTP its This optional the or of the following played If the IP the DNS and then TFTP to the If the the as as the TFTP then the TFTP initiated as containing the DHCP If the the DNS tried. The the provided. The DHCP usually assignment first-come, first-serve from RAI to properly, the DHCP statically the MAC to the IP that DNS. to the XSR to try the from the TFTP The DHCP the following information: IP This because the DHCP MAC to the IP This optional DHCP Option TFTP This optional DHCP Option This optional DHCP Option The DHCP RAI Ethernet PC/Unix/Linux-based and the assignment of IP based MAC used. the Command Interface XSR
the Command Interface the XSR PPP RAI Leased PPP leased to RAI leased PPP established from the XSR to the router. Then the XSR its IP assign IP the router to the XSR IP the XSR the RAI DNS and TFTP At the the with PPP required, the PPP option and interface created. The router with IP the interface PPP and PPP PPP RAI PPP RAI as background that the and the to while the other RAI type Leased operating the other as the reaches PPP the of the RAI terminated. RAI to the interface or the switched BRI/PRI interface. to leased PPP RAI, PPP the from the XSR to the router. Authentication then the authentication, the XSR the IP through IP assigned the router to the XSR with IP PPP RAI directed to the following with type The first BRI found the XSR or, The first PRI found the XSR or, The found the XSR the first to Leased RAI). The interface (D to and PPP to CHAP or PAP authentication. While authenticated the the of the XSR as the user and the The which PPP authentication type to or The interfaces IP and assigned PPP to PPP leased RAI. to the XSR Started PPP RAI ADSL RAI ADSL the ADSL to other RAI RAI to to the from the TFTP To reach the TFTP RAI ADSL to the DSLAM with PVC and establish the with the The that terminates the the XSR the TFTP and to TFTP (that or the as the the XSR without the and the ADSL the first RAI RAI ADSL. If that RAI to other RAI RAI ADSL through four phases to the XSR which it displays about the of the
CLI Editing The first phase establishes physical the ADLS RAI ADSL physical the first of the ADSL to succeed. If it RAI ADSL RAI and to the RAI with the DSLAM, RAI PVC the ADSL this hase, ADSL the DSLAM that terminates the ADSL physical to VPI and VCI the PVC, RAI ADSL F5 OAM the and collects from the the DSLAM. RAI searches from VPI 0/VCI and VPI=128/VCI=128. ADSL RAI conducts search of the VPI/VCI searching PVC with high VPI/VCI Currently, RAI VPI/VCI numbers. RAI phase the first PVC that OAM or the PVC which ADSL RAI and to the RAI the phase, RAI the first of the ADSL with the PVC. If there than PVC, RAI with the first ADSL RAI SNAP and MUX. If authentication required, RAI ADSL CHAP or PAP and the of the XSR as its username and the with the XSR to authenticate successfully. If authentication succeeds, the IP from the and the IP RAI ADSL authentication and the IP to If to the or both that PVC to the PVC. where there other to try, RAI ADSL RAI and to the RAI The phase TFTP, where RAI the This phase to other RAI TFTP broadcasts the the TFTP that the terminating the this to the TFTP the IP The the of the If TFTP and that previously RAI to and the ATM interface with PVC. ADSL RAI and to the RAI To the CLI efficiently, of the following CLI commands SHOW VERSION or to the software revision. community from community Command You commands and to the of characters that the to to other commands with the the than this the to to the or ENTER to The characters high and they from to characters the command. to the XSR CLI Reference information about the command. the Command Interface XSR
the Command Interface CLI Shortcuts Command Command Ctrl to of Ctrl Previous CLI command history Ctrl back character Ctrl Ctrl as the CLI command Ctrl characters Ctrl character Ctrl Ctrl to of Ctrl characters Ctrl character Ctrl the recently item Ctrl character Ctrl as the CLI command Ctrl character Ctrl characters back Ctrl to of Ctrl Next CLI history CLI the XSR Command commands the history to the commands. You and commands shortcut Ctrl the previous/next command respectively and repeatedly. The up-arrow or the these Completion Pressing the TAB or CTRL command. of match, the completed to the character which leads to and the the command to Pressing the return/ENTER the of CLI command. At the character to of commands/parameters displayed the issued to or the these characters as follows: input detected XSR# CLI Editing Command to the following these shortcuts. The CLI of of commands to issued from each Also, and the or to the the interface Crypto both Interface and Crypto to Table of operation.
CLI Function Access Prompt EXEC Password-protected basic information Privileged This EXEC operating Shows copying the to the Interface Modifies/assigns interface interface-type port-by-port Router RIP, OSPF or BGP router XSR(config-router)# to graphic of Tree Crypto Interface if-type Router router-parameter Config-Router The footnotes below to options cited the The interface type of the following: FastEthernet, BRI, loopback, VPN, or ATM Router RIP, OSPF or BGP of the following: T1, E1, T3 or E3 XSR> EXEC XSR# Privileged EXEC EXEC EXEC commands the Command Interface commands T3/E3 XSR T1/E1
the Command Interface EXEC Privileged EXEC Exiting From the the XSR this without other access- commands EXEC, Privileged EXEC or higher You EXEC (or EXEC) The following commands EXEC and traceroute to PRIV EXEC specified this apply to XSR such as the clock. Supported EXEC commands clear, clock, traceroute, and write such as interfaces, and routing The following the Interface At this port-by-port You this interface interface-type <interface the gigabitethernet The XSR the following Router At this associated with the RIP or OSPF You reach this router [RIP, OSPF] XSR(config)#router The XSR the following XSR(config-router)# Several other including AAA, Class-Map, Crypto, IP, and of these within them. of these commands from with each from the to to Privileged EXEC from or as the that from and to the the
Command and the following to Privileged EXEC Interface the IP and this FastEthernet Interface Privileged EXEC XSR> to EXEC to from to another The CLI and the XSR the below. Table Command and or optional with choice of with of Combination of with and choice of optional (config-if<xx>) the interface type; F1 G3 S2/1.0 D1 L0 BRI PRI (T1/E1, T3/E3, ATM) VPN the following interface fastEthernet/gigabitethernet loopback interface-number and interface fastEthernet gigabitethernet and interface-number optional Syntactically, each with or of and, lastly, or optional the below: and optional offered as and options of or the Command Interface XSR
the Command Interface CLI Command and Interfaces Supported Physical Interfaces Interfaces the XSR CLI commands the XSR bounded the following: of characters command of of history recalled: of characters of characters Technically, physical with physical XSR FastEthernet (XSR or (XSR ATM, BRI, Loopback, T1/E1T3/E3, and interface and the physical, and of the network The terms interchangeably this The XSR types, including LAN, and WAN Asynchronous, Synchronous, T1/E1, and with and or Generally, PPP and PPP optional) WAN and WAN LAN. ISDN BRI and PRI. The XSR the following physical interfaces: FastEthernet/GigabitEthernet LAN consisting of physical, and IP functionality. or consisting of physical, (PPP) and IP functionality. T1/E1 (PRI) consisting of its physical, (PPP or and IP functionality. The XSR the following interfaces: Interface includes physical interfaces from the physical functionality including (PPP), and IP functionality. Sub-Interface NBMA NBMA the of such X.25, and ATM. One physical interface or sub-interfaces which of or the physical interface. Sub-interface and its or or X.25 and or of ATM This interface its physical functionality with other sub-interfaces, each its own (PPP or and IP functionality.
XSR Cards, and Interface and The XSR the following types: and ATM type BRI, T1/E1 The XSR and the CLI, illustrated These (motherboard (XSR NIM (FastEth: from to right) NIM with cards, and the motherboard Card or or or and or The first cards, and the first XSR-3250 Card or and cards, and the XSR-3250 Card or and The the XSR as follows: Interface physical using the command, and this then using the interface command. XSR interface and as follows: Physical-type interface and Interface BRI, ATM, PRI (T1/E1), or the XSR-3250 Motherboard the Command Interface XSR
the Command Interface the XSR Interfaces: Loopback to Interface type: Loopback. to Interface type: VPN to Interface type: VPN to Interface type: VPN DLCI to Interface type: Sub-interface with physical interface, as follows: ATM, BRI, and to to The number.sub-interface ort number.channelgroupnumber.subinterface The following interface FastEthernet interface fastethernet interface/port shutdown the interface T1 NIM and to shutdown the interface interface interface type to PPP shutdown the interface T1-PRI (ISDN) PRI NIM ISDN, to to NIM T1 NIM to sub-interface switch-type Selects switch type to interface interface IP to Its physical interface interface NIM interface type to PPP of and eventually shutdown the interface interface interface NIM interface type to PPP of and eventually shutdown the interface
(IDSN) interface interface IP Interface/Sub-interface XSR interfaces and sub-interfaces, and and the interface. Interface characteristics as follows: T1/E1 Creating interface. when the command the XSR with assigned to You this the where the following displayed: interface You other creating the following commands: the following interfaces interface interface You those interfaces the which created them This This To and associated interfaces, the PRI NIM PRI interface, created as follows: Creating PRI interface internally, to the interface anywhere. the associated with the as follows: BRI NIM BRI interface, leased or switched Leased leased created and to the interface leased-line This leased-line This These interfaces the interface the Command Interface XSR
the Command Interface Commands that the XSR Switched switched BRI three created when interface switch-type The following sub-interfaces interface interface interface These with the switch-type command: interface switch-type This and of CLI commands such as and access-list the XSR. of Single-instance The ARP which and each the they The Access-List which there with each containing and each entry. displayed the they With commands. the type of the optional or required. the ARP three and optional the the following command: type: where the and type of to or the IP to the MAC ARP type, as as command, that or the ARP as follows: where access-list the and the type of to or the ID of the to the type of authorized and the that should
Table Table Table XSR Interfaces There to from the type. the related to where the that the previous and the associated type. as follows: access-list access-list where the that clears the access-list first the then the with the ARP the to the where the and ID with which the the ARP the following: first of associated with MAC Then, this to associated with the MAC You ARP access-list gateway-type IP routing and other EXEC the following Interface ARPA FastEthernet2 ARPA FastEthernet2 ARPA ARPA FastEthernet2 ARPA FastEthernet2 ARPA FastEthernet2 ARPA You Interface XSR To Interface type the following, FastEthernet the Command Interface XSR
the Command Interface Interface Interface Interface Interface the XSR or associated clock group, and to the XSR CLI Reference Interface commands. interfaces The following interface. shutdown interface interface with the shutdown command: XSR(config-if<S2/0>)#shutdown interface You interface only Interface Each interface with of interface-specific commands. If which commands type to them the the following of commands to GigabitEthernet interface: gigabitethernet Text this interface Manually the interface of the interactive Interface commands loopback interface internal loopback or its shutdown Shutdown the selected interface Manually the Interface You the of interface when Privileged EXEC or type: interface fastethernet or: XSR(config)#show interface
Commands Performing the XSR, whether or as as and authentication routed to with the command. the command, to while to others. operation, should HIGH severity which and those intervention. that the XSR LOW and DEBUG the too to them. The of the command. that the DEBUG only. The XSR the following (to the to CLI memory) CompactFlash when (with to This the firewall Security the XSR information) SNMP Trap XSR to the SNMP You based the severity of the high and with the command. that that Also, ACL with the access-list and them every Alternatively, the when reaches specified threshold with access- log-update-threshold Generally, with and or clear the memory with history and clear commands, respectively. that the history when the XSR to A: and ASCII A-1 thorough of XSR and the XSR CLI Reference software the to the Report, and the router automatically. The the it the following to the of of of (the crashed the Command Interface XSR
the Command Interface Commands the XSR of of around the crash counter Memory statistics The router Report, the first of It RAM memory which the XSR the router of catastrophic Typically, the once second. If the software and seconds the induce which initiates the of the seconds, the CPU and the XSR reports from the CLI interface and to the XSR crash, the following PLATF from crash The command displays the to the XSR CLI Reference The clear to reports and the XSR to recommends that the following commands from EXEC to and the process. The clear command should once that the text completely the recoverable history clear
the Clock RTC/Network Clock RTC Commands the The Clock (RTC) other software to and when clock It normally with clock the using the Network (SNTP) with the battery-supported RTC SNTP Chapter Software the XSR Started SNTP the RTC with clock there clock the RTC clock its own. The RTC the with its when the XSR The clock with the clock command. The with clock command. To the SNTP the command. to the XSR CLI Reference command The consists of three which below. The to the and or Factory These the factory. If and them or the found, the XSR to factory You manually to factory XSR routers the the back of the XSR and routers with factory the CLI as the section. These as the when or the command. The (Flash) memory as the The of CLI commands. the XSR each CLI this and executed. The SNMP related commands. the XSR each CLI this and The updated or created when the to the These known as running-config include commands from and revisions. to the or to using the or write command. The XSR commands as they and with those commands which the Command Interface XSR
the Command Interface the to Factory the (XSR Only) the XSR where the XSR software or booting the router and to its factory Bootrom these with the first seconds of CTRL-C to Bootrom prompted characters previously If incorrect the XSR and to trying to the prompted to factory to the XSR CLI Reference and XSR Started about Bootrom You from the factory the the of the XSR and routers. Doing the the memory. the the XSR the following operations: Software as Software the XSR XSR with Bootrom to cleared Security-sensitive from Bootrom to from memory Pressing the memory. XSR-1805 (right) and XSR-1220/35
Downloading the There options If to the to memory with the running-config command. If to the the which the XSR and the If to the to TFTP the command. the associated below. If to the manually from using TFTP the command. to information about this and the command. If to including to the flash: tftp:<any_name> when the XSR, and the tftp:<any_name> flash:full-config command when restoring the XSR. to about the command. To the running-config, the running-config command. To the the command. to the XSR CLI Reference of MS-DOS commands with The XSR the memory. You with the command, with the command, with the command, software with the command, and and directory with the and commands, respectively. to the XSR CLI Reference The XSR action CLI commands as ASCII then the to the router TFTP or locally from cflash: There the of the though. If the than the then the operation abort Downloading from to the TFTP or locally from cflash: The ASCII-format include To the correctly, the TFTP with the the TFTP directory of the You then the EXEC to the from the to the XSR. the first cflash: then to flash: with the cflash:startup-config flash:startup-config command. the Command Interface XSR
the Command Interface Uploading the Configuration/Crash Creating the XSR If to the CLI the of the commands that to the XSR CLI Reference the XSR to CLI TFTP. You the with TFTP. To the correctly, the TFTP You then the IP EXEC to the to the the following of Destination Copy from to as to You the crash TFTP using the as the to the to the XSR CLI Reference and the including VPN users, usernames, certificates, and and to with This to the the to the temporary then the and other that the both the XSR) and the XSR) operations. Information the as ASCII text or encrypted The backup/restore option using SNMP. to Backup/Restore The XSR to option to of flash: or cflash: and The the process. You the To to and to the command. Then the to the
the Software Creating Software BootRom Choices The XSR than software Flash. The XSR software option to software and the the command to boot-config containing the of software The boot-config the the process. the boot-config from the software Flash, If the from reason, the XSR to the software from the network based the Bootrom to the following section from to the XSR the XSR the the Bootrom commands and to the Bootrom from You from the CLI the following With Bootrom first the firmware to Release the copying the to the directory and Copy Bootrom to the Flash: directory. the following from the CLI: bootrom where the The XSR and from to the XSR There to If the Bootrom Utility, the and bootrom these to Bootrom to the Bootrom Utility If the Bootrom Utility, to from to Bootrom to and the bootrom_uncmp.fls and bootromX_xx1.fls Bootrom Procedures XSR firmware Bootrom DB-9 to (HyperTerminal, with and flow Ethernet the first interface (located to the switch). to the FTP or TFTP PC with known and the Bootrom the bootrom1_ the Command Interface XSR
the Command Interface the XSR Optionally CompactFlash the firmware to cflash: then below) the (lower-case command. If the TFTP/BOOTP Services which first the Bootrom to characters or with the bootnew.fls the the that factory to and congested to firmware or other downloading. the Bootrom The Bootrom the sectors of the on-board memory. This to the from allowing Bootrom to remotely. The as and both and of the Bootrom the Bootrom the XSR that XSR text displayed input appears From CLI the boot-config to software flash: (the Bootrom than the flash:boot-config to EXEC and this boot-config least of flash the command. If The following the software XSR-1805# Directory flash:/ OCT-31-2002 OCT-31-2002 OCT-31-2002 boot-config free TFTP, the Bootrom from the The bootrom.fls: tftp://192.168.27.95/C:/tftpDir/ bootrom2_01.fls flash:bootrom.fls Copy 'tftpDir/bootrom2_01.fls' from as 'bootrom.fls' Download from
TFTP, from the XSR-1805# tftp://192.168.27.95/C:/tftpDir/ updateBootrom.fls flash:updateBootrom.fls Copy 'tftpDir/updateBootrom.fls' from as 'updateBootrom.fls' Download from Copy boot-config to restore-boot-config XSR-1805# flash:boot-config flash:restore-boot-config Copy 'boot-config' from flash: as 'restore-boot-config' flash: copying flash:boot-config flash:restore-boot-config Copy OK: boot-config to updateBootrom.fls flash:boot-config the of and the of boot-config and restore-boot-config to the smoothly: XSR-1805# Directory flash:/ OCT-31-2002 OCT-31-2002 OCT-31-2002 bootrom.fls OCT-31-2002 OCT-31-2002 boot-config OCT-31-2002 restore-boot-config XSR-1805# boot-config updateBootrom.fls XSR-1805# restore-boot-config This and completed proceeding. and of You as the The XSR and the Bootrom the flash sectors. or the XSR The restore-boot-config to boot-config and and bootrom.fls the router Proceed with that the and the Bootrom the Command Interface XSR
the Command Interface the XSR Bootrom to the the of the Bootrom and when these only. This the Bootrom of the Bootrom and to to of the Bootrom rejected to the bootrom_uncmp.fls non-redundant Bootrom that the existing and with this the (which the to the Bootrom to that with bootrom_uncmp.fls the following the of to with bootrom2_01.fls and Bootrom (which the bootFirst summary, when to Bootrom only the first with the bootrom_uncmp.fls then with the To the Bootrom the following the XSR the switch and the front the VPN, NIM1 and NIM2 off, immediately the If this off and The Bootrom should appear as follows: Security Router Bootrom Copyright Inc. HW REV0A CPU: IBM 405GP VxWorks Bootrom Creation Cold from ROM Bootrom The to XSR1800: or to the to the group. to the command group. the command, assign the following: IP (of the XSR). IP (The the as the XSR).
(without the of the of the Bootrom the PC. The username and to when connecting to FTP the PC. the the command. XSR: IP Remote IP Remote FTP anonymous XSR Autoboot MAC PCI ethernet MAC to the command group. the command to the Bootrom FTP and the Bootrom sectors to the to the with and follow the If the Bootrom to interruption, this the router If this type the to abort and the Then, the (type: bootrom1_21.fls and the to the XSR1800: bootrom_uncmp.fls RETR bootrom_uncmp.fls bootrom_uncmp.fls to flash: bootrom_uncmp.fls Checking bootrom_uncmp.fls... bootrom with bootrom_uncmp.fls. Proceed with Bootrom and with bootrom_uncmp.fls? or sectors Bootrom sectors Bootrom sectors of Bootrom sectors the Command Interface XSR
the Command Interface Loading Software EOS to the the XSR Bootrom flash sectors Bootrom sectors Bootrom sectors Bootrom completed. to the bootrom bootrom_uncmp.fls? Bootrom The to the XSR with: bootrom2_01.fls the XSR Bootrom memory and the information, the SSR Release Notes If the XSR Bootrom firmware, the software from Bootrom FTP. You the option of copying the remotely from TFTP the flash: command, or locally from cflash: the cflash: command. that should the the XSR temporarily without software flash: and should or downloaded. Also, the CLI which initiated the TFTP with character repeatedly shown to The easy to (EOS) as from the CLI the or SNMP. If the the XSR back to the previous The functionality as follows: which the XSR from. this loads, the EOS The the XSR crashes, and optionally the or whether the XSR SNMP with the If the following PLATF: EOS Completed, OK If the the XSR and with the secondary the the and the from SNMP crash and as follows to these If XSR with the secondary EOS the and
If the to XSR another If indicated, If XSR crashes, reloading. Technical EOS from the CLI or SNMP. to the following section to the the CLI or EOS SNMP SNMP instructions. EOS the CLI the EOS bootrom and the router both the bootrom and as follows each router type: XSR bootrom XSR bootrom XSR bootrom to BootRom Choices Copy the EOS to the or Compact memory as flash:xsr1800.fls or cflash:xsr1800.fls If the directory, the chosen flash: The XSR directory the to cflash: RAM routers capacity and the primary-file {cflash: flash:} snmp [ip-address]] command. type: cflash:xsr3004.fls snmp to the CLI Reference information the command. EOS SNMP The following EOS through the SNMP Enterasys-image-validation- and You EOS the CLI specifying the and the XSR. to EOS the CLI the previous section. EOS the OID the Enterasys-Image- to other this MIB. to to the and snmp EOS as follows: EOS to and snmp SNMP from the PC with IP The supported. to the Table that the the which include the and (flash: or cflash:): file://cflash:/xsr3004.fls the Command Interface XSR
the Command Interface Downloading with FIPS Security Software Commands the XSR the to imageSetSelected the to active The cflash:xsr3004.fls already the XSR, otherwise the this the XSR to the the following: to resetSoftwareset the to active: The MIB Etsysconfigmgmtchangedelaytime and that the than the with Information Processing (FIPS) security, XSR routers than You specify the HMAC SHA-1 using the Bootrom command or the sw-verification the CLI. Follow the as instructed. FIPS .FLS with the incoming FLS from TFTP, SNMP and CompactFlash. FIPS back revisioning To FIPS, the the XSR to clear including the FIPS and the XSR only, FIPS Bootrom You prompted the XSR to the factory and clears the FIPS You the of the software including such as the firmware software release and the command. the to actively the of the software command to the XSR CLI Reference Transparently, the XSR hashes and them SNMP to or the MD5 conducted the following
and Statistics Memory Creating the XSR the of these and memory. From then the of those the and You the the SNMP and with previous to to the entity. The commands, which EXEC or broad of such and their CPU revision, memory and DRAM NIM and type, and Flash, and location. XSR statistics: counters, and NIM To commands, the command. such as the type and of the motherboard, and Ethernet MAC IDROM, memory. You these the command. to the XSR CLI Reference about these commands. The XSR memory its Capacity Capacity the hard-coded of earlier releases that choose which software to based memory to creation that the XSR of memory and improperly. The XSR as software which created or created memory the memory function. the memory to free Currently, approximately including VPN Access and ARP memory which with the command. VPN and each Instance Capacity. The of instances which created where practically other that although that instances. hard-coded, they and their the amount of memory the XSR. You instance of the that and the amount of memory. creating of memory, should the right to the XSR to with VPN this the of as earlier releases. Alternatively, route-heavy with only memory balanced. Memory XSR
Network through SNMP Network through SNMP the XSR the memory to allow or the based memory You the of as as the memory Once the and to then free earlier The memory creation as follows: memory the memory If memory than creation memory carved. Each free and others) least the of to creation. The XSR memory efficiently of memory Memory based received. memory There than fixed-size with the amount of each You memory with the and commands. If to and of to the XSR when to memory carving. that creation the of reached. AAA users than the both and respectively. Doing the XSR and to the XSR the SNMP (READ-ONLY) including and and SNMP and MIB II as as MIBs, as the following of and MIB to the Chapter Network of the XSR to SNMP to gather statistics or the first the SNMP with the commands. community informs and SNMP includes options to specify and and associated commands. The to SNMP their SNMP or ID. SNMP the Flash. Although SNMP SNMP the to XSR SNMP and Associated MIBs B-1 information about and
SNMP Informs Trap Traffic Statistics SNMP Informs first introduced Inform nothing than acknowledged That when Inform back I Inform the with the and the securityName and as the Remote The SNMP the as other would and the with the that the expecting to SNMP the XSR CLI and SNMP SNMP with IP to with the command. SNMP each the ID which to the Security (USM). With the SNMP USM, the XSR of IDs and users. To inform first the ID of the SNMP with USM users then with Complete the using to SNMP that informs. The snmp- informs command to the retry, timeout and The the SNMP This both and informs. of SNMP commands, to the XSR CLI Reference to NetSight Router Services to and SNMP the SNMP boot-up, manually the SNMP the CLI, or to caused SNMP The first, the min-trap-spacing command, to that they spaced without causing and the of The the of that The of the of to the If the of the previous window-time than the the max-traps-per-window command, then Both and and when both and as as both methods. The XSR SNMP Chapter Network of the XSR CLI Reference Also, to NetSight Router Services to and SNMP Network through SNMP XSR
Network through SNMP (Traps) Network Service Measuring Performance the XSR The following SNMP snmpTrapColdStart, snmpTrapWarmStart, snmpTrapLinkDown, snmpTrapAuthFailure, entityTrapConfigChange, frameRelayTrapfrDLCIStatusChange, ospfTrapIfStateChange, ospfTrapVirtIfStateChange, ospfTrapNbrStateChange, ospfTrapVirtNbrStateChange, ospfTrapIfConfigError, ospfTrapVirtIfConfigError, ospfTrapIfAuthFailure, ospfTrapVirtIfAuthFailure, ospfTrapIfRxBadPacket, ospfTrapVirtIfRxBadPacket, ospfTrapLsdbOverflow, ospfTrapLsdbApproachingOverflow, bgpTrapEstablished, and bgpTrapBackwardTransition. SNMP A: and ASCII A-1. The XSR Service (SLA) to performance based latency, and as as to the You the XSR and which the type of operation ICMP to the There interfaces which choose from to CLI or SNMP The SLA the CLI based the facto industry whereas the MIB the SNMP interface based the Enterasys-Service- Level-Reporting-MIB (SLR). This MIB based the IP Performance Reporting MIB RFC The SLR MIB classifies performance and as follows: Network each the of or such as and round-trip classified as while round-trip and which based classified as This further the following The SLA statistics based round-trip and includes XSR information SLA-related CLI commands, to the XSR CLI Reference to Service Reporting MIB B-1 of and from the Service Reporting MIB. XSR performance measured as follows: the the the the
Latency measured with the which the round-trip and receiving the ICMP the and back the the and as the the XSR the round the the instead of the If ICMP within specified This allow the to whether the the to the or when the from the back to the The following CLI and SNMP to to and The XSR the first of the If to another RTR owner, follow the instructions below. CLI The following the SNMP The below user of the (the instance as indicated the to active (active) The userA to the ASCII which to the If to the owner, the ASCII of the to ASCII Character A-19 information. With NetSight MIB the ASCII from the as shown NetSight MIB Screen to CLI The following to IP XSR(config-rtr-echo-1)#type ipIcmpEcho Network through SNMP XSR
Network through SNMP the XSR SNMP The following the with userA If the created with with the the CLI The following immediately: SNMP The following the the the to which the of the 0796BD1048F5C28F the to active and the
the SLA SNMP MIB MIB that the previous the CLI The following displays history SNMP the The SLA the Service Reporting MIB and as the following which cross-reference each other. to as specified the CLI. to B: Service Reporting MIB B-1 The XSR and SNMP the and MIBs. Follow the below. Select the downLoadConfiguration(4) and operations the ctDLOnLineDownload field. Specify the of the TFTP the with the ctDLOnLineDownload the the field. that the XSR downloaded, and to RAM. of the and and temporary then to the TFTP the and configurationDownload(6) operations the field. Specify the as to the the issued causing to and become the active The This action initiates The and of the follows the as the MIB or other Network through SNMP XSR
Network through SNMP Software Download NetSight CLI CLI Commands to SNMP the XSR The NetSight to the XSR using TFTP. The software initiated through NetSight using SNMP command, which TFTP initiated from the XSR. The XSR off-line SNMP. That when NetSight to with titled If the the SNMP NetSight information. SNMP Download with Auto-Reboot Option To this option, first the following to allow to the XSR using SNMP: XSR(config)#snmp-server NetSight to with titled If the checked, the XSR the If the command and the chose the option, the would The XSR CLI as stand-alone CLI or NetSight to CLI which to the XSR through TFTP. The XSR containing CLI commands to using SNMP. This the the MIB CLI commands. as follows: TFTP, the to the Flash: directory temporary If while the to the SNMP and displayed the field. Once the the and reading the CLI commands from the If another then displayed the and the temporary the SNMP that the If the through the SNMP The to the the CLI. The SNMP that the and the temporary then Follow the below to the append: this that TFTP PC.
Accessing the XSR Through the Network NetSight Router Services Procedures ASCII containing the CLI commands interface FastEthernet2 shutdown and the to the directory of the TFTP PC. to the MIB CreateAndWait If the should the to to the PC: the operation to the to active The the of the running-config That the when the running-config that the the from the information, to the MIB The XSR cursory of to the router the the boot-up, manually the using the CLI, or The Access to the XSR through the protected. The following to the XSR the XSR firewall and Access (ACL) the NetSight Router Services information, to the following URL: NetSight to the following URL: of the XSR and Enterasys NetSight Accessing the XSR Through the XSR
Network the CLI Downloads SNMP Downloads Reporting the XSR TFTP to firmware to the XSR remotely. TFTP the and the the TFTP directory of the when using the command. You SNMP to or from and to the XSR. supported. This the ctDLNetAddress and and ctDLOnLineDownLoad the CTRON-DOWNLOAD-MIB. the following URL: through TFTP. The to the crash the as the to to Performing information. The NetSight XSR the SNMP with the following MIB NetSight using ICMP
of LAN Interfaces LAN The XSR Base-T FastEthernet the XSR branch routers and three Base-T the XSR routers. of half- and and ANSI/IEEE and ANSI/ IEEE These to Ethernet LAN connectivity. The interfaces the following Allow the XSR to to of of or or the of the or Allow to commands through the Command Interface (CLI) MIB-II (RFC-1213) interface statistics the and reception of and The XSR the following LAN interface features: to and ASCII A-1 this the command with the following options: half-duplex the interface Unicast which the MAC of the Unit (MRU) than or to including the FCS. than accepted. of or accepted. LAN/WAN Interfaces XSR
the LAN the LAN MIB Statistics LAN/WAN Interfaces Unit (MTU) than or to accepted. MTU the command. using the with the following options: Statistics MIB-II interface statistics Clear commands such as clear counters FastEthernet and clear counters gigabitethernet which the MIB-II counters, and clear interface FastEthernet and clear interface GigabitEthernet which the interface counters and interface troubleshooting. the following commands to FastEthernet interface fastethernet shutdown the following commands to GigabitEthernet interface network gigabitethernet shutdown The following reflects MIB-II (RFC-1213) statistics collected LAN interface. Table MIB-II Interface Statistics of the interface. IfType of the interface once, and IfMtu of the that sent/received the interface, specified bytes. of the interface's or Interface's its (the MAC the interface. of the interface. ifLastChange of when the interface its IfInOctets of the interface. ifInUcastPkts of subnetwork-unicast to higher
of WAN Interfaces WAN MIB-II Interface Statistics ifInNUcastPkts of to higher IfInDiscards of inbound IfInErrors of inbound that IfOutOctets of transmitted the interface of subnetwork-unicast to the of to the of outbound that to IfOutDiscards of outbound The XSR as as XSR-3250), each of which four of individually media-type, and The WAN interface the following the from and to the Allow CLI commands to issued. MIB-II (RFC-1213) interface statistics the and reception of and The XSR the following WAN interface features: to and ASCII A-1 this Interfaces The following interface the media-type command: RS232 known as V.28) RS422 known as RS-530) RS449 known as V.36) RS530A V.35 X.21 or physical-layer Encoding On interfaces, NRZI (NRZ the of WAN Interfaces XSR
the WAN the WAN LAN/WAN Interfaces Clocking interfaces, clock provided. clock from to interfaces, the clock internally and to the following using clock Statistics MIB-II interface statistics supported. Clear commands such as clear counters and clear interface interface troubleshooting. commands such as and of the Unit MRU (including CRC). the following commands to T1 or interface. information the commands to the XSR CLI Reference and other this The following the T1 NIM T1 with the of ESF and B8ZS encoding. It with and assigns the IP to the and PPP T1 T1 shutdown shutdown
The following the interface NIM with the following PPP RS422 cabling, clock MTU of bytes, parity, and It assigns the IP to the interface. Although the XSR to to the and as as the (AT commands XSR(config-if<S2/0>)#physical-layer XSR(config-if<S2/0>)#media-type XSR(config-if<S2/0>)#clock XSR(config-if<S2/0>)#ip XSR(config-if<S2/0>)#parity shutdown The following the XSR to XSR(config-if<S2/0>)#physical-layer XSR(config-if<S2/0>)#clock shutdown XSR(config-if<S2/0>)#interface shutdown the WAN XSR
the WAN LAN/WAN Interfaces
T1/E1 Functionality T3/E3 Functionality T1/E1 T1/E1 T3/E3 Interfaces The XSR and PPP service T1/E1 and T3/E3 functionality as as and features. The XSR T1/E1 subsystem NIM-based I/O with of NIMs. the type and each or T1 or E1 physical You T1, interface or E1, interface both the interface T1/E1 (the interface assigned to T1/E1 assigned, with than the of T1/E1 physical or than physical fractional/channelized to DS0 assigned E1 interfaces and to DS0 assigned T1 interfaces. The of (DS0) or The XSR T3/E3 subsystem offers NIM-based I/O with T3/E3 and T3 and E3 DSU T3/E3 and fractional T3 interchangeable T3/E3 service that than T3 or E3 software NIM both The following features offered the T1/E1 interfaces: Integrated CSU/DSU and fractional Short and symmetrical interfaces with RJ-45/ 48C or 49C XSR
T3 E3 T1/E1 T3/E3 Interfaces and IP interface as to the CLI Reference and internal T1: SF, ESF; E1: CRC4, NO-CRC4 T1: AMI, B8ZS; E1: AMI, HDB3 inversion Loopback network FDL of and T1 and (D&I NIM) with One to One DS0 bypassing The following offered the T3/E3 interfaces: The following offered T3 interfaces: M13 and to and to interface BNC Clock to clock) and internal clock including overhead and Rate only) to supported: DL3100 T3 or Access T45-3100-44210 ADC Kentrox T3/E3 IDSU-1500-35000, T3SU HDM Scrambling as DSU ANSI T1.107 from the Performance statistics 24-hour and hours The following offered E3 interfaces: G751 or interface BNC Clock to clock) and internal clock
T1/E1 T3/E3 (G751) approximately to Compatible or DL3100 E3 ADC Kentrox T3/E3 IDSU Scrambling Performance Network Statistics RFC-2496- hour and hours Each T1/E1 physical as T1 or E1 This both T1/ E1 and fractional/channelized T1/E1 physical to of the following T1/E1 T1/E1 user Fractional T1/E1 assigned to T1/E1 physical T1/E1 than assigned to T1/E1 physical both and each Group, which might or of of the T1/E1 the software as interfaces. That that of the interfaces Each of the interfaces to with PPP encoding. Each T3/E3 physical as T3 or E3 This both and T3/E3 or unformatted service and that of the service The T3/E3 WAN as follows: service covered and international the T3/E3 T3 DS3 ANSI T1.107 E3 G.751. The of the to or PPP service of measured T3 service (burstable) T3 with charges based used. service includes It T3 or E3 which reduced Supported rates rates T3 to E3 to T3/E3 and XSR
T1 One-to-One DS0 and T1/E1 T3/E3 Interfaces Clear service to the service that the slightly higher the overhead to T3 Not E3 The D&I NIM to the and T1/E1 both and traffic, as shown The carrying terminated the on-board HDLC while the D&I NIM and terminated the downstream PBX. This NIM with and to the fractional T1/E1 NIM. the to the XSR CLI Reference associated commands. and NIM Topology T1-PBX PBX Clock The D&I NIM PRI. If the XSR the T1 cross-connected the relays. Consequently, the Office the The following the D&I NIM: The D&I allows Associated (CAS) DS0 to off the Office (CO) T1 or E1 interface and of the PBX T1 or E1 interface, as as both interfaces the NIM You the to the group. within the and bypassed the T1 or E1 D&I both the T1 or E1 interface connected and transparently to The CO T1/E1 and PBX T1/E1 bypassed relays to CO-PBX of or timeout. when the XSR with the D&I NIM the PBX and the T1 of the CO, there to the PBX. the XSR T1-CO terminate the XSR PSTN Clock
T1/E1 Interfaces The D&I NIM and the CO T1 and PBX T1 (ESF D4, B8ZS AMI), the the relays the the of XSR or The CO T1/E1 PPP or The T1E1 NIM includes the functionality as the Fractional T1E1 NIM. The PBX T1 of the features the E1 interface, as The CAS and to the D&I NIM the following to T1/E1 This T1 to that E1 and associated Specify the of the to This and Alternatively, and manually using of Specify the clock the The clock which of the the clocking Specify the type: Specify the type: Specify and to the group. the command. The and through and to as interface and individually. created as shown to them Interface as shown below. the shutdown command to the shutdown If IP routing assign IP and to the with the interface and commands: That NIM and Specify the to this interface. this PPP used. T1/E1 Interfaces XSR
T3/E3 Interfaces T3/E3 Interfaces T1/E1 T3/E3 Interfaces commands to IP- or PPP-related the shutdown and commands to the interface and to the previous to shutdown the following to T3 or E3 If to the first commands. The commands IP routing, WAN/LAN and optional T3 Specify the of the to This the and the shutdown Optionally to internal clocking. internal Optionally to the following commands to the DSU and If IP routing assign IP and to the group. That NIM and Specify the to this interface. this PPP used. the shutdown Optionally to to XSR(config-if<S1/0:0>)#ip LAN interfaces. GigabitEthernet interface with and GigabitEthernet shutdown GigabitEthernet shutdown
Troubleshooting T1/E1 T3/E3 T1/E1 T3/E3 Physical Troubleshooting This section troubleshooting T1/E1 the XSR. The following shows to T1/E1 T3/E3 Troubleshooting Flowchart the the the the loopback there there If T1/E1 or T3/E3 function as service/network shown three troubleshooting actions T1/E1 T3/E3 Physical troubleshooting of T1/E1 T3/E3 T1/E1 T3/E3 This section the and procedures to troubleshoot T1/E1 or T3/E3 physical The troubleshooting below displays the procedures the following section. the following commands to the shutdown of of the following commands to off: (T1/E1) to and to Troubleshooting T1/E1 T3/E3 to XSR
Troubleshooting T1/E1 T3/E3 T1/E1 T3/E3 Interfaces T1/E1 T3/E3 Physical Troubleshooting Flowchart of of the and The and statistics caused incorrectly including coding, and clock T1/E1 or T3/E3 created with associated or group, three states: Administratively If the shutdown when the or the shutdown command already created associated that they If the shutdown the associated the physical the the and when the associated interface using the shutdown Interface the become This there one-to-one and interfaces; interface its the Follow these to the to this type of of of the following commands to the or the the correct? the following commands to the LBO: cablelength long/short (T1) cablelength (T3) If T1/E1 or T3/E3 function as service/network
T1/E1 T3/E3 Indication (AIS the shutdown If the T1/E1or T3/E3 and that the T3/E3 NIM LOS or LOF or of the following displays the of (LOF), or of (LOS) Complete the following the of the the matches the of the If the the Build-Out (LBO) cablelength long/short (T1) or cablelength (T3) commands. If service LBO Complete the following the of the the interface and the T1/E1 or T3/E3 service connected correctly. the or other physical the the the following to troubleshoot that within the T1/E1 or T3/E3 The following troubleshooting displays the procedures. T1/E1 T3/E3 Troubleshooting Remote Indication to to If Indication reported, service/network Indication reported, the that the of the matches the of the service What of reported? If Remote reported, the If T1/E1 or T3/E3 function as service/network Troubleshooting T1/E1 T3/E3 If XSR
Troubleshooting T1/E1 T3/E3 (RAI Indication (RAI Remote Indication (AIS T1/E1 T3/E3 Interfaces loopback the T1/E1 or T3/E3 the to To the type of the the of the XSR. If reported, service the loopback and the the the XSR. the T1/E1 or T3/E3 to and the with the as the If the then the with the this Technical the the to that they match service the the the matches the of the If the the to match the of the the the and that they match service/network the that the the matches the of the If the the to match the of the the XSR. the T1/E1or T3/E3 to the with the as the If the loopback that If the Technical
T1/E1 T3/E3 T1/E1 T3/E3 Troubleshooting Actions Flow Remote Indication Indication loopback the there the cabling the XSR the to the to to This section that and troubleshooting information to of these The command displays the and statistics to the This information that the and the troubleshooting with troubleshooting the match the the cabling the the service/ the to the Troubleshooting T1/E1 T3/E3 the following commands to the XSR the This the to the The XSR
Troubleshooting T1/E1 T3/E3 Seconds Counter Increasing T1/E1 T3/E3 Interfaces T1/E1 T3/E3 Troubleshooting Flowchart the seconds counter increasing? the seconds counter increasing? the counter increasing? If function as service/network Statistics displayed with the every hours. That once the or created with the command, the 24-hour If seconds the T1/E1 or T3/E3 usually there clocking Complete the following to this the clock from the clocking extracted from the the T1/E1 or T3/E3 clock from the clock from the network/line? the type correct? theT1/E1 correct? the following commands to clocking: clock the below to the counter these commands to If T1, then LBO: cablelength the below to the counter If T3, then LBO: cablelength the following T1/E1 commands to If T1, then LBO: cablelength the below to the counter increasing: increasing: increasing:
Seconds Increasing Increasing the D&I NIM If seconds the T1/E1 usually there the following to this the the matches the of the the T1/E1 from (T1 Only) the (LBO) the cablelength or cablelength If the T1/E1 there the following to this the the matches the of the the T1/E1 from (T1 Only) the (LBO) using the cablelength and cablelength The following D&I instructs the XSR to terminate through of T1-0/1/0 PPP and the of the from T1 to T1 T0/1/0 connected to the Office and T0/1/1 connected to the PBX the the of the NIM. that the clock to the CO and internal locally. Alternately, of the B8ZS. XSR(config-controller<T1-0/1/0>)#drop-and-insert-group shutdown s1/0:0 shutdown XSR(config-controller<T1-0/1/1>)#drop-and-insert-group internal shutdown Troubleshooting T1/E1 T3/E3 XSR
Troubleshooting T1/E1 T3/E3 T1/E1 T3/E3 Interfaces
IP This the IP functionality including: IP (ARP, ICMP, TCP, UDP, TFTP, SSH, NAT, VRRP, Proxy DNS, IP routing (RIP, OSPF, routing, RIP VLAN routing Applicable IP the of the TCP/IP interconnects of packet-switched It TCP, UDP, and ICMP information as IP where IP four each containing numbers. IP three and of Unicast Broadcast of to Class A, B, and C as Class Class The following the XSR: routers RFC-1812 Ethernet of SNAP and DIX Procedure (ISSP) RFC-950 ARP and ARP Proxy DNS IP IP XSR
IP IP The Router ID with the router-id command or, from the existing Alternately, the Router ID as the highest IP loopback interfaces or, loopback interface the highest IP interfaces. loopback interface with the interface loopback command. BOOTP/DHCP relay Broadcasting: Directed and UDP forwarding ICMP ICMP Router Discovery Destination or TCP and acknowledgement TCP Congestion TCP/IP TCP high performance TCP selective acknowledgement option UDP SSH TFTP MTU Path MTU discovery MTU through the XSR). ICMP MTU issued the XSR with the These RFC-1191. Also, the XSR MTU discovery, that the XSR. MTU interface IP Interface interfaces Un-numbered interfaces to NBMA to Secondary IP
Troubleshooting Traceroute IP Routing RIP RIP OSPF including Overflow (RFC-1765) and Interfaces OSPF Static CIDR (IP classless) Router ID RFC-1850 RIP and OSPF interface OSPF VLAN Routing forwarding of Ethernet with 802.1Q VLAN GigabitEthernet interfaces VLAN IDs to VLAN IDs physical interface from to VLAN- XSR when when to another VLAN Locally sourced VLAN and VLAN interface their to Encapsulation VLAN VLAN Routing OSPF, RIP, Static IP VLAN includes: Secondary IP NAT, Based Routing (PBR), IP including Traceroute, Directed Broadcast, VPN, Firewall, DHCP VRRP and VLAN physical interfaces only with VLAN to four interface, input based user the VLAN header, and output One ARP and shared MAC Based Routing (PBR) (RTP) Network Translation (NAT), Network Translation (NAPT), NAT with PPTP/GRE ALG and IP NAPT, the and port-forwarded NAT, interface. IP XSR
IP ARP and Proxy ARP Proxy DNS BOOTP/DHCP IP Router (VRRP): RFC-2338 and Definitions of the Router RFC-2787 Multi-Path (ECMP) and flow (round OSPF, BGP and (RIP excluded) redistribution of and based with ARP which the of IP and the The the ARP and statically to RFC-826. The or to the ARP Table while the arp-timeout the ARP to the ARP expiring. The command displays the ARP Proxy ARP the XSR ARP another The router acts as the host, relaying to from other hosts, as RFC-1027. It with the proxy-arp command. Proxy as DNS and They outgoing and them from obtained or to other DNS Typically, they cache received, reducing and the requested. forwarding to other or DNS without DNS They and DNS and cache the to to with these DNS releases the function of the the and the acts as intermediary DNS and and of the DNS each DNS cache DNS You DNS with specify with clear the DNS cache with clear cache DNS with running-config and DNS with The (BOOTP) with of learning their IP BOOTP routers, each physical Normally, BOOTP/DHCP they broadcasts which to and they IP such as the the with and the with its then You the with the command.
Broadcast Directed Broadcast Broadcast ICMP BOOTP/DHCP received, the to the as IP to RFC-951, with RFC-1532. The of the relayed BOOTP/DHCP selected relay- command. IP selects the outgoing interface as the as RFC-919 and RFC-922. IP directed to the of to which the directly attached. The directed routed through the as arrives the where broadcast. The XSR directed the directed-broadcast command. security and applying ACL and restricting the There of directed broadcasts, as follows: net-directed with ID of 1s. Class where the the Class ID. The XSR forwards subnet-directed with ID of 1s, with ID. Class subnet-directed where the Class ID and the The XSR forwards to of This should It Consumed the router, or, using UDP forwarding, which allows XSR to UDP to or the UDP of the matches the The with the BOOTP/DHCP relay). The (ICMP) and other that as RFC-792. ICMP IP and usually acted the IP or higher (TCP/UDP). The XSR these types: ICMP router discovery, exceeded, redirect, or reply. The XSR the ICMP Router Discovery (IRDP) which to other as RFC-1256. IRDP allows to routers and router locations RIP the XSR operates as router the operates as host, router received. The IRDP IP XSR
IP TCP UDP SSH IP actually or routing routing of which such IRDP, the XSR both and the which should further received. The XSR router and associated with the command. The router the redirection of routed through the they received with the redirect command. The (TCP) oriented, service RFC-793. The (UDP) where each exactly UDP which IP to RFC-768 UDP. facility that the XSR. It which and oriented interface, as RFC-854. TCP to with the which service the which initiates and the XSR with the and commands. You service to other with the command. to the XSR CLI Reference information. The Shell (SSH) and other services the XSR. with user-supplied the allows to establish to that inbound with SSH the with the XSR to identity, the choice of such as 3DES, and offers through SHA-1 or other algorithms such as MD5 or crypto third-party ciphers such as Blowfish, Twofish, AES, CAST and ARCfour. the CLI with the command, SSH further specifying users, and with the user and commands, the timeout SSH with the command, and authentication with the SSH command. the XSR the first should with the crypto command, otherwise, the Generated encrypted and the within where the or copied. SSH the the
(TFTP) IP Interface Secondary IP Interface Secondary IP or the of the which to the SSH that with SSH such as FTP, TFTP, and to security, other services. of SSH the freeware as and easy to instructions and SSH, to Security the XSR TFTP bones as RFC-1350, UDP to simplify with overhead. The XSR TFTP functionality the and commands. the router, to and and to the XSR CLI Reference and the XSR information. IP interfaces to physical and the XSR IP interfaces the following characteristics: interfaces IP assigned to them. The to its with the command. routing the interface to IP The interface fast/gigabitethernet XSR interfaces. Un-numbered interfaces assigned IP Un-numbered interfaces the the interface when the router ID, which the of the highest, interface. interface to the of specified interface. The interface the XSR. interface to its secondary IP allows IP to the physical interface and to MAC Secondary treated exactly the as below. Secondary IP when there the router interface which the these physical The XSR secondary IP Ethernet only. other including loopback interfaces, IP interface only. IP XSR
IP ARP Secondary IP ICMP Secondary IP IP XSR interface IP and secondary IP Including XSR interfaces, the of secondary IP allowed the amount of the memory, although secondary IP the memory interfaces the of secondary FastEthernet secondary FastEthernet allowed than secondary Secondary IP to the following and secondary IP the interface allowed to the to the already other interfaces. the XSR, the sourced the IP of the outgoing interface which the as the IP of the the should to. routers the should the or such as OSPF, properly. If router secondary other the secondary from the or of secondary routing Specify the IP secondary IP the interface. Conversely, secondary IP should You OSPF, RIP or each and secondary IP secondary IP the secondary command. each IP the interface, including and secondary IP the ARP should the ARP and secondary IP the interface the MAC of the interface. ARP received, the IP the ARP the IP and secondary IP If found, ARP back with the MAC of the interface. ARP the IP the ARP should the as the IP. ICMP the XSR, the IP IP including and secondary ICMP to the broadcast without ICMP the and IP the ICMP ICMP the command sourced the IP of the outgoing interface which the as the IP of the the ICMP should ICMP received, the IP matched the associated with the and secondary IP The matched IP then as the IP of the
Routing Table Secondary IP OSPF Secondary IP RIP Secondary IP Unnumbered Interface Secondary IP NAT Secondary IP DHCP Secondary IP VPN Secondary IP If the interface each and secondary IP the routing as directly connected If the interface rejected or the IP the Routing (RTM) If IP and or based the reachable through that IP from the active routing the IP restored, earlier the active OSPF, HELLO the IP as the based the IP only routers (DR) and the IP as their IP The the IP only, as OSPF and secondary IP should the first Also, OSPF routing, secondary of interface should the OSPF as the to function properly. OSPF selectively secondary IP as as already the IP If RIP routing, should or to each both the and secondary IP If interface with secondary IP and learned from back to the physical routing sourced RIP selectively and secondary IP If interface to borrow IP from Ethernet interface which secondary IP the IP borrowed. Also, secondary IP interface. the IP the specified interface NAT. DHCP operates the secondary IP or IP IP interface. Secondary IP VPN interfaces. Concerning secondary IP assigned to physical interfaces, interface the of VPN the IP as that the trusted interface which Network the SPD the IP assigned to the internal interface created. IP XSR
IP Routing VRRP Secondary IP Secondary IP Unit (MTU) Traceroute IP Routing IP IP Router (VR) to IP LAN Secondary IP interacts with the of the Router (VRRP) as follows: The physical IP interface selected as VRRP IP which VRRP If of the IP of VR the physical of the interface, other IP of that VR the physical of that interface. Conversely, IP the physical of that interface, IP of that VR the physical of that interface. The XSR IP VR secondary) With four allowed XSR, to IP XSR. Secondary IP interfaces. MTU the allowed interface. It the of Ethernet and MTU the of that IP the command. exceeding the MTU The MTU bytes. to the XSR CLI Reference information. testing connectivity and The IP the XSR where the from. The IP the including the where allows the to to the XSR CLI Reference information. Traceroute which reports the IP follow to Its of routers that to reach its as as the round the XSR where the Traceroute and each of these routers. The traceroute command issued the XSR. to the XSR CLI Reference information. Routing of the functions of IP. Routing information, which routing the XSR to the each of the that through The following routing features the XSR: RIP, OSPF, and BGP
and Static Route redistribution CIDR IP) Router ID Route Preference routing the XSR assigns to each of them. information, to Route Preference The Routing Information (RIP) based the algorithm to learn the shortest RIP whose or and the following the XSR: MD5 authentication Distribution ACL to RIP and or of routing and of these reasons: to caused RIP specifications RFC-1058 and RFC-2453 It the XSR with the following features: with the router and interface with the commands: they RIP both LAN and WAN interfaces with these and redistribution, and with Redistribute RIP with the redistribute Redistribute RIP OSPF and with the redistribute and redistribute commands with with or Clear text authentication authentication RIP commands Interface of the RIP RIP interface to RIP from specified interface to RIP from specified IP Routing XSR
IP Routing RIP RIP Works IP RIP. offset to interface might force through that interface to become Route with the RIP and with the basic Statistical commands revealing RIP counters including traffic, RIP RFC-2091) routing PPP (WAN) This the RIP routing when the topology or when reachability the WAN of the This functionality reduces the WAN routing the brought when ceases. RIP the from torn when The following the RIP IP Whether or its with RIP the XSR implemented this command: the functionality interface that this interfaces The command, with the fashion. Related commands the of to the RIP to the XSR CLI Reference information commands. To when to RIP, Routing the WAN the following The of the routing when: received. to the The XSR first through interfaces RIP. interface brought the which brought of the when: brought The to other interfaces RIP. interface brought reachable through the interface that as to the other interfaces RIP.
The when: The routing The through interfaces RIP. RFC-2091 the following as to to its routing It the XSR interface brought as containing or acknowledge received. It to The first Other acknowledge received. Then the routing At The first The first brought there fresh routing information to propagated. Each to received Updates with of than the previous; the as the when the ack the the other The or when wraps around). The and as Resynchronization with acknowledgments every The RFC persistency the routing as follows. learned from WAN interfaces which as and the started. These received; learned from that router with the received; learned from that router Too of unacknowledged. learned from that router That The XSR as they the following and which both the only when the interface (the the back interface brought then and issued and the IP Routing XSR
IP Routing OSPF IP the following others: The to seconds. the of which the learned through the specified as The of The the of reached, to with whose seconds. This Polling received. The Shortest Path First (OSPF) routing as RFC- It replicated approach to routing where each router of the and information to the the of routers. routers together the to of the The shortest based the OSPF outperforms RIP as than RIP, its as RIPs (to and with each The of OSPF redistribution to RIP and OSPF learn neighbors WAN interfaces with Firewall functionality OSPF commands the XSR with the following features: with the router and with the they OSPF LAN and WAN interfaces with these authentication, (LAN) or of seconds, of seconds, and and inter-areas, and and routing Broadcast, and to with router IDs and with network OSPF with to interface with with and NSSA with and (LSA) option Redistribute RIP OSPF and with redistribute and redistribute and with MD5 authentication interface with authentication and
LSA and OSPF Overflow SPF SPF with with and as as the to as as with and with and of commands including: routers interface and The XSR LSA and the and summary-address commands, respectively. Router then injected other and furnished ID Processing) as as the highest of the included the XSR active summary of as including least the Conversely, specifying the to and when summary becomes inactive, the Summary The activates locally sourced LSA locally sourced which redistributed from other The to terms of processing, and Additionally: The XSR to The XSR LSA active summary If NSSA LSA each NSSA The XSR should subjected to of locally sourced which summarys type/cost the summary LSA. translation LSA from This what NSSA there. If both summary and locally sourced the summary the the summary includes only that locally sourced router the its typically, the overflowed to LSA OSPF. You this properly OSPF routers or from this type of with overflow, there enough to this type of isolation. The database-overflow this the of it imports and others as through and The warning of overflow and which to overflow. IP Routing XSR
IP Routing OSPF Interfaces IP LSA type to and exited this and Router ID (IP (OSPF) LSA LSA count The following high Overflow OSPF: Overflow, router, Count: The following high Overflow OSPF: Overflow, router, Count: The following high Overflow Exited OSPF: Exited Overflow, router, Count: to include the OSPF routing (and without actually OSPF the interface of the XSR connected to that This useful interfaces that as BGP or connectivity. You choices to incorporate this OSPF: Redistribute as OSPF. Include the interface OSPF. Typically, the approach the as OSPF to Router, while the first approach as the first approach security as the of establishing OSPF interfaces, with the command, OSPF through the specified interface there chance of establishing OSPF Also, interfaces OSPF interfaces and treated the The interface functionality as follows: or OSPF interfaces. OSPF established OSPF interfaces. OSPF interfaces as the originated router LSA. the OSPF interface, and to the XSR CLI Reference information and this chapter OSPF
OSPF Troubleshooting Interface Route Preference XSR commands of OSPF information including: OSPF from the CLI with (with with LSA with Neighbor with Router with that CLI The XSR interface that OSPF LSA and The interface acts as to of while the of The interface other XSR that IP interface to it and appears when specifically referenced the interface or interface commands. Other commands the Additionally, the interface characterized the following: It specified the as the which through redistributed It to the interfaces.ifTable.ifEntry SNMP with the or as follows: interfaces.ifTable.ifEntry.ifDescr.7 to the XSR CLI Reference information commands. Route or to which to the routing Each routing the Routing Table (RTM) with its selection of If to the offered from based the The the with the lowest chosen from the The functions as follows: using the command. Static OSPF and OSPF follow this than inter-area which than Static using the command. If specified, the applied. to the the the following Connected IP Routing XSR
IP Routing Static VLAN Routing IP Static BGP OSPF OSPF inter-area OSPF RIP BGP internal and internal The displays and to the XSR CLI Reference information commands. Static when to or to specify what the XSR to. The XSR with the command. to the XSR CLI Reference information and The Static Route (SRM) allows of to the with and You the of these with The SRM and reachable to the Routing Table (RTM) which them only the (lowest Unreachable the SRM should they become reachable. interface through that interface the RTM. Also, interfaces, when neighbor becomes the through that the RTM. Conversely, when interface through that interface from the RTM. The interfaces. allow of possibly physical LAN to as they LAN the physical VLAN switches to establish within with another through VLAN switches routing traffic. The VLAN IEEE 802.1Q The IEEE 802.1Q the insertion of VLAN shown the Source MAC and the Length/Type of Ethernet to the VLAN to which the
VLAN, VLAN Priority 802.1Q CFI VLAN The the associated Ethernet type of the VLAN while the this indicating the user of the Ethernet Format (CFI) the of Routing Information VLAN (VLAN ID) assignment The XSR to the command, with IDs and VLAN ID to the VLAN. the XSR VLAN from the XSR assigned of typical VLAN routing The LAN that to the of the interfaces the VLAN switch rather than the Typical of VLAN Routing WAN VLAN Switches XSR VLAN VLAN It physical Ethernet interface to of Ethernet VLAN, and VLAN traffic, as that associated with VLAN IDs. 802.1Q VLAN Physical IP Routing VLAN XSR
IP Routing VLAN Processing the Ethernet Interfaces VLAN Processing: Ethernet to LAN Interfaces IP Topology of VLAN G3.1 IP The VLAN routing process, shown as follows the XSR. The following reflected the graphic below. VLAN IP Ethernet VLAN IP: Priority CFI VLAN: Incoming VLAN Ethernet received, and the VLAN ID to the to of the Ethernet Priority internally with the If header the the further The matched as the incoming If match found the VLAN ID, the The Ethernet IP routed based the forwarding which chooses the and outgoing interface. If the outgoing interface associated with VLAN VLAN ID, VLAN including the VLAN ID created and the outgoing Ethernet If with the they the VLAN this the XSR VLAN there VLAN associated with the outgoing interface. G3.2 G3.3 G3.4 IP IP IP VLAN VLAN VLAN Ethernet VLAN Processing IP Routing F1.1 F2.1 F2.2 F2.1 (Static) F1.1 VLAN IP VLAN IP F2.1 Ethernet VLAN IP: F2.2 Priority CFI VLAN: VLAN
VLAN Processing: Ethernet to WAN Interfaces VLAN Processing: WAN Interface to Ethernet Interface VLAN Ethernet to Topology Ethernet VLAN IP: Priority CFI VLAN: Incoming VLAN this shown the XSR VLAN Ethernet VLAN with the outgoing VLAN assigned to WAN interface they XSR FastEthernet and interfaces. VLAN Ethernet to WAN Interfaces Topology Ethernet VLAN IP: Priority CFI VLAN: Incoming VLAN this as shown VLAN VLAN ID associated with the outgoing VLAN (FastEthernet The to IP of the router. which the XSR from VLAN the to (lowest IP Routing Table F1.1 F2 F2 (Static) VLAN IP F1.1 IP Routing F1.1 (Static) VLAN IP F1.1 IP PPP IP Routing IP F2 Ethernet IP: Ethernet PPP IP: XSR
IP Routing with VLAN Based Routing Accessing the Routing Table IP WAN Interface to VLAN Ethernet Topology IP PPP PPP IP: Incoming to VLAN The Quality of Service with VLAN the chapter Quality of Service IP typically to the chosen routing RIP, OSPF, BGP or Selection based only the of the Based Routing (PBR) allows to selectively through It to routing while flexibility. If the destination-based routing searched. PBR the following reasons: Selection service and others their customers and PBR to to their users' through routers. PBR low-cost and high- paths. You to based characteristics as to With PBR, the flow through the flow directed to the Policy-based routing destination-based routing. Policy-based routing to incoming only and interface with the command. It as follows: If PBR, the XSR routing the of Each assigned and from to high. The the and PBR You this information with the command. IP Routing F1.1 (Static) F1.1 Ethernet VLAN IP: Priority CFI VLAN: VLAN VLAN IP
Match PBR found the search and the to that entry. Each of match and match match to the to the entry. match found, of the to the to the them when or interface, the searched. flows of Access (ACL). specify to routed to higher (UDP or TCP), or within the The XSR with PBR the match command. each entry. The XSR the to specify the forwarding the through the router with the through the outgoing interface with the interface the following The router to XSR-connected only to the router. The outgoing interface when the when If match found to the the Since ACL too to the short-cut cache created based the PBR cache and IP and IP the IP TCP/UDP, and ICMP ICMP. to the the cache. the XSR, the router first searches the cache match the If match the to the forwarding If match found, the searched and cache built when forwarding information becomes You PBR cache with the command. created cache within to four that cache and the arrives with cache matched, cache created. information, to Based Routing IP Routing XSR
IP Routing Network Inter-Domain Routing (CIDR) Router ID IP The to specify the when specified or learned. If the specified the appears the routing from or as and to chosen as the the XSR. this when the than and the XSR or to creating of <IPaddress/next-hop> with You appear the routing preceded If the specified routing to the If directly connected interface specified, RIP If the XSR interface the to this network The chosen based and The to the the of the router. The of the the as the when there to the including to the XSR CLI Reference information and CIDR advanced the allowing of IP than the A, B, and C CIDR currently anywhere from to This allows assignments that organization's CIDR which high lower-level the routing reducing the The XSR CIDR IP CLI commands and the The CIDR-applicable CIDR where used. router routing such as OSPF to routing instance. the Router ID assigned, selected the following the XSR: If loopback interfaces the Router ID selected based the highest IP active interfaces. If loopback interfaces the Router ID selected based the highest IP active physical interfaces.
(RTP) Leaving the Router ID or allowing to assigned to physical IP interface because physical interfaces and their IP IP or the of physical interface that selected as the Router ID the XSR to and its leading to instability. The XSR to the Router ID, using the router-id command, with the following The Router ID IP to interface or physical). the Router ID OSPF) and the restarted with the Router ID. Router ID selection Router ID, then highest IP loopback and highest IP physical RTP header PPP the of header (IP header UDP RTP header) as as the The to reduce the header to the PPP RFC where the header of RTP reduced to to With release the XSR both the VJ TCP and UDP header) and the IP TCP, UDP and RTP header XSR to initiate VJ header to VJ option from the with NAK or REJ. release the slightly. If RTP then VJ header option, the XSR back NAK or REJ, as release. XSR the following to RTP UDP UDP than bytes, and The of the within (there restriction the The XSR restriction RTP The following RTP header High Severity of memory, RTP Severity RX memory IP Routing XSR
IP Routing Network Translation IP TX reached allowed RTP CID RTP CID CID the CID Network Translation (NAT) IP from to another, routing to hosts. NAT and Network Translation (NAPT), the to IP NAT security allowing to the NAT it the which Also, which the IP the with NAT because the match the the IP header. translation known as Application Gateway (ALG) to allow such to transparently to its counterpart The XSR NAT (RFC-3022). It Static NAT Hosts the mapped statically to There of basic NAT: One-to-one Each one-to-one the to Hosts without NATted. of Hosts the to first-come, Once selected, This NAT type this NAPT Both the and of the translated. The that of the interface. Hosts the the (based the interface). NAT NAT with of from trusted to interfaces the four of NAT Interface Static NAT Static NAT NAT NAPT The following NAT features the XSR: Static NAT One-to-one based of interface) and the Network Translation (NAPT). and Access supported.
Router Application Gateway (ALG) FTP, ICMP, TCP and UDP PPTP/GRE ALG NAPT allows PPTP to NATted ISP NAPT based the interface. With NAPT, routing to of NAT VPN interfaces. NAT (without NAPT). NAT with Each allocated from the to NAPT. exhausted, the allocated. NAPT with IP IP NAPT to the interface IP Interface-specific NAT Static NAT interface that that that interface NATted. Interface-static NAT forwarding. NAPT and incoming translation interface NAT the IP and based the interface with NAT and NAPT interface with the NAT type the specified. IPSec Out-bound first NAT, then to IPSec In-bound NAT IPSec information, to NAT The Router (VRRP) and of IP LAN without that to routing VRRP IP routers LAN to Router (VR), which both IP and MAC The of this that LAN switch from IP router to another of without their routing or implemented VRRP routers IP routers, with each IP router the of router. VRRP to of router discovery such as ARP, RIP and IRDP that of statically the below shows LAN topology where and VRRP routers VRRP) router (VRRP group). The IP of the VR matches that of the Ethernet interface of XSR1 IP Routing XSR
IP Routing VRRP Definitions IP the VR the IP of the physical Ethernet interface of XSR1, XSR1 becomes the VR known as the IP XSR1, as the VR, the IP of the VR and forwarding to this IP A, B, and C with the IP of XSR2 VR. If the VR XSR2 as the VR and the connected LAN hosts. XSR1 back the of VR where XSR1 and XSR2 outgoing them and redundancy. and to VR IP and and to VR IP Both Balanced, VRRP Topology VR IP IP The XSR VRRP terms as follows: VRRP Router router the Router It or VRRP Topology VR IP XSR1 XSR2 VR VR VR XSR2 VR XSR1 VR
the VRRP Works States of VRRP Router Router VRRP that acts as router LAN. It consists of VR and of associated IP LAN. VRRP router back or IP The VRRP router that the IP as interface This the router that, when to to of these IP ICMP TCP VRRP IP IP selected from the of interface One selection algorithm to the first VRRP the IP as the of the IP Router The VRRP router that the responsibility of to the IP associated with the VR, and ARP these IP that the IP then become the IP routers LAN router, which IP and MAC Hosts the LAN the VR as their router Devices that VR VRRP The acting as the VR the of the At of the routers acts as the VR, forwarding from the LAN. If that router the VRRP which of the other routers the the IP and MAC the VRRP started, the IP router and VRRP chosen. If the IP router become the to to from the of the group. If the IP router becomes the of the group, VRRP and VRRP information to the interface Once Ethernet the MAC the IP router. ARP the IP to the MAC If the IP router to the the VRRP information from the and to VRRP from the Underlying VRRP operates three the VRRP router and the first these VRRP router the IP to learn the If owns that the and its If the the VRRP router as the broadcasts ARP to IP associated with the IP the and to the If than the VRRP router to the VRRP router the VR to to ARP or the IP associated with the VR, and the MAC If that the then the VRRP router the following: that the VR, IP Routing XSR
IP Routing VRRP IP VR Router Authentication IP Broadcasts ARP with the MAC to the IP associated with the IP the to the If that higher priority, or higher IP the the then the VRRP router the and as the VR. the VRRP router as follows: to ARP or the IP associated with the VR, to the IP associated with the VR the of the IP the MAC If shutdown received, the VRRP router priority. If with or higher IP the the the the following: to the If received with the than priority, or with IP the the then the VRRP router the The XSR specifying IP the VR to to IP LAN Functionality the <group> command. The physical IP that interface selected as VRRP IP which the VRRP The using the <group> command. If of the IP of VR the physical of the interface, then other IP of that VR the physical of that interface. Obversely, of the IP the physical of that interface, then of the IP of that VR the physical of that interface. The XSR router as follows: of four router. The of VR to LAN The VR ID The XSR type of authentication authentication which to security. It with the <group> authentication command. Authentication VR.
ARP VRRP Router ARP Proxy ARP ARP VRRP Router The XSR to the following physical VRRP routers and the physical router which LAN the LAN with the Three of ARP VRRP router: Proxy and ARP. ARP to the following ARP of the VR IP the VR the MAC The VR to the ARP of the VR IP If the VR the IP owner, when ARP this the VR with the MAC the physical MAC other IP the VRRP router with the physical MAC of or If Proxy ARP VRRP router, then the VRRP router the VR MAC the VR IP the ARP ARP the following VRRP router: Each VR ARP when becomes the with IP and MAC One ARP issued VR IP To the learn the VR MAC the VR ARP every IP the VR seconds. Incoming VRRP router the following Whether VRRP router or with physical MAC as the MAC The VR with MAC as the MAC The VR with the MAC as the MAC VRRP router the following IP Routing XSR
IP Routing ICMP Interface IP VR traffic, including locally or forwarding traffic, of the MAC as the MAC VRRP which the MAC as the MAC four interface, and the others The VRRP router of the MAC of the as the MAC this interface, VRRP which the MAC as the MAC VR physical MAC as the MAC If there interface and both the The VRRP router the physical MAC of this interface as the MAC this interface. RFC-2338 that VR that the should to ICMP associated with the IP The <group> master-respond-ping allows the VR to to of IP ownership. This <group> allows router to as the gateway when through the router interface of VR the of the VR) to another interface the router, and from acting as the of the VR the interface It lowers its VR to when the XSR of the following The interface This when interface VR that interface. The interface This which as the VR. The interface This the following You the of the interface to You the IP of that interface. The physical of the interface to The of the interface such as PPP or FR The VR increase its back to the and become the VR when the router of the following The physical of the interface The of the interface You IP the interface. You the of the interface to the interface the interface of the VR increase its back to the and become the VR with <group> You manually the VR with <group>
Watch Physical Interface and Physical IP VRRP Router the IP of the IP releases the of the VR, to IP that though the interface This routing to reach this interface and this interface to other routers. To this when Interface that IP than the IP of the interfaces. This the <group> track <watch-group> command, tracking of or interfaces or sub-interfaces. It allows the tracking of or as the watch-list command. Watch Watch to interface The VR with the watch-group command the the watch-list instead of the interface. If the VR its to and the other router to as that VR. Usually, watch- should the XSR which high of the that VR. The VR its to when the XSR of the following active the watch-list The or expired. Those that The the seconds, and seconds the to the XSR CLI Reference The VR increase its back to the and become the VR when the XSR of the following At least of the watch-group and the expired. The that with of seconds. You the watch-list. The watch-list interface: interface the interface and traffic, the watch-list to those the that watch-list the IP of the IP releases mastery of the VR, IP that though the interface This routing to reach this interface and to other routers. To this when watch-group the IP should from the IP of the interfaces. The VR to the of the interface VR the physical IP and there the physical IP and VR IP IP Routing XSR
IP Routing (ECMP) Considerations IP (ECMP) to of physical to effectively increase the of Internally, the XSR which to the that than choice the forwarding and searching this the forwarding the The XSR offers to the as round and flow options the {round-robin per-flow} command. They characterized as follows: round This selection the of bearing performance and as as offering include caused flow-based traffic; MTU where the MTU might packet-by-packet the of MTU discovery; with TCP traffic, where might received of and traceroute) which flow round this selection and to session-based traffic. It to flow (as IP and to the and each the include performance the selected and flows to the of the ECMP to BGP and OSPF as as interfaces. If of three to If ECMP to You the which routing with each to to the active traffic. ECMP the XSR, the following ECMP physical interfaces. If round-robin ECMP physical and those might the of incoming If per-flow ECMP this instance, The XSR ECMP VPN without where or the ECMP created from XSR to XSR, each through ISPs, with both the The XSR VPN topology where ECMP XSR to as shown On the XSR, and selected as the ECMP through the VPN1 interface and FastEthernet interfaces to and this of routing the interface where ECMP and the physical interface where used.
Configuring RIP ECMP VPN Topology N2 N1 XSR VPN1: N2 N2 The following RIP both FastEthernet interfaces and of the XSR. The FastEthernet interface to or received). The interface with while the others (the Authentication and the fastethernet shutdown fastethernet shutdown XSR(config-if<S1/0>)#ip authentication authentication text shutdown XSR(config)#router XSR(config-router)#network XSR(config-router)#network XSR(config-router)#network XSR(config-router)#passive-interface fastethernet XSR(config-router)#no receive-interface fastethernet The following RIP Access (ACL) to allow from the of and (where numbers) only through the F1 shutdown VPN Physical RIP Remote XSR1 VPN1: VPN1:1.1.1.3 Remote XSR2 XSR
RIP IP access-group access-group shutdown XSR(config-if<S1/0>)#media-type V35 XSR(config)#router XSR(config-router)#network XSR(config-router)#network running-config The following with (DHCP) DHCP relay when DHCP the DHCP the XSR relays this to the DHCP specified the the responds, the XSR relays this back to the below, the XSR to the PSTN T1 with associated This T1 to the XSR as and The T1 unnumbered, indicating from the T1 interface the IP of the Ethernet interface instead of its own. shutdown fastethernet shutdown XSR(config-if<F1>)#interface shutdown fastethernet XSR(config)#router XSR(config-router)#network running-config
Unnumbered IP Interface OSPF The following interface as interface. directed to the IP of FastEthernet fastethernet shutdown XSR(config-if<S1/0>)#media-type XSR(config-if<S1/0>)#encapsulation fastethernet shutdown running-config The following of OSPF which three to OSPF including and NSSA areas, the interface FastEthernet to seconds, the of interface to and redistributes OSPF: FastEthernet shutdown XSR(config-if<F1>)#interface FastEthernet shutdown XSR(config-if<F2>)#ip shutdown XSR(config-if<S1/0>)#media-type V35 XSR(config-if<S1/0>)#ip XSR(config)#router XSR(config-router)#network XSR(config-router)#network XSR(config-router)#area default-information-originate XSR(config-router)#network XSR(config-router)#area XSR(config-router)#redistribute running-config Unnumbered IP Interface XSR
NAT NAT One-to-One Static NAT Static Translation IP The following translation the XSR, as shown below. NAT Source Translation Translation SA: DA: XSR interface Reply SA: DA: The user to The first the XSR from the router to its NAT If the XSR to If translation the router that translated dynamically, selects from the and translation The XSR the of with the IP and forwards the the and to IP The XSR the with the IP the and the to the Then forwards the to command to NAT NAT interface Optionally, the with the command. the SA: DA: interface NAT Table Reply SA: DA:
Translation The following translation the XSR, as shown SA: DA: Reply DA: SA: SA: DA: interface SA: DA: Reply SA: DA: translation, as shown through the following process: The to The first that the XSR from forces NAT If and translated, then the XSR The router the with the and the other from as the the and to using the the XSR the searches its NAT the to and forwards to The to the from IP used. the commands below to translation. optional. IP with IP (optional) and the NAT Translation NAT Table Translation XSR interface NAT NAT DA: SA: Translation DA: SA: DA: SA: XSR Reply Reply
NAT Network and Translation NAPT IP Optional ACL to NAT from the other implicitly Optional the NAT timeout to translation timeout timeout interface; F1, fastethernet the interface and optional ACL to the NAT Optional interface, F2, to the NAT fastethernet Optional the interface to that ACL associated with Alternatively, NAT which with the first NAT This translation with (NAPT) XSR NAT Source Translation with (NAPT). SA: DA: interface Reply SA: DA: IP IP IP TCP TCP with as shown as follows: The user to The first that the XSR from of the NAPT If and the translated, the XSR translation entry. the router the with the the with and forwards the NAT to this interface Translation DA: SA: XSR interface NAPT Table Reply SA: DA:
NAPT NAT within Interface the and to the XSR the searches the NAPT the and and the to the and then to the following commands to overloading of This optional to specified traffic. other implicitly and Interface assigned NAT translation the interface ACL to IP from the specified This NAT within interface F2. shown the assigned to F2 One to the and the other the Based the ACL, outbound would of the that the internal both to both that match ACL un-NATted. Optionally, NAPT matching of the to through NAPT. NAT within Interface SA: DA: SA: DA: interface IP IP SA: DA: NAT as follows: The to Translation XSR F2 Translation DA: SA: NAT Table NAT Reply DA: SA: XSR
NAT Static NAT within Interface IP The first the XSR from its ACL matches and NatPool used. existing and found otherwise created. The as from to Reply arrive the XSR with the NatPool to IP then translated and to the host. the following commands to NAT the ACL the the the ACL the the network NatPool XSR(ip-local-pool)#ip NatPool1 IP the specified IP NatPool NatPool1 Assigns the to NAT F2 NatPool NatPool1 The optional NAPT commands ACL the and ACL the This the NAT instances interface the interaction NAT the interface.
SA: DA: SA: DA: interface SA: DA: shown from the PC statically NATted to the PC through neither of the This NAT other NAT Also, this NAT would when from PC the F2 interface. On other interface the translation the Static NAT within interface as follows: The to the XSR the first from the NAT the interface and found. That to the IP to The as from to the XSR, the translation of the IP from to the following commands to NAT interface F2 the ACL the the the ACL the the network NatPool NatPool1 IP with the specified IP NatPool NatPool1 Assigns the to NAT F2 NatPool NatPool1 Static NAT within Interface Translation interface XSR F2 Translation Reply DA: DA: SA: NAT Table IP IP NAT SA: XSR
Based Routing NAT Based Routing IP The optional NAPT commands ACL the and ACL the network XSR(config-if<F2>)#ip intf-static The optional statically from to This as shown NAT forwarding. The initiated the PC to The NAT first found (which to the interface IP with to the PC The then translated and to The from the once to the NAT interface F2 and to as from SYN DA: DA: SA: SA: interface DA: TCP the following commands to NAT intf-static tcp assigned The following PBR to to router: The commands below interface with IP and PBR with the command: GigabitEthernet NAT interface XSR F2 NAT Table IP IP Reply SA:
VRRP Router Router These commands the PBR, to ACL and the forwarding router as The following three VRRP to forwarding and VRRP routers and as follows: the IP the with the seconds, with and authentication with the text the with the IP the seconds, and with the with the and off. The WAN interface interface each VR. fastethernet track authentication shutdown authentication VRRP XSR
VLAN VLAN IP shutdown The following VLAN interface and FastEthernet shutdown FastEthernet shutdown The following VLAN interface FastEthernet shutdown with VLAN to with VLAN
the The XSR the following the Gateway (BGP-4) features: mandatory BGP (RFC-1771) BGP MIB RFC-1657 including BGP SNMP Protection of BGP TCP MD5 Option (RFC-2385) BGP (RFC-2842) BGP Route reflection (RFC-2796) BGP (RFC-1997) Route Refresh (RFC-2918) BGP Route (RFC-2439) AS Confederations BGP (RFC-3065) BGP BGP-4 Gateway (EGP) typically to routing (AS). AS as or of that and with of routing BGP of of routing information: -AS) and within AS -AS). BGP the to as BGP (EBGP). If BGP to within AS, then the to as BGP (IBGP), as shown XSR
BGP the Gateway Differentiating EBGP from IBGP BGP as routing which as and the of the to that The of BGP- to reachability with BGP known as neighbors or This reachability includes of that the this AS connectivity built from which routing and the AS enforced. other BGP the (TCP) as its the BGP to acknowledgment, and BGP TCP to its BGP neighbors routing when the TCP neighbors first established. routing detected, BGP routers to their neighbors. BGP routers routing and BGP routing the to BGP policy-based routing which choose to and the redistribution of routing BGP-4 Inter-Domain Routing (CIDR), which with as as including the of AS and BGP four of including and They as follows. BGP connected TCP, they BGP to BGP them. Once the the BGP and traffic. of the BGP header as as the following The of the The BGP AS of the
BGP Path of seconds that the the of the The the that without the of or the to BGP IP of the BGP (Router ID). and the Optional BGP to reachability BGP The this information to the relationships known the BGP header the following optional Unfeasible of the field that the from service they reachable. IP the from service. of the field that the feasible to Path of the including the origin, the (MED), the the and about confederations, and reflection. Network reachability information (NLRI) IP of feasible the BGP to learn whether or or often enough that the They of the BGP header. initiated, BGP the with the and selects the The then based the and with the XSR that three the You the with the command. If the to BGP when learned. the the BGP and TCP the BGP closed. of the BGP header, the and and that the BGP as of the of to IP They extensively the selection to the of and to routing and attributes. XSR
AS Path the Gateway The AS_PATH as shown the of AS to reach The AS that originates the its AS when the to its EBGP Subsequently, each AS that the and to other BGP its AS to the the to BGP within the AS (IBGP the AS_PATH intact. The the AS that with the AS of the AS that originated the the the of the BGP the AS_PATH its routing to topology the If the to the AS that originated that AS as of the AS_PATH and the The with the access-list command. The match as-path with ACL. The as-path command increases the of the that the match within AS_PATH of the BGP to the to or other shorter preferred. of AS_PATH length, other the The ORIGIN the of the routing as follows: IGP The internal to the AS. EGP The learned EGP. INCOMPLETE The learned other means, redistribution or AS Path
Next Preference BGP the ORIGIN its to BGP the with the lowest type, where IGP than EGP, and EGP than INCOMPLETE. The with the command. The NEXT_HOP the IP to reach Usually, BGP chooses the where BGP neighbors to other neighbors the selection routing. the to selection. It forces the BGP to as the to neighbor. Typically, this command third-party from NBMA such as Next-hop outbound using the or the command the required. The LOCAL_PREF informs other within AS of the of of AS influences traffic). The of to with that of other the with higher LOCAL_PREF as shown LOCAL_PREF to the AS, IBGP only; to EBGP to BGP Community with Route XSR
the Gateway Preference to Direct Traffic from AS.
as shown and LOCAL_PREF that weight exchanged routers. It locally. Higher the with higher to influence from to the router router with to or The with the command. to from Sources The XSR the ATOMIC_AGGREGATE the that BGP selected as than included with with this such that IP actually only the AS_PATH XSR
the Gateway The AGGREGATOR as shown the BGP that the It includes the AS and router ID of the BGP that originated the It commonly and Attribute The MULTI_EXIT_DISC (MED) as shown to to or the neighboring AS (influencing traffic). The MED informs neighbors about the AS that with the that MED the higher MED. Comparing from the AS from with the always-compare-med command. the the MED ASs, MED that AS the AS. the AS with MED, that within the AS. BGP relays the routing to another AS, the MED to the outgoing MED to otherwise specified, the XSR from neighbors occupying the AS. from typically the MED associated with the AS internal topology. The command the MED of redistributed that match specified that MED as You without MED as the least the bestpath missing-as-worst command. This assigned of infinity.
Community MED to Direct Traffic Flow to AS BGP community, as shown as of that property and to or AS. simplify routing based property rather than IP or AS BGP then this with others to which to and relay to other BGP neighbors. The XSR the following based the BGP COMMUNITIES AS and community the community. this to EBGP this to (internal or Based of the following the XSR BGP routing IP AS_PATH COMMUNITIES Based community each to While specify which to the community. creating community which routing to or to other neighbors. BGP append, or the community of when XSR
the Gateway learn, or redistribute aggregated, the COMMUNITIES that from the Community of match to of community where match found and when the finished with the community-list community-list-number community-number command. To the COMMUNITIES and match based to the match community-list and community command BGP Community with Route and the XSR CLI Reference Although COMMUNITIES to the to the IP with the group-name} send-community command. Application of Community Attribute
BGP Path Selection BGP Routing BGP routers to The BGP selection the to the IP routing and forwarding traffic. that of AS and the selection process, as illustrated BGP Path Selection The XSR Access community and to BGP routing to These the following BGP Routing XSR
Access Community Route the Gateway Access which or to or IP apply to both and with BGP, emphasized. Prefix-based specifying which IP or the network The XSR BGP as follows: with the as-path access-list and commands. with the {access-list} command. Routing the XSR learns or BGP routing through to the to numbers, AS specifying which AS to or They with the as-path access-list <ACL#> command. To further BGP neighbor, the access-list-number command. Community specifying which or Community-based with the community-list command. Route with BGP to and routing and the which redistributed routing Route to that they both matching and when matches found, to or the Route and that they match, and they attributes. The XSR match AS-path, community, and both incoming and outgoing with the match as-path match community-list and match commands, respectively. You to in/outbound with the command. to BGP Community with Route includes of instructions that or optional match optional Route with BGP the following: Apply to with
Characters community with community the with the MED of with the with the AS-Path with as-path the with the IP with commonly text They of to match search. With BGP, search AS paths to match and building from to right with and AS characters or within through to AS the of the of the of AS_SET the of AS_SET the of AS_CONFED_SET or AS_CONFED_SEQ the of AS_CONFED_SET or AS_CONFED_SEQ To match AS AS path, of the following Matches AS matches or or AS matches or of the of AS matches or instance of character of AS or or of the type, AS or within to specify of AS numbers, when as the first item within AS the specified; to specify AS other than or The following displays AS using with the command. with AS the AS path: XSR
the Gateway with AS path: least AS the AS path: that AS with with AS and with AS the AS path: BGP of BGP neighbors Rather than each and assign to the If options the group, of the the You to those options that outbound of IBGP or EBGP IBGP the AS as the which the AS as the router. On the other hand, when EBGP AS associated with the and to AS other than the AS the router. IBGP and EBGP the of EBGP from to only. BGP by: Creating the neighbors BGP or without with the shutdown command. Creating BGP and to with the neighbor command. with commands. options as as They to those options to outbound of these attributes: remote-as and You options of the following commands with IP If to options group, of the commands employing the BGP neighbor: remote-as
BGP BGP Neighbors BGP BGP to the to as the the COMMUNITIES to to the neighbor this IP send-community BGP to interface TCP interface BGP when the directly connected the BGP routing neighbor seconds MD5 authentication TCP to BGP to TCP MD5 Authentication BGP Specify BGP routing to/from neighbors, as ACL: {ACL#}{in BGP ACL# BGP to neighbor: neighbor Assign to or outbound the XSR to soft-reconfiguration inbound BGP or group: shutdown Conversely, previously existing or that with neighbor shutdown to BGP BGP BGP routing: BGP Routing and Router router <AS this AS, it as the BGP Routing <IP neighbors to BGP to building BGP You internal neighbors (those AS) or neighbors (those other ASs). Usually, neighbors to each other and while internal neighbors anywhere the AS. The the XSR as follows: BGP <IP BGP neighbor: <IP remote-as <as to BGP Neighbors If BGP that BGP neighbors, that BGP the to or BGP clear XSR
Synchronization Route the Gateway AS service to other and there routers the AS, might the intermediate routers learned that IGP. BGP synchronization, which the XSR that BGP router should to neighbors learned from IBGP neighbors those known IGP. If router informed, that the already the AS, and internal reachability guaranteed. Synchronization with the synchronization of the following AS from AS to another AS. the routers AS BGP. BGP routing to include thousands of and BGP counters this to reducing the of the BGP routing They redistributing BGP or the options below. The XSR to the BGP there least there. The to the routing with the following to the BGP routing AS summary only: [summary-only] Creates reflecting the Creates with or when and then or and EBGP the routing because as the the each router the routing IBGP and reachability within the AS, and EBGP IBGP to EBGP On the XSR, CPU the routing From the perspective, such as and or recurring BGP Route reactive to from internetwork selectively Based the that malfunctioning and with This the of though, normally occurring the reasonable routing should that within within this functionality with the command, the XSR collects statistics about the and withdrawals. If threshold of the of of withdrawals/announcements (the threshold), the
Route Route Refresh which further incremented with every The then half-life the below threshold. the released from the and the and You with the [half-life command. should only EBGP boundaries, that as to the as the following with harsher treatment and the fourth straight the to of and as follows: of and as follows: of of half-life of other as follows: If allow of the as follows: the fourth with of and of related including the with the command. BGP4 that when OPEN with or optional BGP To this allows the introduction of without that terminated. This achieved through optional the OPEN which the the inbound routing from that and then re-examined that This by: the BGP with the neighbor. This the cache, affecting operation. Performing which of from using the soft-reconfiguration inbound command. This activates without actually clearing the BGP higher memory The refresh offers introducing the of refresh BGP this from the of outbound that outbound to that XSR
Scaling BGP the Gateway BGP that BGP with AS (IBGP) as shown The that BGP within AS, the of BGP the following that this when of IBGP the AS. when AS routers as shown the of BGP as the Meshed BGP
Route Reflectors Route reflectors to the of within AS, as This approach allows BGP (known as to IBGP learned to IBGP This from the IBGP of IBGP-learned to other IBGP this the of IBGP greatly reduced. This functionality with the command. Route to IBGP there reflector- BGP BGP comply with They or This reflectors, though. At first, with and You other IBGP to the and clusters. More than associated with AS. such, other reflectors to other IBGP and to include other reflectors or group. would the backbone clusters and each with other reflectors as reflectors). Clustered would to IBGP with only the within. XSR
Confederations the Gateway It typical to and the reflectors router ID. If and to of than to cluster. This accomplished reflectors with the ID that from other reflectors within that cluster. reflectors should and and clusters with reflectors, specify the ID with the cluster-id command reflectors reflected to others. the to and reflection with the reflection command. To routing which from reflected IBGP learned the XSR the following options: created reflector. This the router ID of the the AS. If routing to bounce back to the the optional BGP with the cluster-id command. It of IDs the passed. reflects from its to the ID to the and empty, ID. With this routing back to the cluster. If the ID found the the outbound and routing The XSR this these reflected to IBGP Confederations another to the within AS, as shown This accomplished AS with of BGP or and the routing as they EBGP AS, the of BGP greatly reduced the appears as AS to its EBGP Confederations AS what appear as AS to with the command. Neighbors from other within the as EBGP with the <AS#> command. to BGP Confederations Alternatively, the IBGP with reflectors,
and Network Statistics of Confederations to IBGP The XSR BGP displays such as routing caches, and The XSR about and the through the The XSR offers the following BGP commands: BGP routing within community sanctioned community community-list to matched the AS ACL: with conflicting inconsistent-as neighbors TCP and BGP neighbors XSR
BGP Route BGP Route Configuring the Gateway BGP AS summary BGP summary The following the of to inbound from from the AS ACL with its to and its to the of XSR(config)#router XSR(config-router)#neighbor XSR(config-router)#neighbor remote-as XSR(config-route-map)#set access-list as-path access-list the following from AS with MED of The that matching AS relayed to XSR(config)#router XSR(config-router)#neighbor as-path access-list as-path access-list XSR(config)#router as-path XSR(config-route-map)#match as-path BGP correctly AS matching the match of the This that the and the XSR the the router to AS matched the match of the of the without accompanying commands. XSR(config-route-map)#match as-path XSR(config-route-map)#set XSR(config-route-map)#match as-path the following assigned to outgoing Route AS to that ACL The allows other to advertised. XSR(config)#router XSR(config-router)#network XSR(config-router)#network
BGP Neighbors BGP Path Neighbor XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor XSR(config-router)#route-map as-path XSR(config-route-map)#match XSR(config-route-map)#match XSR(config-route-map)#access-list XSR(config-route-map)#access-list Incoming prefix-based matching and Inbound matching to as-path and community-list the following the the of the inbound to XSR(config)#router XSR(config-router)#network XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor XSR(config-route-map)#match XSR(config-route-map)#set XSR(config-route-map)#access-list XSR(config-route-map)#access-list access-list This BGP router AS including and three The XSR AS about and with its neighbors. The first router AS; the internal (AS and the third neighbor AS. that the BGP directly to XSR A. neighbors AS and AS directly to Router A. XSR(config)#router XSR(router-config)#network XSR(router-config)#network XSR(router-config)#neighbor remote-as XSR(router-config)#neighbor remote-as XSR(router-config)#neighbor remote-as This BGP where as-path ACL to the fashion, ACL from XSR(config)#router XSR(config-router)#neighbor remote-as BGP Route XSR
BGP Route BGP Route BGP Confederations the XSR(config-router)#neighbor XSR(config-router)#neighbor XSR(config-router)#exit as-path access-list as-path access-list as-path access-list as-path access-list as-path access-list The following to BGP redistributing BGP or the routing the redistribute XSR(config)#router XSR(config-router)#redistribute the following the BGP routing when least the The XSR this as from AS and the to the the command.) XSR(config)#router Next, as the the this AS_SET consisting of within summarized: XSR(config)#router The and of to neighbors: XSR(config)#router summary-only The following of three internal with AS and To BGP the the appears to AS with AS with the command). BGP AS the from and as EBGP with the command. and then the preference, and MED The router EBGP and the from this to EBGP from AS XSR(config)#router XSR(config-router)#bgp XSR(config-router)#bgp XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor remote-as
TCP MD5 Authentication BGP BGP IBGP XSR(config-router)#neighbor remote-as BGP AS the from and as EBGP IBGP and EBGP from AS XSR(config)#router XSR(config-router)#bgp XSR(config-router)#bgp XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor remote-as BGP AS specify the from and as EBGP EBGP from AS XSR(config)#router XSR(config-router)#bgp XSR(config-router)#bgp XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor remote-as The following from BGP from AS Neighbor as EBGP from AS of the AS unknown to the confederation. XSR(config)#router remote-as XSR(config-router)# remote-as The following the XSR and its BGP MD5 authentication their TCP XSR(config)#router XSR(config-router)#neighbor This section IBGP and EBGP IBGP IBGP neighbors this IBGP the AS the router and remote-as commands, AS as the and as the outbound Also, the the neighbors as the inbound XSR(config)#router XSR(config-router)#neighbor IBGP XSR(config-router)#neighbor IBGP remote-as XSR(config-router)#neighbor IBGP XSR(config-router)#neighbor IBGP BGP XSR
BGP EBGP BGP Community with Route the Gateway XSR(config-router)#neighbor IBGP XSR(config-router)#neighbor IBGP XSR(config-router)#neighbor IBGP XSR(config-router)#neighbor IBGP XSR(config-router)#neighbor IBGP XSR(config-router)#neighbor EBGP this the remote-as command, EBGP Each with its respective AS the of from and as outbound and as outbound and incoming XSR(config)#router XSR(config-router)#neighbor XSR(config-router)#neighbor XSR(config-router)#neighbor XSR(config-router)#neighbor XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor XSR(config-router)#neighbor This section three of BGP with to outgoing The that ACL the community while other as This community BGP AS from those XSR(config)#router XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor send-community XSR(config-router)#neighbor XSR(config-route-map)#set community XSR(config-route-map)#match Secondly, matched with outgoing neighbor from AS the community to their existing with other as XSR(config)#router XSR(config-router)#neighbor remote-as
XSR(config-router)#neighbor send-community XSR(config-router)#neighbor XSR(config-router)#neighbor XSR(config-route-map)#match as-path XSR(config-route-map)#set community XSR(config-route-map)#match as-path as-path access-list as-path access-list Thirdly, community-based matching selectively MED and neighbor the that match MED of including with or These other community of that community including those with community or If the to other community, of matching community which matches the they of the community. the of XSR(config)#router XSR(config-router)#neighbor XSR(config-router)#neighbor XSR(config-route-map)#match community-list XSR(config-route-map)#set XSR(config-route-map)#match community-list XSR(config-route-map)#match community-list community-list community-list community-list community-list community-list Route to the outgoing neighbor this that ACL the community with other as BGP AS from those XSR(config)#router XSR(config-router)#network BGP XSR
BGP the Gateway XSR(config-router)#bgp XSR(config-router)#bgp XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor XSR(config-router)#neighbor remote-as XSR(config-route-map)#match community the three ASs: and the that the the community XSR(config)#router XSR(config-router)#bgp XSR(config-router)#bgp XSR(config-router)#network XSR(config-router)#neighbor remote-as XSR(config-router)#neighbor XSR(config-router)#set community
Differences with Industry-Standard Approach This chapter (PIM-SM) and (IGMP) The XSR the following IGMP/PIM features: IGMP and LAN interface only) PIM-SM Static IGMP membership RP (BootStrap without Static RP Tree (RPT) Build-up Shortest Path Tree (SPT) Build-up RPT to SPT Switch Source (SSM) GRE The of IGMP from the industry-standard approach as follows: The XSR the RFC-3376 of the industry-standard The XSR learning of the and from the as RFC-3376, while the industry-standard router The XSR and the learned or statically overwrite the previous The of PIM-SM from the industry-standard approach as follows: the XSR the of the header only, with the RFC-2236 The industry-standard router PIM-SM and IGMP XSR
IP IP PIM-SM and IGMP the based the whole including the the XSR both and whole The XSR of the CRP and the to as the RFC. The industry-standard router CRP of the highest as the and offers to the IP reduces of to thousands of It useful and where reduced. IP its with then flow Distribution Tree (MDT) and replicated routers the where branches The approach to of the become when the of receivers Since the path, to this and when necessary. The IP architecture distinguished these routing, and forwarding. records users of to group. PIM users or the flexibility to or IGMP operates within this and IGMP or the as as the from which they to traffic. routing (MR) and loop-free tree each which flows. the routing interacts with such that when or to group, the MR or existing tree to include them. DVMRP, PIM-DM and PIM-SM function this forwarding and forwards to the MDT group. IP IP within the Class IP group. assigned directly the Authority (IANA). The assignment of the located RFC-3171. within Class services, such as the following. IP from to (Class IP reaches of the which the and as and router. and throughout the
IGMP Comparing Distribution and should organization's and Source-Specific service (SSM). IP to wrapped with the MAC the IP directly MAC turn, interface to MAC The MAC from through the of Ethernet MAC IP The Ethernet to the of the IP these the Ethernet the MAC Ethernet IP as IP Mapped to MAC IGMP allows and routers to their IP memberships to neighboring routers. IP router of or which both the router (to membership and the (to inform and other neighboring routers of its memberships). Presently, three of IGMP RFC-1112 the first widely-deployed and the first to become It (RFC-2236) latency that reduction the the the and when the routing that there It allows the burstiness of IGMP This the service releases, and UNIX (DRAFT-IETF-IDMR-IGMP-V3-07) to from or from to It and XP. To reach receivers, flow through Distribution which created routers the and its receivers. or updated. active receivers branch group, the routers that branch from the tree and forwarding traffic. If that branch becomes active traffic, the router the tree the and re-forwarding traffic. Distribution routing such as PIM. IP XSR
the IP Traffic the IP PIM-SM and IGMP of and shared as follows: tree network with its the and branches tree through the to its receivers. this tree the shortest through the to as Shortest Path Tree (SPT). shared tree chosen the network (RP). to the the tree the RP. Source memory to its than often from to receivers with The XSR and with PIM, of routing PIM its from the fact that IP routing Although routing PIM the existing routing to forwarding the Path (RPF) function instead of building routing this PIM PIM (PIM-DM) and PIM (PIM-SM). PIM-DM approach to IP routing. there receivers locations the PIM-DM traffic, then each when received. PIM-SM relatively receivers, only when to PIM-SM characterized of shared and shortest-path the routers initiate switch to shortest-path when as rates or warrant, and Since PIM routing PIM-SM to the tree that to flow through the branches. PIM-SM enough to from to source-based These PIM-SM choice service. The XSR forwards as follows: with router, the the to which the router would with S. the This known as the Path (RPF) which to forwarding Then the router the tree to of outgoing interfaces, the and them to outgoing interfaces. to each router to learn, each of its directly which of to the attached to those IGMP the router to learn which of to neighboring to The gathered IGMP to whichever routing PIM) the router, to to with receivers.
Membership Actions and and Reports IGMP asymmetric there or routers that to and routers (routers that to inform neighboring routers of their states. of actions interface, the interface reception and reception reception higher-layer or these that the the to state-change from the associated interface. The type and of the records that the and the affected and the The to group. the XSR its the from the the You this the router with the command. XSR of interfaces including Group-Specific and Group-and-Source-Specific each of which its to Query, the XSR first previously and combined routers to and from routers know that least attached interested to from The router to of the interests of each neighboring routers to membership from attached which with the command. These and refresh the membership of attached which reporting that Membership Reports routers to to membership Group-Specific to to the specified or the reception group. They when router State-Change indicating from the group. Group-and-Source from of It which to This router to learn to to the specified from the specified These to State-Change Records to Current-State Records the IP XSR
the IP Source-Specific Interoperating with IGMP Distinctions of PIM-SM and IGMP LAN routers, chooses the election as IP router with IP the to Other and the the elected its If the other routers which the command, then as the Three of records Source-List-Change, and Current-State routers the they the IGMP router from to group, whether to the attached or The routing this information to that sub-network to that sub-network. routing the EXCLUDE router to and routers with and routers that to This and routers actions the of IGMP operating and routers within The IGMP of Membership as follows: Query: and field Query: and Query: that match of the of silently To with routers, and interface the of each attached host's the which of three states: or This interface and the of received that interface as as the the interface.
Behavior of of Routers of Routers the PIM-SM where to allow its Membership Record to or Membership routers sited where least router the to with these If of IGMP routers, the the lowest IGMP the This assured administratively; routers that to with and option to or which with the command. routers with of and truncated the field and They should of or routers the field and should of They the the field; that the used. If explicitly router to or and it or Query, should warning. routers where there that to with hosts, routers and routers of group, which the from of three or This and the of Membership Reports heard that as as the the group. PIM-SM routing that receiver-initiated to and the MDT, as specified router PIM-SM the of MDT only when least of the its membership the group. PIM-SM both and shortest-path (SPT) and from to shortest-path tree based to performance. PIM-SM another to and topology and the Routing Information (MRIB). The MRIB PIM-SM to learn to reach other PIM-SM routers. MRIB from the routing routing such as RIP and OSPF, or another routing tailored such as MBGP. MRIB to incoming to loop-free forwarding. PIM-SM three phases. and receivers or phases the PIM-SM XSR
the PIM-SM Phase Building Shared Tree Phase Building Shortest Path Tree RP PIM-SM and IGMP phase PIM-SM builds tree router (RP), as shown to RP to which Routers (DR) of the receivers of the their PIM-SM routers within the PIM the and RP. to such as IGMP, the elected DR its PIM the RP of that consulting the MRIB. The and the the routers. The RP or router already within the group. The the RP loop-free which receivers. Periodically, the to routers RP to the router the If timeout and there received the router, the that from the router. If receivers the the group, the DR that RP to from the tree that group. to the shared The DR the of the the to the Then the the DR to RP that as RP the RP and the shared At the of phase from to RP and the the shared tree to the receivers. PIM-SM Phase Shared Tree Unicasting from to RP because: router Unicast from the to the tree Usually, RP initiate the to the shortest tree and RP. RP from the DR of S, RP the that group. The the If the
Phase Building Shortest Path Tree with router which already the shortest tree from to the group, the that router to short-cut path. the established, both the the SPT tree and received RP. RP of the and the and back to the DR of to know that the DR of the and the the At the of phase flows natively from the to RP the SPT and then RP to the receivers the as illustrated Phase Shortest Path Tree and RP At the of phase the from the to RP and to the or receivers to the themselves and PIM-SM, the DR the the to initiate to the shortest tree from the to the group. To the DR the of the from source-specific S. The the from to the group. the SPT tree and the DR of the receiver, from to that flow both the SPT tree and the RP the the from both the DR or router the to the from the shared RP tree and to the RP tree to the from the the group. phase three, from the flow natively the shortest tree to the receiver, as shown the PIM-SM XSR
the PIM-SM Neighbor Discovery and DR PIM-SM and IGMP Phase Shortest Path Tree and PIM-SM discovery and DR election which through each interface. each interface whose timeout You the with the command. the ALL-PIM-ROUTERS as its PIM-active interfaces, including physical The Time-To-Live of the should to with the ttl-threshold command. each PIM interface, router of active neighbors from which received. the router or from interface, the of the the this interface. If the from of its neighbors, router to or to interface which should first without the to interface or its IP with should immediately to its neighbors immediately from their On each LAN, whether shared or Router (DR) elected to of the the LAN PIM-SM. DR chosen from active neighbors the interface; their DR within the the with the If there than the DR priority, the with the IP selected as the DR. You DR with the command.
PIM PIM Processing the of PIM-SM phase the DR the from the and to RP the group. the DR from RP, the to the the the DR should to RP that RP with another the DR the while the the that to RP. The IP ECN and DSCP of the should the To and the MDT, PIM-SM which of and of Joined and each group. PIM the and from the downstream to router to the the of PIM which with the command. PIM the exiting the group. source-specific to the RP Tree from forwarding from the This type of the RP tree should from the downstream to router to router PIM from its downstream router, should to that other downstream routers that the to the with It to of traffic. The router to routers with RP It both and to tree The to RP information and RP-Adv One Router (BSR) elected within routers that as router as the RP RP-Adv to the elected BSR. This the of the other Candidate the elected BSR RP-Adv from Candidate hashes of RP to Class-D which throughout the this routers the learn the RP to them of which RP to and The which of RP-to-group specifying the interfaces of the routers using the command. router with bsr-candidate and RP with On shared LAN, than router the MDT to the the LAN. when received outgoing interface to the constructed This there routers forwarding from the with outgoing directed the LAN. the PIM-SM XSR
the PIM-SM Source-Specific PIM SM PIM-SM and IGMP to which router the The the assert the router with the (usually routing preference) and learned from that If the the the routers, then whichever router the the of the If the the the interface with the highest IP the assert. The XSR conducts assert the lowest to service the Source-specific (SSM) specifically one-to-many traffic. It collects that than PIM-SM and implemented as of the Both the IP service and SSM service the router implemented the SSM, of based (S, G) (S, G) consists of with IP and the as the IP this becoming of the (S, G) to become SSM, receivers or to (S, G) to or from other receivers from (S, G) that they to. The approach IGMP INCLUDE membership which of IGMP. The IP from to SSM service. allowed to (S,G) the that there that service to the SSM normally they appear to the IP as LAN This to the of functionality when from to other and, therefore, of the the The the interface from the outgoing the specified when its Also, when from other the The XSR this with each the router with its IP the of to interfaces. From the PIM perspective,
PIM The following PIM the Loopback interface and physical interface FastEthernet Loopback interface to PIM routers each other specifying physical IP router the through that interface On the other hand, physical interface as connected. Only the following commands to PIM shutdown Loopback0 shutdown multicast-routing bsr-candidate Loopback0 Loopback0 PIM XSR
PIM PIM-SM and IGMP
PPP The (PPP), referenced RFC-1616, PPP to assign and asynchronous and testing, and option network-layer and PPP these functions through its three (LCP) establishing, and testing the family of Network (NCPs) establishing and network-layer PPP becomes the that the the information field of the PPP PPP offers high performance and free of user from to The XSR PPP software offers the following features: IP Synchronous and (MLPPP) as RFC-1990 MLPPP, as RFC-2686. This option the PPP LCP when Reconstructed Unit (MRRU) Short Format interleaving, reassembly, and option IPCP Network (NCP) Authentication of through: Authentication (PAP) PPP XSR
PPP (LCP) Network (NCP) PPP Authentication (CHAP) Microsoft Authentication (MS-CHAP) Quality (LQM) as RFC-1989 VJ/IP header restriction the information field as RFC-1661 Self-Describing and FCS (16-bytes) as RFC-1570 Outbound The following (as RFC- of the that (MRU) to authentication Character (ACCM) The to Quality FCS (BAP/BACP) as RFC-2125 PPP/MLPPP including The (LCP) the functions of establishing, and terminating the PPP These as follows: Establish, and terminate the PPP Initiate authentication and Initiate network option options to with the the operationally and If option included the LCP the that option assumed. LCP authentication and LQM procedures the built. the authenticated successfully, NCP initiated. The Network (NCP) and reception of and NCP the established PPP Sends/receives the NCP The procedures once the LCP reaches the OPENED
Authentication Authentication (PAP) Authentication (CHAP) Microsoft (MS-CHAP) Authentication as referenced RFC-1334, and routers to to PPP switched or might to as The of the or router to options The authentication with the LCP If the authentication option the LCP initiates authentication This authentication and the to the LCP If authentication succeeds, LCP informs NCP that the PPP If authentication the PPP and The Authentication (PAP) the to establish its identity using PAP authentication only this phase the repeatedly to the authenticator authentication acknowledged or the closed. PAP authentication the clear with protection from or repeated and The the and of authentication PAP where to host. such PAP of security to the user the host. The Authentication (CHAP), as referenced RFC-1994, the identity of the This and repeated anytime the established. the phase the authenticator to the The with one-way function. The authenticator the its of the expected If the match the accepted, otherwise the CHAP MD5 as its CHAP protects with incrementally and The of repeated to the of to The authenticator the and of the CHAP known to the authenticator and that The the CHAP where the easily from both of the MS-CHAP, referenced RFC-2433, authenticates workstations, the functionality to which LAN-based users accustomed while the and algorithms MS-CHAP closely from the PPP CHAP with the that MD4 as its algorithm. XSR PPP
PPP Quality (LQM) PPP (MLPPP) PPP The MS-CHAP and to the CHAP and respectively. MS-CHAP of reason the It which to based using to from the that the Currently, MS-CHAP authenticators the field the the with the first MS-CHAP from the MS-CHAP NAK with CHAP (MD5) or PAP to MS-CHAP Authentication option the LCP from the referenced RFC-1989, LQM Link-Quality-Reports. These to to each to when the LQM the Link-Quality-Report and reference to and reception. functionality includes: LQM statistics and them to the based statistics from the the that LQM with Restoring the reaches PPP (MLPPP), as RFC-1990, to with higher based LCP option that the XSR to to its that of combining physical LCP the following: The XSR physical The XSR (PDU) using the header and reassemble the the PDU The XSR of where specified as of the option than the (MRU) physical The XSR PPP T3/E3 PPP T1/E1 of T3/E3 to T3/E3 that PPP T1/E1s of T3/E3 supported. transmitted header, which includes information to allow the the the to Functionality MLPPP the XSR includes: Learned of to each and the
MLPPP Fragmentation/reassembly Detection of MTU of MLPPP MIB network to four T1/E1 MLPPP MLPPP to streams MLPPP The to PPP, as RFC-2686, of streams PPP or interface. offers Quality of Service to and each that high such as and with The of MLPPP the following features: Reconstructed Unit (MRRU). This to Short Format allows to of higher when necessary. The XSR to the header the the router The (class) to The XSR (class) and to specify with the command. Format with the command. The of operating MLPPP as follows: with (class) layers to and bandwidth the with without the of the that relying to the with currently to four of While MLPPP MLPPP with and MLPPP header the of the as that (four MLPPP. If the than the of MLPPP the type the MLPPP to the that the higher type higher the which XSR PPP
PPP MLPPP and Latency PPP MLPPPs the the to the MLPPP each within the header, as shown to that reassembled and to higher the Option Format (Long/Short of Additionally, each of assigned the MLPPP header, four the and the The higher the the higher the the and assigned high, and to to Quality of Service information. MLPPP allows the that layers without the as follows: Higher without and and with the higher MLPPP the following higher through and otherwise the higher guaranteed. The of the higher should the of the used. The MLPPP Each MLPPP transmitted through the with latency occurring as the of operating With PPP and transmitted to each with the or To to latency. latency, measured milliseconds, as shown Table Table Latency
Interleaving the Head Format Negotiation Table Latency The latency asynchronous or T1 should the of the To latency, both the and higher or with and latency, when such as the XSR the of the higher the of the of the interleaving that the latency of higher the as the of the and To MLPPP as follows: Each with based the of the type. the which classifies the to the ACL and assigns to as follows: the the the the priority. The from to with and the highest. Class the class. Each the The as the allowed the the Each with the MLPPP header, which includes the information and to this and the of interleaved. with higher the of with that which the interleaving of the with numbers. received, they re-assembled based and with the of the within the The Head Format based whether MRRU, and as Table Table MLPPP Option MRRU Short Head Format MLPPP with MLPPP with Short MLPPP with XSR PPP
PPP and IP (IPCP) PPP MLPPP Option MLPPP with Short Not The to both and the numbers. That includes four from to with the highest The memory and throughput the of to the XSR. The of the of MLPPP to to that of both and The and with the the of and the of following the acknowledged the and acknowledged the Option MLPPP, every the the to and the the the Class, such as header and The of the otherwise rejected from the MLPPP with the the than the when the option The and the count the statistics increased. Also, the following PPP MLPPP: Class IPCP the following as referenced RFC-1332: The IP of the The to IP Compressed TCP/IP) with the the following IPCP offered: and Secondary DNS and NBNS Once IPCP allows IP the established PPP The IP and MTU of the interface to the higher (IP) to its
IP Assignment PPP (BAP/BAPC) PPP, IPCP option type to IP This option to the IP to the of the It allows the of the to which IP or to that the the information. The this the option, and IP If the the to the IP it the IP field as option with IP field IPCP IP to the to the or the The XSR the PPP (BAP/BACP) as of of as as specifying which This to to as Bandwidth-on-Demand information to Integrated Services and Configuring Services BAP/BACP, as RFC-2125, of BAP this and that allows to and the to user BAP/BACP the following Allows to through the of types, and numbers. thrashing caused that both of told when from The BACP reach the the PPP as RFC-1661. Once BACP reaches the BAP through this PPP/MLPPP BAP the PPP/MLPPP and the and reception of BAP and BACP through the interface other NCP Functionality BAP/BACP as follows: To the through BAP. with trying to to when both to To with to tear disconnecting the XSR PPP
PPP with PPP with Synchronous Interface Configuring PPP You PPP the following of physical interfaces: Synchronous T1/E1 PPP physical interfaces, PPP the interfaces that the physical interfaces. to of XSR with to XSR with One to PSTN the following to V.35 interface to with PPP: interface to specify the interface. the media-type the interface RS232). XSR(config-if<S1/0>)#media-type to PPP the IP of this interface. XSR interface interface
the Interface the Physical Interface the Interface shutdown to this interface. shutdown The following to the interface physical interface to function as interfaces to interface Services, to interface to the interface. The to to PPP auth <options> to the type of authentication. The authentication options or seconds to the to the LQM the interface to the The to the interface the shutdown command. interface to specify the interface. to PPP media-type {RS232 RS422 RS449 RS530A V35 X21} the interface to. The media-type RS232. shutdown to the interface. auth to the of which the interface to the interface as of the that the interface from to specifying the Priority optional from to that to this within the the interface the shutdown command. XSR
the Interface as the Interface PPP interface to specify the interface to back to the IP and of the interface. interface as the interface. to the the physical interface and the and the physical interface back and the to the of the interface should and the interface the shutdown command. The CLI commands shown below the shown interface to shutdown interface to authentication shutdown and assign to XSR(config-if<S1/2>)#media-type shutdown the to as its interface: XSR(config-if<S1/0>)#backup interface shutdown the to as its interface: XSR(config-if<S1/1>)#backup interface shutdown
MLPPP interface The following MLPPP interfaces and with and of the firewall each interface. Additionally, interface to and IP RIP firewall firewall firewall shutdown firewall firewall firewall shutdown firewall XSR(config-if<M73>)#ip firewall firewall shutdown The following MLPPP interface with and BAP and threshold and allowing and of the firewall interface load-threshold MLPPP interface XSR
BAP BAP One Router with XSR1 PPP idle-timeout watch-group XSR(config-if<D255>)#ip firewall firewall shutdown The XSR to functionality to BAP, which of The router when and as as PPP One function to the to LAN of the routing while physically The router when and tears when timeout reached. the XSR to the router only. Additional includes specifying BAP and threshold On the XSR, the first the router the and BAP the as they The following to BAP: PRI/BRI physical interfaces BAP such as the threshold and phone The following BAP, and Callback connected The following BAP PRI and BRI interfaces with each of the other. The only XSR or XSR1 the T1 (PRI interface):
XSR2 shutdown BRI interface with the switch type and XSR1(config-if<BRI-2/0>)#isdn switch-type XSR1(config-if<BRI-2/0>)#isdn shutdown the interface with shutdown BAP specifying the load-threshold BAP, and XSR1 to initiate the of that the threshold that BAP relatively when to build. load-threshold Complete the timeout and idle-timeout XSR1(config-if<D1>)#ip the and ACL XSR1(config-if<D1>)#access-list XSR2 to incoming only. XSR2 the T1 (PRI interface): shutdown BRI interface with the switch type and XSR2(config-if<BRI-2/0>)#isdn switch-type XSR2(config-if<BRI-2/0>)#isdn XSR2(config-if<BRI-2/0>)#isdn shutdown XSR BAP
BAP BAP Call/Callback XSR1 XSR2 PPP the interface with shutdown BAP BAP and BAP phone XSR1 to The following BAP with XSR1 to and callback to XSR2, which with and with to XSR1. shutdown shutdown load-threshold callback shutdown shutdown
Further of MLPPP and of its the XSR found Services and Integrated Services Network this and the XSR CLI Reference XSR BAP
BAP PPP
(FR) that offers fast-packet switching wide-area It the and features of X.25 with fast and high performance and overhead. individually known as rather than them packet-switched where the the of the FR based the (VC) software-defined that acts as the The XSR FR which reduces the of physical to FR with to typical topology. The (DLCI) assigned to PVC essentially, the to which the attached, as shown interleaving from or known as FR switch the DLCI three integrity, their associated DLCI the DLCI and they relayed to their through the specified the If the or the DLCI the The frame-relay DLCI to specified FR XSR
Network Topology New York From the perspective of the OSI reference high-performance WAN operating the physical and layers and from switched the reached. Devices attached to FR WAN (DTE) and (DCE). DTE station, the or of through FR FR router, or PC. the XSR acts as DTE or terminating DTE FR and DTE FR the FR header from the IP The intf-type assigns the to the DCE internetwork switching located service network clocking and the switches which actually the WAN. these switches. The DTE and DCE consists of both physical- and The physical mechanical, functional, and specifications of the the while the the that establishes the the DTE and the DCE. Switching
Encapsulation The XSR the following FR features: The XSR acts as DTE/DCE the UNI Network Interface) interface, FR PVC (NNI functionality supported) DLCI using DLCI header and headers supported) Rate (CIR) with when the congested. Automatically to rates when Congestion Congestion (BECN). The XSR with the BECN (DE) counted as received Three ILMI (FRF1.1) ANSI D, CCITT A. supported: LMI and The type as of FRF1.2 allowing LMI to than physical interface FR (RFC-2427). IP ARP RFC-2390 LMI DCE includes and ILMI interface. Other LMI interface. interfaces the physical FR (sub-interfaces) Quality of Service: FIFO or IP Industry-standard CLI and statistics PDU of End-to-end FRF.12 SNMP RFC-2115 The XSR the following FR interfaces or sub-interfaces FR interface FR interface LMI ANSI, Q933A, NONE FR interface LMI AUTO, ILMI FR XSR of to FR. This when to FR as RFC-2427, which to XSR
Congestion ARP Congestion Rate Enforcement (CIR) Traffic The XSR ARP to (DLCI) to as RFC-2390. ARP IP to Technically, this to FR that (DLCI), the FR of associated with established (PVC), know the IP of the the other of the While FR dedicated, throughout the these physical and FR switches, DLCI provisioned, the assigns Committed Information Rate (CIR), Committed burst and burst the Both CIR and burst though, You the CIR the XSR with the frame-relay command. FR that users of their the and that borrowed other to of exceeding their Committed burst this to the the causing If FR reactive including that inform stations that the One with reactive that already occurred. Although eventually cleared, and reduced. This network to the first and that accomplished with CIR PVC. CIR PVC from the the the the and the FR switch. Without this VC the access-link FR Traffic high of throttling bursty to the the traffic-shaping command the XSR. the to further reduce CIR to the relay the XSR. CIR the of service that FR PVC FR the to burst the CIR You the CIR using Information Rate (EIR), might the of Traffic from of such as CIR, which reduces the of Without this VC the access-link FR
(DE) Congestion (FECN) Congestion (BECN) Several other hand-in-hand with CIR flow. Committed burst the of that the to from CIR CIR to the burst the CIR The outgoing burst burst the of that of these The outgoing burst Another of the of to that and then to the amounts to that within the the known as and smoothing. The (DE) of the header. FR DTE this to to that the the burst and that the switch this other with the DE to congested to ease incoming without to the DE Congestion (FECN) to inform the DTE the of the from to DTE with the FECN to flow-control action as The XSR counts with the FECN otherwise with the Congestion (BECN) the of encountering congested path, as shown DTE with the BECN assuredly congested This the and possibly It helpful to the DTE to proactively throttle output to the from congested Source DTE Destination DTE Congestion Congestion Switch BECN Switch Switch C Congestion FECN XSR
Congestion BECN to the outbound known as It the XSR. To first the then with this interface, or DLCI which the BECN The following shows to BECN STG shutdown XSR(config-if<S1/0>)#media-type V35 frame-relay XSR(config-if<S1/0>)#frame-relay XSR(config-if<S1/0>)#frame-relay traffic-shaping STG shutdown DLCI authorized to of of The of of and The allowed to this of based the milliseconds non-congested this DLCI to every milliseconds. If and received, the XSR becomes congested and the DLCI Other throughput unaffected. the first BECN, the amount from the the DLCI milliseconds. If within three seconds, one-half of the amount back each the restored. within three seconds, the CIR reduced of the CIR. Every three seconds that received, the CIR reduced of the CIR the CIR one-half of the CIR One-half of the CIR the CIR, Once received, the CIR to recover the CIR of of the CIR every seconds: recovery the hope of thrashing when recovering from CIR recovered, of of seconds.
Information (LMI) Sub-interfaces FR UNI-DCE with attached FR DTE the XSR) about the of the PVC through Information (LMI). LMI the of the and the following Active/inactive interface known as or heartbeat The that interface The of each DLCI New, or Three of the LMI Table below: Table LMI Specifications ILMI, (OGOF) (IA). FRF.1 superseded FRF.1.1 (ANSI) ANSI T1.617 ITU Q.933 The the LMI which the XSR as to inform the that the to the router or as the of the that The then with the of or the optional the PVC LMI one-way and one-way only, that the XSR and the with this both of the interface to the commands and to the ILMI (which DLCI DLCI PVC The to and DLCI ILMI and AUTO interface to and to interface. the of the each of the FR Each includes slightly of the The XSR UNI-DTE and UNI-DCE three LMI as as which the option the frame-relay command. the LMI type to and The XSR FR as which interface to the network the physical or which with their physical this the XSR or interfaces which associated with physical interface. FR sub-interfaces created with the interface command. The assigns DLCI to interface and the command assigns to DLCI Information (LMI) XSR
FRF.12 FRF.12 End-to-End Commands Generally to of service and when operating FR or lower), when the to FTP traffic). This to the fact that milliseconds to If high to arrive the FR the would least the This the and The FRF.12 to this of and allowing high priority, the DLCI to the that If the bytes, then the high to the of approximately the This than the without The XSR such that both stations the and to the FR This when the both stations the FR relatively End-to-end DLCI If DLCI that interface there of whose enough to latency from reasonable known to moderately- (those than or to the when to allow which to to with as as To path, to classify the that only latency the high other then classified the to the of high which than the Usually, high of the high too to transmitted. which transmitted interleaved. If currently transmitted, the high to and from higher latency. The frame-relay the the FR and the frame-relay displays statistics. The XSR CLI commands immediately and become of the If FR the reflected FR which reference this the
Statistics Reports and Clear Statistics the to the the within Flash. The Class (characteristics) that to the to The FR class. The displays the the those than displayed. The following commands statistics: displays or interface LMI counters. displays and IP ARP. frame-relay displays ARP statistics. displays or interface, or DLCI displays information summary or displays information as as the interfaces which with them. The FR-related A: and ASCII A-1. becomes necessary, the ARP Table and other of FR statistics with the clear and clear counter commands. The clear frame-relay or FR and the clear relay counter or DLCI or FR FRF.12 XSR
Interconnecting Network Interconnecting Network The following typical FR to branches to the the FR as shown Branch/Central Topology Houston Memphis Branch FR or characteristics (CIR, IP switch from branch high T1 interface with of the Network High FR (clear T1/ E1 or fractional T3) to to each to FR templates to New York Chicago
to The following the XSR New York to with and as shown to Topology New York to CIR: CIR: XSR The following CLI commands the to At the New York with to and The of New York and both and the New York XSR creating the EF, and AF1 with IP and DSCP match NewYork(config)#class-map NewYork(config-cmap<Tos4>)#match NewYork(config-cmap<Tos4>)#class-map EF NewYork(config-cmap<EF>)#match NewYork(config-cmap<EF>)#class-map match-any AF1 NewYork(config-cmap<AF1>)#match NewYork(config-cmap<AF1>)#match NewYork(config-cmap<AF1>)#match the with and the EF AF1 NewYork(config-cmap<AF1>)#policy-map NewYork(config-pmap<Voice>)#class EF NewYork(config-pmap-c<EF>)#priority high NewYork(config-pmap-c<EF>)#class NewYork(config-pmap-c<Tos4>)#priority NewYork(config-pmap-c<Tos4>)#class AF1 NewYork(config-pmap-c<AF1>)#bandwidth the with CIR and Also, assign the service to the of the interface the section. NewYork(config)#map-class frame-relay NewYork(config-map-class<frf12>)#frame-relay Network XSR XSR XSR
NewYork(config-map-class<frf12>)#frame-relay NewYork(config-map-class<frf12>)#frame-relay NewYork(config-map-class<frf12>)#frame-relay NewYork(config-map-class<frf12>)#service-policy interface with FR including NewYork(config)#interface NewYork(config-if<S2/0>)#media-type V35 NewYork(config-if<S2/0>)#encapsulation frame-relay NewYork(config-if<S2/0>)#frame-relay ANSI NewYork(config-if<S2/0>)#frame-relay traffic-shaping NewYork(config-if<S2/0>)#frame-relay NewYork(config-if<S2/0>)#no shutdown with and NewYork(config)#interface NewYork(config-subif<S2/0.1>)#ip NewYork(config-subif<S2/0.1>)#no shutdown NewYork(config-subif<S2/0.1>)#frame-relay NewYork(config-subif<S2/0.1-980>)#frame-relay On the XSR, the to those the New York XSR: Andover(config-cmap<Tos4>)#match EF Andover(config-cmap<EF>)#match match-any AF1 Andover(config-cmap<AF1>)#match Andover(config-cmap<AF1>)#match Andover(config-cmap<AF1>)#match the with and the EF AF1 EF high Andover(config-pmap-c<Tos4>)#priority AF1 Andover(config-pmap-c<AF1>)#bandwidth the with to those the New York XSR: Andover(config-map-class<foo>)#frame-relay Andover(config-map-class<foo>)#frame-relay Andover(config-map-class<foo>)#frame-relay Andover(config-map-class<foo>)#frame-relay Andover(config-map-class<foo>)#service-policy interface with FR including Andover(config-if<S2/0>)#media-type V35 Andover(config-if<S2/0>)#encapsulation
Andover(config-if<S2/0>)#frame-relay ANSI Andover(config-if<S2/0>)#frame-relay traffic-shaping Andover(config-if<S2/0>)#frame-relay Andover(config-if<S2/0>)#no shutdown with DLCI Andover(config)#interface Andover(config-subif<S2/0.1>)#ip shutdown Andover(config-subif<S2/0.1>)#frame-relay On the XSR, the to those the New York XSR: Montreal(config-cmap<Tos4>)#match EF match-any AF1 the with and the EF AF1 EF high AF1 the with to those the New York XSR: frame-relay Montreal(config-map-class<foo>)#frame-relay Montreal(config-map-class<foo>)#frame-relay Montreal(config-map-class<foo>)#frame-relay Montreal(config-map-class<foo>)#frame-relay Montreal(config-map-class<foo>)#service-policy Montreal(config-map-class<foo>)#exit interface with FR including Montreal(config-if<S2/0>)#media-type V35 frame-relay Montreal(config-if<S2/0>)#frame-relay ANSI Montreal(config-if<S2/0>)#frame-relay traffic-shaping shutdown sub-interface with DLCI shutdown Montreal(config-subif<S2/0.1>)#frame-relay XSR
of Services Services This chapter information about the of functionality: Ethernet PPP (MLPPP) Interface Watch Services the Switched Telephone Network (PSTN). Networks typically interconnected using Network (WAN) Services Integrated Service Network (ISDN) (TAs), or integrated ISDN to establish low-volume, circuit-switched Services to leased and they implemented of both inbound and outbound The XSR the following features: service through Synchronous or interfaces Outbound of PPP CHAP, MS-CHAP and PAP authentication and security Callback Services XSR
and Synchronous and Synchronous AT Commands Synchronous Interfaces Services Synchronous and asynchronous interfaces to or requested, the XSR commands to the of the to The then the and establishes to the following AT commands asynchronous interfaces DTR interfaces Typical Services Ethernet On asynchronous AT commands to establish and clear the to of commands and The should to and Clear To CCITT V.24 and input of the Ready the XSR. services from the interface to that of establishing or and services the and operation. The allows and commands to the interface to and terminate Devices to the XSR DTR, the that currently connected. the to the (DCD) asserted. DCD to DCD and Ready (DSR) PSTN XSR XSR Ethernet
DTR Synchronous Interfaces of Typical Services Ethernet the The functions of these options nation-specific, and they to of commands and Table ITU-T Option tone to optional to DTMF optional optional interfaces from through Routers connected ready (DTR) only, which the interface the Interface using the the and to of when interface as leased the the interface the to and the the of the or whether the services WAN connectivity as or as Employing secondary interface as to interface. services as of this release. FastEthernet/GigabitEthernet interfaces or where (DSL) redundancy. The interface command while the and commands to the or Ethernet Asynchronous and Synchronous XSR
Services Services Profiles Services services interfaces which as XSR interface of or You Services creating to perspective and of Services. Profile which interface locations the XSR. Services Network Profile Austin of and physical interfaces which bound together as physical interfaces from the to This to XSR interfaces. when physical than users because of the the based typical that to or from the subnetwork the consists of the following interface WAN interface with that with The interface constantly connected to the whenever To the It with the interface command. The interface XSR
Interface to or and non-spoofed to Interface information. characteristics of to the including the to It specified with the command. IP the of the It with the command. to reach They with the command. of physical interfaces to reach Interfaces weighted It with the command. interface, which of the XSR to to include Each turn, associated with its own which the characteristics to the specified to of interface which illustrated and straightforward their You the interface and each associated with class. Each interface of physical interfaces The physical interfaces based selection the XSR. interfaces to allowing of to service of users. The of this that when to them. There of as follows. Applying to the Each to the shared its interface. This to LAN or WAN and the and creating Unnumbered Interfaces to leased interfaces, the of another interface the XSR borrowed the interface. Unnumbered of the fact that there only the The routing to interface (the interface) and building interfaces the XSR with the interface that the Services XSR
Services Encapsulation ISDN Callback Services clear established and the PPP the of choice Services and or asynchronous Also, PPP and authentication and interoperable with ISDN callback functionality, known as to ISDN charge The of this the XSR, the router to back and the the associated charge. of ISDN callback PPP or PPP and the to with the callback command, the functionality ID with ISDN callback to from specified The XSR matches with the Typically the ISDN switch the only the (four to of the least If the ISDN switch the callback Callback or with or neighbors. this from the XSR. to ISDN Callback Interface interact with interfaces and three the XSR. The with backgrounds Profiles. interfaces and and Profiles.
of Profiles Interface Interface Interface three Interfaces with three associated interfaces of and three interfaces with interface them. IP Services XSR
Services Services Interface illustrated and and Profiles and specifying the to Topology Network Interface Interface NY shared and
Profile of Destination Interface Network and higher priority) Services the and to XSR
Services the Interface Creating and the Interface Services of Destination Interface The following to to and the interface (optional distinguishes physical interface the interface interface to the interface. The to to PPP to specify the The to classname to specify the to used. The normally telephone Network and higher priority) the and to
the Class the Physical Interface the Interface classname to This match the classname specified the command. wait-for-carrier-time seconds to the the to the interface to specify the interface. to PPP <priority> to assign the interface as of the that the interface Priority optional to this the from The The CLI commands below those to interface interface with and each: andover shutdown with the wait-for-carrier-time with the andover wait-for-carrier-time with shutdown with shutdown Services XSR
Services ISDN Callback with Matched Calling/Called with Calling/Called with One Neighbor with Neighbors Services The following CLI commands and with or neighbors. The following commands the XSR with matched and phone numbers: callback shutdown The following commands the XSR with and phone numbers: callback XSR(config-if<D1>)#encapsulation shutdown The following commands the XSR with callback that or from the that to specify the to accepted. callback XSR(config-if<D1>)#encapsulation shutdown The following commands the XSR with callback that match the The first specified, callback. callback
of of shutdown The The brought when and brought when the restored. when the activated and when the deactivated, that brought when the XSR IP and to when the The secondary when routing PPP and Frame-Relay the interface associated with which with DLCI and IP while the interface the information and and class). to Encapsulation activated the and the following when interfaces that IP only; that the the where IP specified. interface and to the sub-interface interface The following of when and detected. This and monitored. The function about With the reachable through that interface from the routing function the to the interface. Activating the delayed, as such. activated. of XSR
the Interface Services the action. Static the routing searches its Static Routing and the that reached through the interface. the routing (RIP) learns of through the and them to the IP Routing and the the re-established the function the to the interface the and the process. Remote The following to the interface physical interface to function as interfaces to interface the following to the interface: interface to the interface. to PPP to the XSR
the Physical Interface the Interface Interface as the Interface the following to the physical the interface: interface to the interface. to PPP to the interface as of the that the interface Priority optional to this within the the following to the the interface: interface to specify the interface to back to the IP and of the interface. interface as the interface. to the the physical interface and the and the physical interface back and the to the of the interface should and The CLI commands shown below those to the shown interface to shutdown shutdown to interface as its interface: XSR(config-if<S1/1)#backup interface XSR(config-if<S1/1)#backup XSR(config-if<S1/1)#backup shutdown The the the should the the and that the should activated and the should deactivated. and the interface of the the when the command. XSR
Services shows of interfaces to back interface Interface Interface Interface The CLI commands shown below those to the shown interface to shutdown interface to XSR PPP Interface Interface Interface Leased IP PPP PPP Interface Leased
of shutdown to to shutdown to as its interface: XSR(config-if<S1/1>)#backup interface XSR(config-if<S1/1>)#backup shutdown to as its interface: XSR(config-if<S1/2>)#backup interface XSR(config-if<S1/2>)#backup shutdown The high-speed, when-needed services or PPP ISDN Interface including the following: PPP to PPP to MLPPP to MLPPP to Incoming Switched PPP using ISDN with MLPPP The below apply to the of switched They the they interface and include ISDN interface or associated switched unnecessary, the automatically. Leased-line and interface of XSR
Interface Interface Watch Services information ISDN Integrated Services Network and the XSR CLI Reference Optional commands shown interface as the to when That the physically disconnected the the routing that when initiated, promptly, the of the The interface three of operation: Non-spoofed the interface as as there active the interface and the routing Spoofed the interface and directly to neighbors. You the interface when the interface first created. The with the following commands: interface This the interface of operation and interface spoofed point-to- this option applications. The interface while operating spoofed Additionally, the and, as such, the interface IP The Watch each the routing routing of the physical interfaces) Static RIP learned OSPF learned with the watch-list as of Watch the watch-list XSR. The functionality the subsystem and Interface Each interface to back watched with or watch-groups, the watch-group command, to each other the
Watch specified the Router (VRRP) with the watch-group command. information, to IP At the the Routing Table (RTM) the subsystem when or from the routing based the the to including information such as the IP and other as this chapter. the Routers A, B, C and to through leased or of the Router connectivity or switched Router Leased (T1) leased (T1) Leased (T1) Router C The XSR Watch the following Whenever watched Watch to there least the watched IP If the and If the least IP the and the to interface other than the interface Watch, the If the Watch immediately the routing and the secondary brought If the the secondary indefinitely. If the the secondary disconnected. Additionally, to the secondary to the re-established. Watch Topology ISDN Router ISDN Router Watched XSR Watch
Incoming ISDN Caveat Incoming ISDN Services The following to Watch functionality: The the secondary switched this to the watched than the this the offset command. offset interface The XSR incoming ISDN as follows: incoming If there interface it the incoming to that interface. If there than interface the XSR to the incoming to only of these interfaces based of the following the ISDN switch: Called Calling based the the following The ISDN switch to the XSR. that of switches this information. The the interface the command. based the the following The ISDN switch the to the XSR that of switches this information. The the interface the command. Incoming to interface based the PPP authenticated username the following The username the interface using the command. Interface with the PPP authentication authentication the where interface the command, mapped based the matching the the or the PPP authenticated username the the command. the where interface found the the XSR high severity inbound and the ISDN
Incoming (Calling This as shown of from and each incoming to the IP interface interface). Incoming Topology [XSR] [XSR] IP The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands group, timeout, and BRI interface to interface The to B, specifying IP and as as the Optionally, clear text to the PAP authentication. shutdown idle-timeout XSR(config-if<D1>)dialer-group The following the ACL to and ICMP to seconds: The following ACL to IP ISDN [XSR] Incoming ISDN IP IP XSR
Incoming ISDN (Called (Calling Services The following commands users to from A. This the username/authentication of These commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands BRI interface XSR(config-if<D0>)encapsulation authentication The following commands and BRI interface to interface The to Optionally, the and specify PPP authenticated username to incoming shutdown The following commands and BRI interface to interface The incoming to Optionally, the and specify PPP authenticated username to incoming shutdown XSR(config-if<D2>)#encapsulation The following the SNMP to XSR(config)#snmp-server These commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3
shutdown The following commands group, timeout, and BRI interface to The command to B, specifying IP and phone as as the Optionally, clear to the PAP authentication. shutdown idle-timeout XSR(config-if<D1>)dialer-group The following interesting the ACL to and ICMP to seconds: The following ACL to The XSR Bandwidth-on-Demand the to the following The timeout to when interesting specified Access (ACL). The brought the The threshold to the to or This the The to the This the BAP to with the to or information BAP interfaces, to PPP of the functionality illustrated the topology shown XSR
PPP (Calling Services IP [XSR] commands optional. this of the initiate the of switched when access-list to the The following commands and group, and the Office switch type BRI The commands interface with and to to terminate the seconds. XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown shutdown idle-timeout XSR(config-if<D1>)#dialer-group The following optional commands to second, interface to the group: shutdown idle-timeout Topology ISDN IP IP [XSR] IP C [XSR] IP IP [XSR]
(Called PPP XSR(config-if<D2>)#ip The following the to and ICMP to seconds: The following command ACL to The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands and BRI interface to interface Optionally, the to incoming to and interface with shutdown shutdown The following both to initiate the of switched when to the The of the symmetrical, that both and The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands group, interface with and to to terminate the seconds: XSR
PPP Services shutdown idle-timeout The following command the to and ICMP to seconds: The following command ACL to The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands and group, and MLPPP interface If the seconds, brought shutdown idle-timeout The following the to and ICMP to seconds: The following ACL to The following PPP topology, as illustrated
Routing Routing The following commands interface authentication Enforces authentication username to XSR XSR-andover the authenticated username shutdown The following authentication of the XSR-andover The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands group, to to the PAP authentication, and interface with Topology Switched XSR
PPP Services XSR-andover XSR(config-if<D1>)#dialer-group interesting to idle-timeout Terminates to the seconds shutdown The following commands and the Office switch type BRI interface XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following ACL to The following the to and ICMP to seconds: The following only; applications. to PPP Topology Switched Switched Switched
Dial-out Router Router The following commands and group, to to the PAP authentication, and specify three MLPPP and interface the command. shutdown The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following ACL to The following the ACL to and ICMP The following commands interface Enforces authentication incoming authentication The following commands and specify the PPP authenticated username of XSR- to interface shutdown The following commands and the PPP authenticated username XSR- to to interface XSR
MLPPP (Calling Services shutdown The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following authentication: The following as illustrated switched MLPPP when Access to initiate the MLPPP The following commands with the Office switch type to BRI interface XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands group, MLPPP, timeout, and BRI interface to interface The the XSR to of the switched The to B, specifying IP and phone as as shutdown idle-timeout XSR(config-if<D1>)#dialer-group The following interesting the ACL to and ICMP traffic: The following command ACL to
MLPPP Router The following commands with the Office switch type to BRI interface switch-type basic-net3 shutdown The commands below and MLPPP shutdown The following MLPPP as illustrated This three switched users with those MLPPP Topology The following commands and PPP interface XSR- MLPPP Switched Switched Switched XSR
Dial-out Router MLPPP Services shutdown The following commands and the switch XSR- T1 interface XSR(config-controller<T1-1/1>)#switch-type shutdown The following commands and and specify the interface of interface shutdown These commands and the switch T1 interface XSR(config-controller<T1-2/3>)#switch-type shutdown The following ACL to The following interesting the ACL to and ICMP to seconds: The following MLPPP applications, as This switched users XSR- with those three
Dial-out Router MLPPP Topology MLPPP Switched Switched The following commands and group, and specify three MLPPP and interface the command. shutdown XSR(config-if<D1>)#dialer-group The following commands and the switch T1 interface XSR(config-controller<T1-2/3>)#switch-type shutdown The following ACL to MLPPP Switched Switched MLPPP Switched Switched XSR
Router MLPPP Services The following the ACL to and ICMP The following commands and PPP interface XSR(config-if<D1>)#encapsulation shutdown The following commands and the switch T1 interface XSR(config-controller<T1-2/3>)#switch-type shutdown The following as shown the of switched MLPPP when to Both initiate and switched MLPPP The following commands and the Office switch type BRI switch-type basic-net3 shutdown The following commands and group, and specify MLPPP interface If the seconds, brought shutdown idle-timeout The following the ACL to and ICMP to seconds:
Switched PPP Bandwidth-on-Demand The following ACL to The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands and group, and specify MLPPP interface the command. shutdown XSR(config-if<D1>)#ip XSR(config-if<D1>)#dialer-group idle-timeout The following command the ACL to and ICMP to seconds: The following ACL to This PPP ISDN together with as shown MLPPP Topology IP [XSR] C ISDN [XSR] Switched PPP IP XSR
Switched PPP (Calling C (Called Services The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands group, MLPPP, threshold of and BRI interface to interface The load-threshold the XSR three the switched The to C, specifying IP and as as the shutdown XSR(config-if<D1>)#dialer-group load-threshold idle-timeout The following interesting the ACL to and ICMP to seconds: The following ACL to The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands MLPPP, and BRI interface to interface The incoming to its shutdown
ISDN This ISDN NIM BRI or T1/E1 PRI) to other interfaces, as shown ISDN IP IP [XSR] IP IP The following commands internal clocking and with three T1 clock internal shutdown The following commands and the Office switch type BRI switch-type basic-net3 shutdown The following commands to specify clear to the PAP authentication, and BRI interface to interface shutdown The following commands to and BRI interface to interface shutdown ISDN leased IP IP C [XSR] IP IP XSR
C (Called Services The following interface shutdown XSR(config-if<S2/0:0>)#backup interface XSR(config-if<S2/0:0>)#ip The following interface sub-interface shutdown XSR(config-if<S2/0:1>)#backup interface XSR(config-if<S2/0:1>)#ip The following authentication: The following commands with of three T1 interface shutdown The following commands and the Office switch type BRI switch-type basic-net3 shutdown One of the following commands PAP authentication interface XSR(config-if<D0>)#encapsulation authentication The following commands and specify the PPP authenticated username to incoming interface shutdown The following commands and incoming to
with MLPPP (Backed-up shutdown The following sub-interface shutdown XSR(config-if<S2/0:0>)#encapsulation XSR(config-if<S2/0:0>)#ip The following shutdown The following commands internal clocking and with three T1 shutdown The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands MLPPP, specify to C phone and BRI interface to interface The the XSR to of the switched shutdown The following shutdown XSR
C (Called Ethernet Services XSR(config-if<S2/0:0>)#backup interface The following commands with three T1 interface shutdown The following commands and the Office switch type BRI XSR(config-if<BRI-1/0>)#isdn switch-type basic-net3 shutdown The following commands MLPPP, and BRI interface to interface shutdown The following commands shutdown This DSL FastEthernet interface. interface as the FastEthernet the that the IP of the PPP and the MTU to to to the XSR. XSR(config-if<F2.1>#backup interface shutdown
Encapsulation This FR and typical class) interface while the DLCI and IP ISDN shutdown XSR(config-if<D20>)#interface XSR(config-if<D20.1>)#frame-relay shutdown XSR
Services
Integrated Services Network ISDN This chapter to the Integrated Services Network (ISDN) the XSR the following XSR ISDN features ISDN ISDN BRI PRI Leased ISDN T1 PRI E1 PRI ISDN BRI BRI Leased BRI Leased PPP BRI Leased of XSR routers than XSR and routers. interfaces FastEthernet ATM and BRI (as as their sub-interfaces) the XSR information, to the XSR Started The BRI interface and T1/E1 PRI acts as that and tear the of higher functionality, the The ISDN to from the of the to screened the The ISDN services BRI and PRI the following XSR and routers: or NIM PRI or BRI-S/T NIM or BRI NIM XSR
ISDN BRI PRI ISDN Integrated Services Network (CMD): or Bs) switched the CO to the the of the Incoming routed to the based number/sub-address and number/sub-address. or lease Each BRI CMD or Leased-Line of operation. Supported switch types: ETSI international applications, NI1 5ESS and DMS100 North America and NTT activation initiated incoming or outgoing ETSI and NTT switch types. TEI Q.921/Q.931 selection of switch type. (CMD): or Bs) switched the CO to the the of the Incoming routed to the based number/sub-address and number/sub-address. Supported switch types: ETSI NI2 5ESS DMS100 and NTT and TEI to Q921/Q931 the choosing switch type. Not the XSR Physically, ISDN twisted which would, the of ISDN service, telephone service or T1/E1 Typically, numerous ISDN this through as NT1 the North America and the everywhere PRI service terminated the T1/E1 NIM the as E1 or T1 service. BRI service connected to the BRI-S/T NIM interface known as NT1. The NT1 the service North America users to their NT1. The BRI NIM connected directly to BRI North America as they include built-in NT1. Logically, ISDN consists of of service which and services and which and information which to and tear The of the the type of ISDN service to. ISDN services include Rate Interface (BRI) service, which to and and Rate Interface (PRI) service,
Rate Interface Rate Interface which to North America and and and of and both. The BRI NIM BRI Each and BRI the XSR interface sub-commands. ISDN PRI T1 service North America and and includes D- and and E1 service includes other of the world. The of the of the the T1 North America and and E1 everywhere BRI, PRI and connected to PRI service. PRI than the of through BRI BRI and PRI the the of PRI the XSR commands. The or known as typically circuit-switched telephone physical that temporarily to The circuit-switched of combined with their and relatively high ISDN of including and They to or higher The XSR PPP or PPP the switched BRI or PRI information, to the PPP and MLPPP this The routers as or which as leased-line to the T1/E1 The such as instructing the ISDN to or tear to that to or to the information that such as The packet-switched which to the latency-sensitive of traffic, accounting the reduced of to seconds ISDN to seconds the which as the associated with higher Q.921 and Q.931 of the OSI Q.931 the of this although to This the Access Procedure-D-channel (LAPD): Q.921, ISDN XSR
ISDN and Networks ISDN Integrated Services Network The XSR which with the switch-type command. The and associated switches International: basic-net3 BRI and primary-net5 PRI basic-ntt BRI and primary-ntt PRI North and basic-dms100 switches BRI and primary-5ess and PRI the ISDN Q.931 instruction from location, to switches to the and the directory Q.931. The though. ISDN and the and switches such as Q.931, which (SS7) within the and With SS7, to clear The switch the of the then with the ISDN its Unfortunately, SS7 implemented, leading to when ISDN switches. instance, switch SS7 ISDN features, and in-band or through the as the service. other of reducing This the switched-56 services, which of ISDN that through least which SS7 then its to such the ISDN both to of their to the of The XSR to the of incoming whether or ISDN North America, users the specifying or If the rejected and the router try to If users to that their succeed, the XSR outgoing Services information. To both which with such as V.110 or V.120 This usually whenever ISDN originates or through the U.S., where ISDN BRI ISDN known as (TE), directly to NT1 terminating This service North America where users supply their NT1 or BRI U-interface NIM with built-in NT1. The NT1 and S/T reference The reference the section of the that the Office with customers while the S/T
Security reference the S/T that the NTI connected to as as that the XSR and with the ISDN service to that the fashion. International to the S/T NIM as the to the North American or S/T The XSR offers features which reduce and overhead from ISDN strictly as when to Bandwidth-on-Demand ISDN as efficiently as to loads. The first of this short-hold which from the of traffic, while instance, workstation connected to the LAN ISDN, PC With short-hold the of the ISDN brought although from the perspective the would active, (and transparently) ISDN The of that as increase or or subtracted to the This of often PPP which of or BRI/PRI The XSR this of with the load-threshold and of commands. To further properly, the XSR and to overhead such as RIP from the ISDN Although of these without to workstations and the with another. The XSR overhead the of Access specifying and overhead to the while ISDN The XSR LAN where RIP or OSPF RIP the WAN only when to the and with traffic. The to Security another of and ISDN the security features of through as as its own mechanisms. ISDN, to the authentication of PAP/CHAP the security of with ID. With the calling-number command, the XSR the of incoming phone with of numbers. then restricted to pre-screened locations, when PAP/CHAP authentication ISDN XSR
ISDN ISDN Trace Trace Decoding Q921 Decoding Integrated Services Network of the ISDN service. features terms of security, tracking of and of that the of ISDN that ISDN often usage-related, this and recording that might with the monthly At the with the to ISDN as the The interface and service commands and physical including The history and active commands the reason why disconnected. These Table The XSR and of Q921 and Q931 ISDN troubleshooting with the command. This initiates or ISDN to the the the of locking other or If both (Q921) and (Q931), both layers. with this command. You the the or terminating the option, of to which the CLI which the If the specified, the The that refreshed each The XSR Q931 and Q921 from the and displays them. the and information with the section of the displayed that should ISDN ISDN the following shows or the XSR ISDN BRI ISDN PRI the type of and XSR and the hh:mm:ss:msec displays the At Q921 the XSR Access (LAPD) to of the the header. Q931 information the UI and INFO the as shown of the following Reference the succeeding section:
Q931 Decoding ISDN-BRI Q921 UI info:0F FF ISDN-BRI Q921 INFO info:08 7B 3A ISDN-BRI Q921 SABME ISDN-BRI Q921 RR Reference UI Unnumbered Information. SABME Command/Response field SAPI Service Access TEI Unnumbered acknowledgement. INFO Q931 Information RR Ready of reference At Q931 the XSR Q931 as follows: On the field, the reference and type displays. On the of the shown. On the following the as follows: of the IE of the IE of the IE or further to the following Q931 ISDN-BRI CallRef=7 SETUP 0E 6C ISDN XSR
ISDN Integrated Services Network Next Id. 6C Calling N0:2800 Called N0:2500 The succeeding section and the XSR displays. and UNKNOWN or IE Q931 Decoding IE Information NATIONAL ALERT More CALL PROC Bearer CONNECT CONNECT ACK identity PROGRESS SETUP Id. SETUP ACK Facility MODIFY MODIFY COMP facility MODIFY REJ RESUME RESUME ACK RESUME REJ facility SUSPEND SUSPEND ACK Switch SUSPEND REJ activation USER INFO DISCONNECT Information RELEASE RELEASE COMPL Calling RESTART Calling RESTART ACK Called SEGMENT Called CONGESTION Redirecting INFO Transit Network FACILITY NOTIFY STATUS High
Decoded BRI NI-1, DMS100 5ESS SPID (TEI) Procedures ISDN Q931 Decoding IE Information STATUS ENQ UNKNOWN to and the XSR, as shown the following Those and services Called N0:2500 Calling 6C Calling N0:2800 Normal clearing. to ISDN (ITU Q.931) of Q931 (with reference supported, as shown the following ISDN-BRI CallRef=Dummy INFO 7B 3A 3A Service Profile ID ISDN-BRI CallRef=Dummy INFO 7B 3B 8F B7 3B 8FB7 TEI as UI as illustrated the following ISDN-BRI Q921 UI info:0F FF ISDN-BRI Q921 UI info:0F FF PRI interfaces the T1/E1 NIM and physical the The assigns the (DS0s) of the T1/E1 to ISDN Interfaces of using the following commands: The ISDN switching. XSR ISDN
ISDN BRI (Switched) Configuring Integrated Services Network The command The commands or the other PRI interface, both. On the E1 NIM, ISDN, and the T1 NIM. Other PRI commands selects from B1 (ascending) or B23/B32 calling-number outgoing ISDN switch-type the Office ISDN switch type. BRI interfaces BRI-S/T or UNIM From software perspective, S/T and and both The type only. North the connected directly to the ISDN service the S/T NT1 to connected the S/T and the service North America, the S/T with The of operation of the BRI CMD switched and leased Leased to T1/E1 commands BRI ISDN commands number:subaddress to screened. calling-number included outgoing Service Profile ID calling-number: switch-type selects the interface ISDN switch type. leased-line BRI interface to leased shown below, and BRI interfaces the BRI NIM (XSR as as those interfaces to and and
Switched BRI the interface and other commands Access Access XSR interface and other commands to HOME The following and group, and to the It and group, PPP to four the interface, and the and phone to BRI interface as as and Finally, the BRI interfaces with and each. You class, and BRI, and other commands shown the ISDN BRI XSR routers only interface FastEthernet BRI this chapter reference Ethernet interfaces XSR routers. shutdown Profile Access Access Access interface BRI switch-type BRI commands interface BRI switch-type BRI commands interface BRI switch-type BRI commands XSR ISDN
ISDN PRI Integrated Services Network XSR(config-if<D0>)#encapsulation HOME shutdown switch-type XSR(config-if<BRI-1/0>)#isdn XSR(config-if<BRI-1/0>)#isdn shutdown XSR(config-if<BRI-1/1>)#isdn switch-type XSR(config-if<BRI-1/1>)#isdn shutdown XSR(config-if<BRI-1/2>)#isdn switch-type XSR(config-if<BRI-1/2>)#isdn XSR(config-if<BRI-1/2>)#isdn shutdown further and of interface and PPP to Services and PPP shown below, and interfaces the PRI NIM (XSR only) as as those interfaces to and and
XSR interface and other commands Access Access Access Access Access The following T1 the interface ISDN PRI operation, and group, and to the The ISDN PRI interface to You class, and ACL commands shown. The ISDN and to to the PRI NIM T1 NIM, and E1 NIM, and shutdown switch-type shutdown Optionally, the following E1 commands the Office switch type and to E1 sub-interface: switch-type primary-net5 shutdown PRI T1 NIM or E1 NIM switch-type PRI commands XSR ISDN
ISDN Leased-Line Integrated Services Network that the forces the PRI interface to outgoing or The recommended service to the chance of The BRI Leased each routed to or both bounded. this leased-line which or that streams supported, each and only, and the bounded B1 B2 or B1+B2+D or only. Leased the BRI NIM (XSR with PPP or BRI Leased Application interface BRI leased-line BRI leased-line BRI interface BRI interface B1 B2 Leased S/T or BRI The following commands, as shown leased BRI B- and with PPP and You other interface commands as ISDN BRI XSR routers interface BRI BRI this chapter reference Ethernet interfaces XSR routers. XSR(config-if<BRI-1/1>)#leased-line XSR(config-if<BRI-1/1>)#leased-line shutdown shutdown IP BRI FR interface LL interface BRI leased-line BRI interface BRI FR interface command LL Leased S/T or BRI
More T1 PRI E1 PRI ISDN BRI relay The following commands third, B1/B2 BRI interface and another lease BRI with You other interface commands as XSR(config-if<BRI-1/1>)#leased-line shutdown XSR(config-if)#interface relay The following cover T1/E1, PRI and BRI, and options the XSR. and PPP options, to Services and PPP ISDN BRI XSR routers interface FastEthernet BRI this chapter reference Ethernet interfaces XSR routers. The following PRI T1 switch-type calling-number shutdown The following PRI E1 switch-type primary-net5 calling-number shutdown The following switched BRI XSR(config-if<BRI-1/1>)#isdn switch-type XSR(config-if<BRI-1/1>)#isdn XSR(config-if<BRI-1/1>)#isdn More XSR
ISDN (ITU Q.931) BRI Leased BRI Leased PPP BRI Leased ISDN (ITU Q.931) Integrated Services Network shutdown The following leased-line BRI XSR(config-if<BRI-1/0>)#leased-line XSR(config-if<BRI-1/0>)#leased-line shutdown The following leased PPP BRI shutdown The following service leased BRI information to shutdown XSR(config-if<BRI-1/0:1>)#frame-relay XSR(config-if<BRI-1/0:1>)#frame-relay shutdown The XSR the Q.931 shown the below. Those with text ISDN other Table received Unallocated to specified (WAN) to information Misdialed
Table and established allowed allowed More than allowed, proceeding Normal clearing from rejected charging rejected Non-selected user clearing Destination of Facility rejected to STATUS ENQUIRY Normal, of Destination of service Network (WAN) of Throughput achieved Temporary congested Access information Pre-empted Quality of service facility charging allowed within CUG ISDN (ITU Q.931) XSR
ISDN (ITU Q.931) Integrated Services Network Table Incoming Incoming within CUG Bearer authorized presently Service or option service type implemented selection facility restricted information bearer Service or option implemented, reference this identity identity the identity cleared Called user of CUG Incompatible Destination and selection facility Mandatory information Mandatory information type or incompatible with type or implemented Information or implemented information with Recovery or Internetworking,
typical there often and and While first-come, first-serve when light, when the congested. these of the that and other interactive applications) of their of and causing to Quality of Service their high and treatment (higher priority, higher or to the of traffic. this both and congested while and to flow, than expected. the following aspects of the LAN and/or WAN interfaces/sub-interfaces. implemented as service which interface based IP or DSCP and specified the IP or DHCP Class-Based and to four and shared with interleaving traffic: Class MLPPP PPP and FRF.12 Three-rate Three Weighted and Early Detection (WRED/ RED). and the traffic. the DSCP or IP field of the the 802.1P info VLAN header. Service the input and/or traffic. of the locally the XSR. Quality of Service XSR
Table Additional IP IP only. IP the ToS IP IP header (IP only) of the header and to of DSCP IP header (IP only) This the L3 header and IP L4 header (TCP/UDP to the of as FTP, and the L4 to to from other to the and choose from Quality of Service the interfaces directly to the interface and inherited the or ISDN). MLPPP interfaces. and VPN interfaces. of the ToS from/to header VPN Ethernet and sub-interfaces and VLAN). that service the XSR the following than flows assigned to Each and to conforms to the scheduled Priority and commands assigned to both and RED both the following: CoS the VLAN header, RED or WRED This section the the XSR to Quality of Service. the XSR apply to traffic, of traffic. The typical IP only. This the IETF It and DSCP with the IP the IP header and of IP The XSR class-based that and attaches them to interfaces, sub-interfaces, and such as and or features. to traffic, while the IP CPU
the Class the features the to the classified traffic. to PPP interfaces this interface to interface that from to and to interface to the or ISDN interface) that the the cleared, the from the You three to class-based classifier: with the class-map command. associating the with or the command). the to the or DLCI with the command. DLCI of to of and then service to them. the traffic-class-map to of to of You with of matching and, the other The builds with specified class-map the class-map command, the to the match-any match-all The following the match-all class-map that the access-group and DSCP to of this class. match-all class-map the to assigned to the class. match-all access-group match-any or of the class-map to to the class. class-map ABC match-any with of with IP and DSCP of assigned, would classified as ABC matches access-list The the class-map treated. Each to assigned to of the of CBWFQ or Priority This includes specifying the following: The command assigns from this to Class- Based (CBWFQ) with the specified CBWFQ the with other CBWFQs the to its or serviced (assigned to their uncongested, borrow from other XSR
and Services Class-Based Quality of Service The assigns from this Priority (PQ) and the the Priority they the requested. Priority allowed to than its and Unused the class. that assigned to CBWFQ the of or as follows: The the action that or the You the its IP or DSCP or without Both CBWFQ and Priority and the type of as as as follows: The commands the IP or DSCP field. The Differentiated Services RFCs-2474 and The or the of the TCP/IP The Early (RED), that when Traffic assigned to the assigned to which and assigned as CBWFQ. the whatever other You as other CBWFQ, that assign to Once classified, that each of treated (priority, The following the XSR: Class Based and Priority They only type of to class. they when to The of the to the The higher the the the congested If there then its of the and the active to their specified CBWFQ the amount of to class, or of traffic. account the interface, to and them. If other CBWFQs to their specified as it to the of the class. such the of including should the otherwise the the causing and the each only type of or the CBWFQ the
CBWFQ Priority Priority CBWFQ the command. It of the to and of the to If of the of the the other class. XSR(config-pmap<keyser>)#class XSR(config-pmap-c<sosay>)#bandwidth XSR(config-pmap<keyser>)#class XSR(config-pmap-c<intrigue>)#bandwidth and easy to as follows: apply the to the and the of the following commands: XSR(config-pmap<test>)#interface XSR(config)#show Priority (PQ) (strict) to traffic. Higher and non-priority Priority that which and traffic) serviced FTP). assigned to the and The XSR to four interface, high, and They characterized the following High PQ using to If to the of the interface or PVC, CBWFQ and and The based the class. specify the following commands) class, The following commands burst that when interface congested, which to the specified The If the its the XSR
Traffic Configuring Quality of Service CBWFQ. of to assign and to and other to specially assign directed to the of should assigned to of should of the Internally, the that the offered and that the conforms to the that conforms to the latency. when the congested. The burst to temporary of traffic. The burst which computed as of the when the burst specified. The XSR allows the to as as allowed the The following options and they creating frost frost XSR(config-cmap<frost>)#match access-group Assign the frost to the frost high The flows and or that Service (SLA) the to that than its to then action this (out-of- bound traffic). If the that the of the immediately or to the as of The of these of the of or class. of the using burst and Based the three below the conforming received as and out-of-bounds of based You action each conforming and/or the Also, choose to the DSCP IP or CoS field of the creating and attaching the to interface or DLCI. The command the following burst and burst Action to that conforms or the specified
Class-based This the It holding burst and the other The and burst every arrives. The specified and the the of the and that of the previous to the of to the The as follows: The holding burst first. If the enough to top the burst to the burst specified, the of to the burst to the below). Also, the of burst further the burst specified the command. The the the If the of the burst than the length, the conform-action to this the burst enough, the of burst than the length, the exceed-action to this neither of the burst or burst enough, the to this the following with of second, burst of bytes, and burst of bytes. interface analyzed as to whether conform, exceed, or specified which to those which to DSCP of and and those which the_heat XSR(config-cmap<the_heat>)#match access-group the_heat XSR(config-pmap-c<the_heat>)#bandwidth XSR(config-pmap-c<the_heat>)#police conform-action exceed-action XSR(config-if<S1/0>)#service-policy Routers performance to when that well-behaved. It established IP that router causing higher routers when the the the Unfortunately, to to the to or completely each router to offset this The It this specify characteristics using the of and burst The XSR and, necessary, using or the as as there the the with the to the of the burst The XSR from the when it enough the The the and burst rates. XSR
Quality of Service Class-based and to (interface or DLCI) with the command. to and within that apply to class. the following to with burst of bytes. XSR(config-pmap-c<ring>)#shape or The effects transiting the The of with and with the command) within the or to the flows the and within the The the following high- interface interfaces with low-speed such as where the downstream than the Ethernet The to the Ethernet interface and with the Ethernet To this, the should to the with the to or than the On interface such as VPN which associated with the to interface the expected that interface to and and ATM VC interfaces with UBR the ATM which influence each others traffic. the with restricts the VC to of the and and the restricts to the If the than the the from the The burst the burst the interface and, as such, burst should than the PDU otherwise traffic. The XSR concerning this increase the The with other features such as class, RED, and others and their functionality. It to the and the the input the following to The and to the Ethernet interface the would Since within the should than of the with its other (including internally such as RIP, OSPF and others). high
and Traffic and foo XSR(config-pmap-c<foo>)#shape XSR(config-pmap-c<foo>)#bandwidth and appear first the following or them and associated The input and the interface while to only. to CAR (Committed Access You specify both conform-action and exceed-action If the exceed-action then the CAR Traffic-shaping such as in-profile or and out-of-profile and shaped. and they the the of milliseconds and this The to the the the and previous to the of using this the there too the the of the milliseconds) and incoming traffic. If too the and the to The overflow incoming significantly expected The XSR incoming and Another the overflowing its enough to the every the the should with enough to 10msec This the to the the following to the burst If incoming expected to bursty and the expected burst than the You the to as follows: Expected burst burst bytes) The XSR burst and expected burst the command. both and the XSR
Congestion Early Detection Quality of Service the that the than the to the the only the and If outgoing when ready to the immediately to the with there the outgoing when the arrives, the the the of the and the of the this considerably. the reached the and The of the the command as shown the following the_heat XSR(config-pmap-c<the_heat>)#queue-limit Early Detection (RED) TCP/IP) that of the XSR based TCP/IP that initially to If the acknowledgement indicating TCP the of and increases its The to and which the network congested and back the of TCPs slow-start/fast-drop-off when with TCP/IPs performance when the or heavily and the apply This when the congested and the outgoing from TCP and these TCP to to slow-start Synchronization. The and and synchronization The distinctive and trough where the outgoing throughout the high and RED proactively early of (when the the threshold). randomly, TCP/IP affected eventually and the treatment to early reaches its RED to throttle the the too It which to the of the and overflow and TCP synchronization. The command includes three to RED threshold threshold MaxThres and The of based the and the three The of the below.
Early Detection RED MinTh the following threshold of RED to (with and when its It to each when the than and RED the the and If the RED Early Detection (WRED) of RED that REDs of selectively with DSCP or IP WEDs three MinTh and DSCP or IP and, as DSCP/IP You MinT, and each DSCP/IP If WRED WRED based type of DSCP or IP WRED as DSCP or IP precedence-based both WRED to or class. the following DSCP threshold of other DSCP WRED to and the than WRED (with and with DSCP of other DSCP WRED with and when its than It with DSCP when the than and other when the than Clearly, with DSCP often than with other DSCP high XSR(config-pmap-c<bus>)#bandwidth dscp-based WRED it with Serve whose three AF congested, with higher DSCP should statistically often than with This achieved using XSR
Interface Quality of Service WRED. with assigned higher and thresholds MinTh and than with DSCP higher higher MinTh as the the XSR them earlier than Also, the XSR them often they higher The that with DSCP frequently. and WRED the and If as WRED The XSR RED as of WRED it becomes to RED when DSCP or the minth, and While RED WRED, RED using the as illustrated the following These both RED with MinTh=10, and although the first while the WRED. dscp-based both LAN and WAN interfaces, DLCI, ATM, Ethernet VLAN) and interfaces VPN). Table the Table LAN/WAN Interface Function Ethernet PPP MLPPP FR DLCI VPN CBWFQ Priority Traffic Early WRED Traffic Traffic Service input Service The interface interface the that or the interface to of the from the and establish path. Service to
the XSR and and Interleaving (LFI) with MLPPP the interface to and, when disconnected, from the to PPP The XSR interfaces should the that actually and PPP interfaces) and router performance. typical XSR the WAN The following office IP with PQ or CBWFQ office with applications: high Priority with Priority with CBWFQ interactive CBWFQ with RED the WAN with Also, the WAN to the Committed Information Rate (CIR), FECN and BECN options to throughput. to input and rates of PPP where the higher throughput than the the service to This that the conforms to the of Service Latency such as IP (VOIP) to increased latency when the such as FTP WAN. when the FTP milliseconds to which the of milliseconds That the and Interleaving (LFI), with reduces and interleaving latency-sensitive with from the classifies latency- from the to from and them to the LFI and interleaving with from other streams. The XSR LFI using PPP (MLPPP) with or with FRF12. with MLPPP creating MLPPP interface with You the the where milliseconds. The XSR and the to the of the and splits transiting this interface with this If its with from the other and and Interleaving (LFI) XSR
with VLAN with FRF.12 with VLAN Quality of Service with MLPPP the such that, ideally, there non-priority front of the the latency that latency- than the Practically latency the of to three the traffic, and type of interface used. with MLPPP and as high the That allow to scheduled other Then to the to the MLPPP interface. to with MLPPP with FRF.12 to with MLPPP that the FRF.12 The the the latency the the overhead and about efficiency and the of FRF.12 which within That interleaved. If the than the of the chopped and FRF.12 its the this from from the previous causing heavy latency. to the from FRF.12 interleaving, should than the This restriction MLPPP to with FRF.12 that the MLPPP and The IEEE 802.1P the sublayer The 802.1P header includes three-bit which allows to 802.1P spin-off of the 802.1Q and they The 802.1Q that to MAC The VLAN VLAN information including the VLAN ID and Additionally, 802.1P establishes of to IP The XSR 802.1P to IP or DSCP forwarding to the and The XSR based the the VLAN header, as graphically below. VLAN the XSR the the header to the of the Priority Information within VLAN Priority CFI VLAN 802.1Q
VLAN Flow VLAN with Priority Routed Interface VLAN with Priority Routed Interface The following VLAN and XSR interfaces with VLAN and and include CLI commands. The following the XSR Ethernet the and the VLAN ID within the the of the to sub-interface of the GigabitEthernet interface. The internally with the The IP the routed to the forwarding which learns the and outgoing interface. If the outgoing associated with VLAN <VLAN ID>, the XSR VLAN with the <VLAN ID> and the outgoing Also, with the they the VLAN Lastly, the interface, accordingly. this the to the FastEthernet Since the input match the matchCos5To7 The VLAN with of Ethernet VLAN IP Ethernet VLAN IP: Priority CFI VLAN: Incoming VLAN this the to the interface the input match the matchCos5To7 The IP with DSCP of IP Routing F1.1 F2.1 F2.2 F2.1 (Static) F1.1 VLAN IP VLAN IP F2.1 Ethernet VLAN IP: F2.2 Priority CFI VLAN: VLAN Class matchCos5To7 match matchCos5To7 XSR with VLAN
with VLAN IP Routed with VLAN Quality of Service VLAN IP Ethernet VLAN IP: Priority CFI VLAN: Incoming VLAN this shown the to the interface FastEthernet Since the input IP DSCP it match the matchDscp The VLAN with of IP IP: PPP Incoming Follow the below to the XSR with VLAN routing. interface <Interface <slot/card/number> VLAN ID the Specify IP <IP class. class-map <match-all match-any> <class-map Match the IEEE the input VLAN header. match IP Routing F1.1 (Static) F1.1 IP Routing F1.1 VLAN F1.1 F1.1 IP PPP IP: Class matchCos5To7 match matchCos5To7 IP Ethernet VLAN IP: Priority:4 CFI VLAN: VLAN Class matchDscp match matchDscp FastEthernet
VPN Priority from (lowest) to Optional the IEEE the VLAN header. the service to the input or interface. interface <Interface <slot/card/number> <input You the service incoming or outgoing interface. to with VLAN input and and of features. input with the as with the input command. One the interface as input and the other as that the to input the XSR. input the following features with the class-maps: Both input and flow input DSCP and IP with actions and to the shared input actions with Other features input with the with the command of the CoS the VLAN header RED or WRED to and and VPN policing, and that VPN The of VPN class-based interface to other interfaces. typical VPN encrypted and/or VPN The header header) and its and with header header). At the physical interface only the outer header This the interface to and classify based the header and their the of copying ToS from the to the header with the command. XSR
VPN VPN Physical Interface Interface Quality of Service The XSR offers choices applying service the VPN VPN) interface or, the physical interface. Copying of the ToS security and copying of ToS This with ToS information about characteristics of the and to of Service when ToS and the the to this choice. The XSR the following VPN physical interface If to based the outer header, apply service to the physical interface S1/1.1 the interface If to based the header apply service to the interface VPN1 The XSR the following VPN features: physical interface VPN interface, with the VPN interface apply to GRE, PPTP, L2TP, and ToS option with the command On interfaces, the the interface. established with the to that and neighbors with the the interface (RIP, OSPF, internally and the physical interface. Classifying, and IPSec employing the VPN interface ToS supported. Copying ToS with the crypto command. the when IPSec copying ToS VPN interface and to physical interfaces with crypto than to other interfaces. You should that to interface with crypto classifies the outer header of previously encrypted this section, the header encrypted and classify based the header. The to this the ToS If then the header ToS to the outer header and to VPN to or software). The VPN interface and as each this copying ToS from the to
Interface outer header. this QoS-related attached to the VPN interface. that the VPN interface interface without attached to operations other which the VPN interface low-latency there of with the VPN within the specified the the ToS of the header to the header. To to the header, the VPN interface to the ToS with the command. that ToS copying of the process. The ToS without the VPN interface. the following as shown topologically trusted and VPN established XSR Remote and XSR interface consists of latency-sensitive RTP and FTP traffic. Since the interface of should the RTP and of the the FTP congested Other that allocated the You of the RTP that that RTP. this the of to should the XSR interface as It clear that applying to distinguish RTP from the FTP. One to this to with DSCP they encrypted, the interface, and the ToS to the outer header. classified with the the VPN interface. RTP with DSCP and FTP with DSCP On the distinguishes RTP and FTP from the the DSCP the header which XSR VPN
VPN Quality of Service Interface The following commands and the XSR Remote as shown XSR the Class RTP and FTP matched to and RTP access-group FTP access-group RTP1 FTP1 the input RTP and FTP RTP FTP the RTP1 and FTP1
RTP1 high FTP1 XSR(config-pmap-c<FTP1>)#bandwidth tcp the IKE foo XSR(config)#crypto foo XSR(config-isakmp)#authentication XSR(config-isakmp)#hash XSR(config)#crypto foo the IPSec SA: XSR(config)#crypto XSR(cfg-crypto-tran)#no security-association XSR(cfg-crypto-tran)#no security-association seconds XSR(cfg-crypto-tran)#exit XSR(config)#crypto XSR(config-crypto-m)#match GigabitEthernet interface and GigabitEthernet shutdown XSR(config-if<S1/0:0>)#crypto XSR(config-if<S1/0:0>)#service-policy shutdown VPN interface ToS copying, GRE, and other XSR VPN
VPN VPN RTP RTP FTP FTP IP IP Non VPN and VPN Interaction Quality of Service active shutdown of Interface The the VPN interface that routed the their first routed from the input interface to the VPN interface and the they routed from the VPN interface to the physical The physical purely routing information and as the reachability of the the VPN interface and knowledge about the output physical RTP FTP IP VPN RTP FTP interface Crypto RTP-A high FTP-B RTP 100K FTP IP/IpSec
the Shaper the VPN Interface This when to VPN interfaces. If the of the VPN interface higher than the physical interface they from the VPN interface. to this, statistics higher the VPN interface than the the physical the reason, the VPN interface enforced, although the VPN interface should the following If the physical that establishes the congested, the VPN interface higher rates than the To this should apply the the VPN interface as the section. VPN although To apply as the section. The (class) should allocated than the physical interface or, the applied, should than the If this when the becomes congested serviced first. physical interfaces that crypto of the anti-reply IPSec protection the To this should or the If the VPN interface the expected or to applying the VPN interface. The that the VPN interface and with to the following and Class while the of the The physical interface from this VPN interface. VPN XSR(config-pmap-c<class1>)#priority high the account the expected overhead to GRE the VPN interface purely user that the with If the account overhead, the physical interface, the VPN interface. The below the overhead Overhead IPSec AH NA IP AH (HMAC) ESP+3DES Overhead XSR VPN
Physical Interface Quality of Service Table Overhead IPSec ESP NA AH NA NA ESP NA NA with ESP and 3DES (or overhead. 3DES bytes. the with this ShaperRate OverHead/(OverHead The below the as from the and The the the overhead Shaper Rates ESP TransESP The following Class1 with these characteristics the interface: of of expected to to this the of and the this to Class2 specified with these characteristics: of of expected to to this the of RED used, The with of which to creating Class1 and Class2 and matching their respective class1 XSR(config-cmap<class1)#match access-group class2 XSR(config-cmap<class2>)#match the class1 XSR(config-pmap-c<class1>)#bandwidth IP AH (HMAC) ESP+3DES
class2 XSR(config-pmap-c<class2>)#bandwidth Apply the to the interface: XSR(config-if<S1/1>)#service-policy output The following interface with DLCI which three of traffic: that assigned to with of FTP that assigned to with of the and Class1 that assigned to (and the other DLCI CIR (the of and should the CIR of the DLCI). the congested, its than the DLCI CIR) while other the to what requested. to and the which to burst/bandwidth bytes/20 If burst burst used. Class1 and FTP its the equally. there each as as the which and to of BECN adoptively reduce the CIR of the DLCI influence the of the creating three to tcp of or IP DSCP or to access-group access-group match-any class-1 XSR(config-cmap<class-1>)#match access-group XSR
with MLPPP Quality of Service consisting of or and characteristics each class: high XSR(config-pmap-c<ftp>)#bandwidth conform-action exceed-action and apply the to the becn frame-relay traffic-shaping shutdown shutdown the following to milliseconds, classify RTP as match FTP FTP class, and of the other matched as class. Also, and FTP and with access-group FTP access-group
with FRF.12 XSR(config-pmap<QoS-Policy>)#class high FTP XSR(config-if<M1>)#service-policy XSR(config-if<M1>)#multilink-group XSR(config-if<S1>)#multilink-group The following with FRF.12 to the MLPPP with and FTP and and and UDP traffic. the the to employing with burst and access-group FTP access-group high FTP XSR(config-if<S1/0:0>)#frame-relay traffic-shaping XSR(config-if<S1/0:0>)#interface XSR(config-if<S1/0:0.1>)#frame-relay XSR
with VLAN and Quality of Service frame-relay The following VLAN interface. the with the CoS Then, the with the the to and specify the VLAN header to Finally, VLAN ID GigabitEthernet match-any XSR(config-cmap<Cos5to7>)#match XSR(config-pmap-c<Cos5to7>)#bandwidth gigabitethernet shutdown The following displays the input and With MLPPP, input and the interface output RED and features MLPPP. DSCP access-group XSR(config-pmap-c<A>)#bandwidth XSR(config-pmap-c<A>)#shape
to the input fastethernet If the XSR the of the (DS) conditioning the from the Traffic input include and the following the Ethernet interface the DS other XSR interfaces to the DS Incoming classified three flows: RTP which with the EF which to and FTP which to with conforming with AF=21 and with AF=23. other with DSCP=0 and to RTP access-group access-group FTP access-group tcp tcp RTP EF FTP conform-action exceed-action XSR
Quality of Service fastethernet input Eth
This chapter the background, features, and of Asymmetric Subscriber (ADSL) the XSR. ADSL (Asymmetric Subscriber information high existing phone service, ADSL continuously service. ADSL asymmetric that of the to downstream to the and of the to information from the ADSL information the The following ADSL features the XSR: NIM on-card EEPROM ADSL operation POTS and ISDN ADSL ATM UNI (FUNI) OAM AIS, RDI, CC, Loopback F4 and F5 flows to ATM ATM UBR ATM Adaptation Layers and PDU types: Ethernet (RFC-2516) Point-to-Point ATM) IPoA Routed IP ATM (RFC-2684) to ARP of SNMP interface and Interface to shutdown and to DSLAM shown below, the three of ADSL the XSR and the ADSL follows through layers as the RFCs. ADSL XSR
PDU Encapsulation Choices PPP ATM ADSL (RFC-2364) (RFC-2516) Ethernet MAC Ethernet MAC VC (RFC-1483/RFC-2684) LLC/SNAP (RFC-1483/RFC-2684) The Unit (PDU) choices and illustrated as follows. The option, as RFC-2364, the following features. The router includes integrated which LLC/SNAP to headed to the DSLAM, and the from headed to its the command. shown PPP ATM PVC PPP ATM PVC Statically and IP LCP option choosing the PPP the Customer (CPE) offered DSL RFC Encapsulation Layers Routed IP IP ATM AAL5 ADSL (RFC-2364) (RFC-2516) Routed IP
PPP Ethernet ATM (Routed) PC IP PC Router with integrated IP PHY This restricted as follows: MTU of ATM FRF.8) PPP switching the PPP to PPP and back) PPP the following LCP Address-and-Control-Field-Compression Asynchronous-Control-Character-Map The option, as shown PPP the of Ethernet which as as RFC-2684. The router incorporates integrated which the below: to RFC-2516 procedures to RFC-2516 Bridged Ethernet PDU to RFC-2684 Statically and IP Although the XSR and operations, ADSL this type the XSR the IP PDU of RFC-2684 as to flows. Essentially, the XSR integrated router, as specified and the command. choosing the PPP the Customer (CPE) offered DSL Network DSL IP PPP Routed LLC/SNAP ATM ADSL ATM ATM SONET DSLAM XSR Access
Routed IP ATM ADSL PC IP PC Router with integrated IP PHY The of this as follows: MTU of ARP Other PDU FDDI) (PID type and (PID type LAN tree PDU which the MAC The with and ATM ILMI ATM The Routed IP ATM as shown the following of RFC-2684 as relates to Routed IP LLC routed IP ATM Non-encapsulated routed IP ATM Statically IP IPoA the command. choosing the the Customer (CPE) offered DSL Network DSL IP PPP CRCs ARP without MAC ATM ADSL DSLAM ATM ATM SONET Bridge LLC/SNAP
ADSL ADSL NIM Card IP ATM Network PC PC Router IP PHY Restrictions of this as follows: MTU of NLPID-formatted routed IP ATM supported. and which MAC the IP DHCP ATM the following ADSL operations the XSR: The ADSL (VPI/VCI) as the ADSL TR-008 One Path The MTU bytes; Bridging and operations ILMI One ADSL NIM type XSR: or B. to the first service of the ADSL NIM XSR and routers: with ITU-T G.992.1 ADSL POTS NIM-ADSL-AC-01 with ITU-T G.992.1 ADSL ISDN NIM-ADSL-B-01 The XSR ADSL NIM type of the type). IP IP Routed LLC/SNAP ATM ADSL ATM ATM DSL SONET DSLAM XSR Access
ADSL the Motherboard DSP ADSL ATM ADSL of ADSL the XSR routers: POTS the XSR-1220 ISDN the XSR-1235 Processing (DSP) firmware, which the onboard ADSL to with Access (DSLAM), the CompactFlash shipped with the ADSL NIM XSR and routers the motherboard XSR routers). the Compact first ATM interface the ADSL memory where that ATM interfaces recopied. Several CMV commands to train the DSP necessary although recommended they field The to the DSP and the clear command of them. Also, and and write to the DSP, respectively, them individually, them to the and them to The XSR the ATM UNI (FUNI) of ADSL as ATM TR-003. ATM UNI of ATM Interface. of the HDLC family of and, the XSR, the of header bytes. It HDLC and to and bit-stuffing to transparency. The ATM FUNI header and The field the Service Unit's (SDU) VPI and VCI. ADSL to ATM with the command. According to DSL TR-008, the ADSL interface, as follows: VPI VCI You traffic. as the as follows: VPI VCI
OAM Performance Class of Service DSLAM Access Restrictions This other when operating FUNI OAM to and ATM They in-band including hop-by-hop and functions such as connectivity and and which of the of typical ATM switch. OAM as follows: CC Continuity including of The XSR CC AIS Indication as received, the XSR them. RDI Defect Indication Loopback back to the The XSR to as with the and oam-retry commands. These F4 (path) and F5 flows with the following End-to-end and supported. the flow (F4 or F5) which the received. AIS (F4 flow) RDI each (F5 flow) that path. The however the flow) the AIS terminated. counts statistics the ADSL the and interface commands to ADSL statistics. The ADSL interface the UBR only. The ADSL functionality with to information. the following and operations the ADSL ILMI and operations ILMI the ADSL XSR
ARP SNMP ADSL The XSR ARP as RFC-1293 with specified RFC-2225 IP ATM). ARP which as Routed RFC-1483), LLC/SNAP This ATM and the IP used. The XSR to ARP The XSR functionality ADSL The ADSL interface and the Interface as NetSight. the the following: ADSL ATM Interface ATM Sub-Interface IP Interface PPP (when The following and IPoA the first to the DSP CompactFlash the CompactFlash to the XSR Started further instructions). ADSL XSR routers significantly than XSR and routers. interfaces FastEthernet and ATM the XSR information, to the XSR Started The following commands The first the LAN interface with directed broadcasts prohibited.. ATM this chapter reference Ethernet interfaces XSR routers. directed-broadcast shutdown The commands below the ATM interface and sub-interface with IP PAP username and and They PVC VPI and
VCI to those the DSL Notice that the (MSS) to TCP SYN PC connected to GigabitEthernet to its MSS too high, subtracting the IP, TCP, and GRE headers and bytes, respectively) and the PPP ID should that ATM shutdown XSR(config-if<ATM1/0>)#interface ATM shutdown XSR(config-if<ATM0/1/0.1>)#ip tcp XSR(config-if<ATM0/1/0.1>)#pvc If VPN and to the crypto clear to The following optional commands ATM The following optional commands NAT: FastEthernet1 assigned the following commands to The first the LAN interface with directed broadcasts prohibited. directed-broadcast shutdown The commands below the ATM interface and with IP CHAP username and and ATM shutdown XSR(config-if<ATM0/1/0.1>)#interface ATM shutdown tcp XSR
IPoA ADSL The following optional the following commands to IPoA topology: ATM shutdown XSR(config-if<ATM1/0>)#interface ATM ATM
VPN Security the Network commonly Network (VPN) allows or to connected publicly with (WAN), the of their of the rather than leased boast tighter security and features as while of the of and of the the (TCP/IP) or (UDP). They from to another through of intermediate and they reach their TCP/IPs flexibility to its as the and the fact that TCP/IP allows to through intermediate allows third to with the following Information intact, its compromised. learn or classified Information or and then to the or Information to who as the to to the or as www.acme.com when This type of known as Misrepresentation or the www.acme.com to when really that Normally, users of the cooperating that the or other or with that continuously through their and business the that threats. Fortunately, of well-established and Security (IKE) and the (PKI) relatively easy to such The of the the following XSR
Ensuring VPN Security with IPSec/IKE/GRE Network Works Ensuring VPN Security with IPSec/IKE/GRE the Network Encryption and allowing to information they The or The or the While the encrypted information to the of to that to or detected. the and when received, and both compared. Authentication allows the of to its that to the identity or applying the Nonrepudiation the of information from claiming that the information section of this chapter the security advanced of authentication and and services to the IP or backbone. Traffic reaches these backbones of including T1, ISDN, or access. and The of encrypted to or router, instead of (as the of WANs), the The this to reduce its recurring telecommunications charges that shouldered when and branch offices to firms headquarters. this VPN headed the reach initiating which from router to PC with software. The with VPN or switch, to The then the to the which the and to the the The XSR Remote Access the of and topology where PPTP or L2TP employed. The XSR Site-to-Site where routers each of known as IPSec as the security The connectivity allows branch office to and Since this and without or software. The To the security of the XSR the framework of security IPSec of integrity, authentication and
IPSec the security the XSR establish IPSec with third- including routers as as IPSec basically acts as the protecting that through, of the or The XSR to the type of VPN allowing to group-based (Access which IP and services through the IPSec-based VPN to of and to which passed. to IPSec the of the Security Association (SA). of IKE to establish and its of the IP Authentication (AH) or Security (ESP). SA IP that security to the using the AH or ESP below). The of SA IP (host) or IP security security the typical of the of each SA the following: of the The IP security (AH or ESP) The IP Authentication (AH), RFC-2402, integrity, authentication, and replay IP HMAC with MD5 (RFC-2403), or HMAC with SHA-1 (RFC-2404). The IP Security (ESP), RFC-2406, to and authentication the of the IP header. AH, ESP HMAC with MD5 or SHA-1 authentication (RFC-2403/2404); using DES-CBC (RFC-2405), 3DES or AES of and At the the IP header and AH or ESP the IP header as shown below. Processing IP AH/ESP IP IP header and the IP as shown Ensuring VPN Security with IPSec/IKE/GRE Can encrypted XSR
Ensuring VPN Security with IPSec/IKE/GRE GRE IPSec the Network New IP IP shown AH authenticates the transmitted the whereas ESP covers of the (the higher and the The of this the ESP and AH IPSec with Network Translation (NAT) might while AH to that the header NAT the the IP or (UDP or TCP) header. AH when NAT to reach the other of the ESP used, the XSR the UDP header which NAT to properly when (NAT traffic) Arguably the of IPSec/IKE the of and Although these manually, the XSR IPSec through known as the (IKE), RFC-2409. This the SA- creating to Table A-4 A-1 the of ISAKMP and IPSec supported, memory, the XSR. to the XSR the Routing Encapsulation (GRE), which other such as IP, as RFC-1701. GRE these routers that natively the IP the GRE as (P2P) interfaces to the routing End-to-end and routing flows through these interfaces as through physical interfaces. The GRE the routers. This routing such as OSPF. GRE security encrypted and authenticated the IPSec GRE IPSec GRE with IPSec and with security. GRE both of the known IP assigned. to GRE OSPF GRE interfaces P2P with other routers. Processing IP AH/ESP Can encrypted
VPN Encryption Public-Key (PKI) To that the VPN of the once the authenticated, the to protected as Without to information flowing through the clear which easily or with The type of there cryptographic and asymmetric cryptography to to commonly to of who know each other, and the to and Asymmetric (public-key) and of mathematically related and (known to the This often of or the authentication process. Generally, algorithms the amount of to crack the force where combined to the The XSR offers Encryption (DES): 20-year thoroughly tested that with than DES (3DES): three DES and effective of strengthening security. the first public-key to asymmetric and Advanced Encryption (AES): the DES, cipher using or RSA asymmetric cryptosystem authentication creating PKI user authentication, confidentiality, integrity, and repudiation. It to allow users to and PKI the of cryptography, and Encryption and of the three security the of this chapter. and themselves, and and related authentication mathematical function one-way one-way of with the following characteristics: The the hashed the or character, The of the hashed deduced from the which why one-way. It to and Although this when encrypting of Public-Key (PKI) XSR
Public-Key (PKI) the XSR the Network of encrypting the the software one-way of the then to the The encrypted with other information, such as the algorithm, known as to or other and that identity with or other IDs, of identity. PKI to the of to these of ID. Authorities (CAs) and They third or organizations their software. The XSR the Microsoft CA. The to identity the of CA as the to other of who the ID and the which used. the CA its published that type of to that fact who to The issued the CA to the of the the (such as or the of the the with the the the to includes the of the the of the CA that issued the and other importantly, includes the of the CA. The allows the to function as of introduction who know and the CA know the the that than the the Doing the XSR and to the the IKE subsystem to establish IKE/IPSec the to other IPSec to the XSR and to the XSR manually the or CAs and the router. CAs as CA and IPSec as IPSec The XSR the SCEP to the XSR and CA that the or MS SCEP service with the OS to the Microsoft patch SCEP. (CRLs) to that both the XSR and currently CRLs that CAs their The XSR every IPSec CRLs from CAs the IPSec
CA Chains CRL optional. CRLs collected the XSR information the IPSec and CA already collected. to this HTTP HTTP-based to the LDAP URL to CRLs. CAs to or both of these CRL The XSR or the other based information the organizations, to the responsibility to CAs. the of too CA to or CA to physically located the geographic as the people to whom It to to CAs. The X.509 includes hierarchy of CAs. shown the CA the top of the hierarchy. The that the the the CA that the CA CA CA CA CA CA CA The CAs that directly to the CA CA the CA. CAs the CAs the their CA the higher- CAs. CA reflected of issued CAs. shows leading from that through CA to the CA the CA (based the CA shown of CAs CA US CA CA CA CA CA Public-Key (PKI) issued CA XSR
Public-Key (PKI) RA the Network CA CA CA of from branch the to the of the hierarchy. the following the of its Each the of that which the as the of the the the CA the of the CA (that US CA) that issued that USA the of the the Each with the of its The with the the which the the the the the U.S. CA the U.S. the the CA. The XSR the associated with IPSec once manually collects CAs the This includes the that the the XSR and chains IPSec who establish with the router. They collected manually together information the CA You to manually these CA The IPSec CA with SCEP and the DB. IPSec to the XSR IKE, to authenticate the then CA the operation/authentication of to RA the Microsoft CA its CA this The XSR to the of operation: whether CA RA or If CA RA than the CA authenticate Chain CA CA Trusted authority U.S. CA CA Intermediate authority CA Intermediate authority the issued CA CA CA U.S. CA CA
CRL and DF Functionality Once authenticated the CA XSR then the IPSec the CA using the SCEP command. CA the CA, or immediately IPSec when first If the CA to the CA manually or The CA to that the such as the This of hours or the XSR that the and the three The of and the CLI commands Crypto Identity This that the CA or the XSR within Once exhausted, the becomes and Each and its the XSR. CA what these should Another to to the CA to This manually or through the CA. If to the that or If allowed to to to CRL IPSec the XSR authentication. This the XSR whenever and that to CA what this should to. Additionally, the CA their reached. the XSR re-authenticated CA or its IPSec this process. the CA the to the to appear the CRL. these and with CA The DF with IPSec the of the DF when IPSec traffic. If the DF to clear, the XSR of the DF The DF (Don't within the IP header whether router allowed to DF Functionality XSR
VPN Applications VPN Applications the Network This whether the router clear or the DF the header. It IPSec affected IP header. Typical DF include which these firewalls to (ICMP) from the firewall, from learning about the Unit (MTU) the firewall and causing the to eventually the DF they IPSec to reducing the MTU too the interface. the encrypted header with the DF then causing and of the If includes which knowledge of the MTU the XSR to clear the DF and the to XSR with VPN Gateway DF or interface. If both Interface Also, interface which VPN The XSR the following Site-to-Site establish each other, ANG-1102/1105s, 7000s, or third-node the based and This the to its functionality as as acting as and the other as or Network each other based or The XSR, as terminate initiated ANG-1102/1105 and 7000s. This type of offers Site-to-Site including: RIP or OSPF routing heartbeats consistently easily router Network Remote Access XSR functions as establishing with the ISPs. The XSR of the and includes functionality such RADIUS authentication PKI authentication NAT IP DF IPSec
Site-to-Site NAT as They when connecting geographically where each and hosts. VPN the of and from routing perspective. shows XSR this architecture to creating While it within hub-and-spoke XSR/ VPN Gateway VPN terminating routing therefore the encrypted and shipped Other or to the security Authentication IPSec using or Authentication this the of connected relatively This type of follows IETF and with other The IPSec of GRE/IPSec this type of Peer-to-Peer/Site-to-Site to VPN Site-to-Site Application and Site-to-Site Site-to-Central-Site One initiates the other the initiating the and to the through the the initiated the ISP-operated NAT the of NAT the IPSec known as NAT routers/VPN which terminate NAT This factors where both and VPN initiate with Release the XSR NAT to The XSR IKE from UDP when NAT IKE and the implemented VPN Site-to-Site Topology VPN Routing Routing XSR VPN Applications XSR/ VPN Gateway
VPN Applications the Network If with to write ACL to this access- If the XSR firewall, to Security the XSR information. You the NAT the crypto command. It displays the following and UDP, UDP, ESP: crypto Remote crypto Encapsulation=Transport the type of IP the of this built as shown Topology XSR/VPN Gateway NAT/ DHCP LAN Addressing this LAN from the NAT the XSR XSR/VPN Gateway DHCP relay DHCP Branch LAN and Network the of the XSR, the of the the XSR. the XSR to the the assigns the XSR IP which chosen from internal the Hosts the LAN IP from the DHCP the XSR. the LAN and the From the perspective, the LAN as IP Since the LAN from the initiated from ISP NAT Routing VPN Network ISP NAT Routing VPN Addressing this LAN of the Corporate DHCP Corporate DHCP
Network (NEM) Access the the LAN. The internal NAT operates only such as TCP and UDP. NAT of Application (ALG) such as ICMP and H323. Routing the reachable the the XSR the LAN. routing the XSR to the VPN and to services and located the This to the established of ISAKMP with or The assignment of IP the of the and the XSR. using with third-party the Network as the branch LAN from the that LAN the corporation Hosts located the branch LAN IP from the DHCP located the this the XSR the DHCP (RFC-3046) to hosts' DHCP IP of this that IP to the created. to the established of IETF ISAKMP with or Remote as shown to the the as the to ISP and assigned IP which to the Then, the initiates to the XSR and assigned internal IP to the connecting, the as directly to the LAN. VPN Remote Access Topology XSR/VPN Gateway Corporate assigned ISP RADIUS DHCP functionality. PPTP with MPPE, L2TP the the authentication as as authentication. located the XSR or RADIUS Routing VPN VPN Gateway IP assigned VPN Gateway XSR VPN Applications
VPN Applications OSPF VPN Network OSPF Commands OSPF the Network the XSR. built, the XSR routing information about the to the Authentication the used. PPTP, authentication achieved of PPP-based such as MS-CHAP, EAP, and PAP. It should noted that of these and IDs the clear-text. the of PPTP, there authentication. L2TP L2TP established and the XSR, IPSec created. The IPSec authenticated with or scalability, recommended. authentication PPP-based, the L2TP protected of PPP authentication OSPF the XSR and the routing when to OSPF with (Redundancy) The VPN the through the of cryptographic attached to XSR interfaces. OSPF and VPN both OSPF that reachable, VPN that To this when both The following sections VPN and OSPF with them. The OSPF commands or Interface Interface VPN They authentication-key Additionally, interface EXEC the XSR asymmetric with acting as the and the other as the The initiates the IP from the From the of the the VPN interface associated with the interface. Each connected issued IP
From the of connected The VPN interface as the interface. Additionally, the the NAT the and from trusted with the IP assigned the as shown Site-to-Site Topology VPN NAT VPN F1 invisible to this OSPF to the reachability established these becomes when the to than that the VPN interfaces, as VPN and VPN learned OSPF inform the IP routing which IP reachable the VPN interface and which reachable the VPN interface. Based the shown the following OSPF should to the interfaces: Fast/GigabitEthernet interface: This trusted of the the XSR of than IP attached to OSPF interface: OSPF this the to the The should from the information about to the VPN interface: OSPF to establish with OSPF of connected as OSPF the with each If the establish OSPF with OSPF to that Corporate INTERNET F2 interface. This IP assigned the The other IP the VPN interface. F1 VPN F2 interface. Terminates To another XSR VPN Applications
VPN Applications OSPF Network the Network interface: This usually OSPF F1. If OSPF this interface to the The IP routing learn to this the VPN interface connected to the NAT that the the learn which to the fact interface: OSPF should the reason the VPN interface: OSPF this interface to from the If other connecting to the VPN interface the OSPF coverage OSPF them and information with those that OSPF. On the associated with interface VPN created of the EZ-IPsec functionality. EZ-IPsec interface which that from and to the IP assigned the should encrypted. There and OSPF routing this The commands to this Compared to Network the of sophisticated shown NAT the VPN interface the The trusted the and reached from the Site-to-Site Network Topology VPN F2 VPN F1 of INTERNET interface. This IP assigned the The other IP the VPN interface. Corporate F1 VPN F2 interface. Terminates To another
OSPF with (Redundancy) The VPN interface the terminate of of which and others Network The following OSPF should this Apply the as the OSPF and VPN interfaces and Fast/GigabitEthernet the OSPF VPN and Additionally, OSPF the to GigabitEthernet should learned the The associated with interface VPN the created which and attaches of to interface The first that to and from the IP assigned to the VPN interface should encrypted. The SPD that from and the attached to should encrypted. Network attached to interface F1. If those OSPF, to those known the those because security crypto such traffic. This crypto attached to both the and the of such XSR with VPN Gateway this the initiates to which connected their trusted With to the trusted the the OSPF learns of the first learned path. Should the that become non-functional, OSPF the and the path. The and the switch to the the following OSPF the VPN interfaces: This often to the This the that without from the the those the of shown OSPF the following interfaces: Interfaces and VPN XSR VPN Applications
XSR VPN XSR VPN the Network Interfaces and VPN Interfaces VPN and VPN F1 VPN F2 IPSec without the VPN interface applying crypto to physical interfaces. this IPSec treated as of through the interface. Since interface (VPN1, to the IPSec routing OSPF used. OSPF reachability IPSec to that the crypto to interfaces, this knowledge of OSPF, which this OSPF the and of The XSR the following VPN features: Site-to-Site with IPSec/IKE with (PKI) with PKI or Network (NEM) OSPF Used with Corporate INTERNET VPN VPN of network F1 VPN F2 F2 F1
Remote Access XP, (L2TP); NT SE, ME, and CE. PPTP SCEP: and PKI MS-CHAP EAP authentication: Username/Password and RADIUS) (third-node cards) Microsoft PPTP MS-Chap V2, EAP user authentication and RADIUS (third-node cards) Microsoft Encryption Advanced Encryption (AES), Encryption (3DES), Encryption (DES) 3DES MD5 and SHA-1 algorithms Security Security (ESP), Authentication (AH) and IPComp and and IP assignment NAT UDP (PKI) Microsoft Authority, (CA) (SCEP) Microsoft (MSCEP) Chained CA CRL (Hypertext [HTTP] and Lightweight Directory Access [LDAP]) Network Translation (NAT) Static NAT NAPT XSR XSR VPN
VPN VPN Encryption the Network Authentication, Authorization, and Accounting (AAA) including AAA interface AAA PPP, and AAA (DHCP) DHCP OSPF VPN DF IPSec Copy TOS to Quality of Service VPN to Quality of Service information) IPSec the following what type of VPN to from the following Site-to-Site using or (PKI) authentication or Network Remote Access or PPTP that Site-to-Site the XSR as or of and as the or of Remote applications, the router only as Next, the following: once the XSR. to specify the type of to secured. Specify IKE and IPSec authentication, integrity, and other when Security Associations with IPSec Security (SPD) crypto and authentication AAA and/or PKI. optional including RADIUS, IP assignment, and NAT. VPN interface, required. The XSR such as and Flash: directory this the clear would security the XSR the to The XSR with the factory manually VPN. To
ACL crypto The Flash, and the overwrite the writing To router security, to the There where to the to the off-line to to the XSR. to the the indicating the with the specify command. that the XSR and the the XSR only), the and when the XSR: Typically, ACL to IPSec/IKE crypto and to traffic. crypto and the interface, the XSR to the crypto which the ACL both inbound and outbound traffic. If IPSec or of crypto then the ACL bi-directional when associated with crypto through the match command. information the command, to the CLI Reference of ACL the XSR with of RAM ACL IKE/IPSec). Three ACL CLI options below. Other crypto this chapter. The first ACL restrictive. It ACL to IKE (UDP GRE, and TCP internal to to other traffic) and ACL to the type of that to to other traffic). The commands FastEthernet ACL to inbound traffic, and ACL to outbound traffic. commands abbreviated. tcp established tcp FastEthernet2 shutdown access-group access-group VPN XSR
VPN Selecting IKE/IPSec the Network If XSR as VPN the interface (FastEthernet restrictive allowing VPN to through and other traffic: XSR(config-if<F2>)#interface shutdown access-group access-group The following ACL the XSR as VPN allowing internal to the and to the FastEthernet to the interface of the XSR to the creation of VPN These would to XSR as VPN that would access. tcp established tcp tcp tcp interface tcp tcp tcp tcp fastethernet access-group access-group IKE the crypto with the following or RSA authentication and and SA
Security Considerations More than IKE specified each IKE both with IKE using the crypto command. effective when matches the IP of the The wildcard to match IKE IKE IKE or or IKE (outbound only) (with only) or NAT options IPSec created the crypto command. You choose AH, ESP, or IP as follows: MD5-HMAC or SHA-HMAC algorithms 3DES, AES or DES MD-5 or SHA-1 of these when security DES of than 3DES and of security than the 3DES. Selecting Perfect Secrecy (PFS) option each of previous If the compromised, the Phase knowing the of the previous This the of slightly performance. IPSec the typically with inclusive. It to user ID instead of IP when SA (with whose IP If ID, its IP that to (with the user both of the every the the instead. The following IKE Phase I, and IPSec the IKE try1 try1 XSR(config-isakmp)#authentication XSR(config-isakmp)#encryption XSR(config-isakmp)#hash XSR(config-isakmp)#group VPN XSR
VPN Creating Crypto Crypto the Network IKE the that other IKE try2 and try3 XSR(config)#crypto try1 try2 try3 the IPSec You both and seconds SA or commands abbreviated. XSR(config)#crypto XSR(cfg-crypto-tran)#set group1 XSR(cfg-crypto-tran)#set XSR(cfg-crypto-tran)#set seconds crypto Security (SPD) which and classifies as as the to those and classifying which to protected while affects the SA IKE) of that traffic. IPSec crypto the following: Traffic to protected, with the match sub-command. Which IPSec the protected with the sub-command. These with which SA Which protecting traffic, with the sub-command. Which type, or should used, with the command. If should sought each with the security-association per-host command. This command off, each through the SA. Crypto of interface, to IPSec with specified security to and other to the or IPSec with IPSec security applied. The following crypto highflow with correlated with and ACL It attached to specifying that this with the specified Per-host and the XSR(config)#crypto highflow XSR(config-crypto-m)#match security-association per-host
Authentication, Authorization and Accounting The AAA authentication, authorization and accounting of Access) and The and authentication Associated authorization of services IP including: from IP DNS and secondary) WINS and secondary) Encryption PPTP AAA interface PPP, and RADIUS. to the securely with RADIUS the XSR specifying RADIUS authentication to the below attributes. Table RADIUS Authentication Accounting AcctStatusType MSCHAP AcctInputOctets MSCHAP NASIPAddress AcctOutputOctets MSCHAP AcctSessionId MSCHAP AcctSessionTime MSCHAP MPPE FramedMTU AcctInputPackets MPPE ReplyMessage AcctOutputPackets MPPE Class AcctTerminateCause MSCHAP2 State MSCHAP2 MessageAuthenticator VPN XSR
VPN AAA Commands AAA the Network The following XSR AAA commands VPN and with and commands as as the following sub-commands: SSH or VPN service and the IP of and secondary DNS and WINS to to users and connecting IP with with group. or XSR IP from this that AAA user to IP which to IP that from the Microsoft Encryption PPTP and the IP and assigned to the RADIUS, or PKI with the as as the following sub-commands: acct-port the UDP accounting the RADIUS with or IP the of that the RADIUS used. auth-port the UDP authentication activates the the usergroup. the RADIUS. the the XSR and RADIUS the of RADIUS to timeout the the XSR the RADIUS to the the RADIUS with and Pre-shared using the command: The the IP of The the that AAA users than the the Doing the XSR and to the To specify user and the following commands: user
PKI ThISisMYShaREDsecRET The following the PromisedLand usergroup, with DNS, WINS and MPPE and assigns IP remote_user access: PromisedLand secondary secondary user PromisedLand AAA background information and to AAA Services The PKI offers the following CLI commands and of Authorities the crypto identity commands: http-proxy SCEP to directed though intermediate URL to the CA CA this DNS manually and as IP (Not count the of the the of the CRL to CRLs. Collect CA from Authority: crypto authenticate that the of the CA information as of this operation to that the CA the CA IPSec XSR authenticated CA: crypto Immediately CRL crypto aspects of the crypto the following commands: crypto identity displays CA crypto collected (CA and IPSec crypto displays of CRLs the following commands: VPN XSR
VPN PKI PKI the Network crypto The found crypto CA and associated CA and IPSec crypto identity The to PKI as follows: the CA and URL the CA, and authenticate the the CA and CRLs Specify host(s) the CRL the Optional: the and count instructions, to the following PKI If CAs each CA and each CA within the the crypto identity and crypto authenticate commands, respectively, as This PKI authenticating to and with Authority (CA) the IPSec IPSec to IPSec connectivity. You authenticate CAs which to of the that building IPSec to the CA CA and URL. The URL its IP and You the CA manually its IP that the XSR to the UTC that with the XSR#clock Specify the URL, authenticate the CA and the CA to the matches the which from the CA to the CA If the that the and the CA to specify CA identity identity XSR(config)#crypto authenticate
the following attributes: D423E129 81904CE0 1E6D0FE0 A123A302 this CA to and associated the RA below, the CA of three Non-RA CAs only. XSR(config)#show crypto CA CA-AUTHENTICATED V3 C=US, 4th, GMT To: 4th, GMT Subject: C=US, D423E129 81904CE0 1E6D0FE0 A123A302 RA KeyEncipher CA-AUTHENTICATED V3 C=US, 24th, GMT To: 24th, GMT Subject: C=US, F1279D63 AFFC3D93 48E5F311 73A1D16F RA CA-AUTHENTICATED V3 C=US, 24th, GMT To: 24th, GMT Subject: C=US, 91EB5A77 B5CA535A 077B65C5 the CRL and the CRL (optional). XSR(config)#crypto to IP the CRL Optional To CA the that specified when with VPN XSR
VPN the Network from CA which previously authenticated; The CLI to and or to CA that to the to and the XSR(config)#crypto You to this to the CA to security reasons the Please of from CA You while RSA Once the to the Authority. crypto to the PKI: received from the CA. AAA: 13th, GMT AAA: from: 13th, GMT AAA: to: 5th, GMT Once the properly the to the and other The first shown, as ENTITY-ACTIVE the the ID to the the to its authenticity. crypto issued ENTITY-ACTIVE V3 C=US, 13th, GMT To: 5th, GMT Subject: ABF37B67 7200CCDA 604CB10C D5AC7F49 CA CA-AUTHENTICATED V3
Interface VPN C=US, 5th, GMT To: 5th, GMT Subject: C=US, D423E129 81904CE0 1E6D0FE0 A123A302 RA KeyEncipher CA-AUTHENTICATED V3 C=US, 20th, GMT To: 5th, GMT Subject: C=US, F1279D63 AFFC3D93 48E5F311 73A1D16F RA CA-AUTHENTICATED V3 C=US, 20th, GMT To: 5th, GMT Subject: C=US, 91EB5A77 B5CA535A 077B65C5 Optional the count and to matching CA The following the CA when while issued every count the of interfaces that the XSR. interface the interface often IPSec VPN interface as or interface with the following The interface to Site-to-Site or initiated the XSR The interface command to XSR as and VPN XSR
VPN Site-to-Site Application VPN Interface Sub-Commands VPN Site-to-Site Application the Network The following sub-commands VPN Interface firewall of commands to the firewall the VPN interfaces IP to IP the VPN interface Redirects to NAT the VPN interface RIP routing the VPN IP without assigning IP of commands to OSPF routing Command and sub-commands VPN heartbeat and connectivity or Selects active the the when initiating and from the AAA subsystem the IP of the The following to Site-to-Site VPN as illustrated Encrypt Branch the to IPSec/IKE with cryptographic algorithms and IPSec the VPN interface and crypto Branch Office FastEthernet XSR as Encryption This only once the router. of physical and including physical IP routing and RIP or OSPF), and This offers options. Access and to the to protected the The allow of IP the VPN. the of VPN Site-to-Site FastEthernet FastEthernet FastEthernet XSR
or and or allow as IKE Phase protection the following commands: ISAKMP and ISAKMP XSR(config-isakmp)#authentication Selects or XSR(config-isakmp)#encryption Chooses XSR(config-isakmp)#hash Selects IKE XSR(config-isakmp)#group Chooses <seconds> IKE IKE the IKE each IKE to both with containing exactly the authentication, and to match). XSR(config)#crypto the IKE IP and ISAKMP and Selects IKE Selects NAT which the specified algorithms, and choice of SA You SA of seconds and whichever first with and XSR(cfg-crypto-tran)#set group1 PFS XSR(cfg-crypto-tran)#set security-association seconds] SA or seconds three crypto which with specified and and the to SA each to host, and choice of IPSec Crypto match the associated XSR(config)#crypto crypto Correlates with the VPN Site-to-Site Application XSR
the VPN the VPN the Network to ACL and the ACL to Selects IPSec or to XSR XSR(config-crypto-m)#set security-association per-host SA every flow XSR(config)#crypto crypto Correlates with the specified XSR(config-crypto-m)#match to ACL and the ACL to Selects IPSec security-association per-host SA every flow XSR(config)#crypto crypto Correlates with the specified XSR(config-crypto-m)#match to ACL and the ACL to Selects IPSec security-association per-host SA every flow. the XSR VPN interface the to to the VPN. fastethernet FastEthernet and Interface XSR(config-if<F2>)#crypto Crypto to interface and Crypto interface the interface IP to interface shutdown interface the XSR Started another The VPN IPSec option which of IKE and IPSec and combining those with Security This of IPSec and IKE cryptographic strength, offered to the which selects based its the IKE to IP from the
the crypto Interface to of IPSec of the process. It routing IPSec or Network Supporting and OSPF through the The security created crypto IPSec ESP 3DES and AES with SHA-1 and MD5 algorithms. Also, IPSec SA to and seconds whichever reached first of security and attaching to interface crypto interface other than FastEthernet (XSR (XSR Those when Network used. interface (VPN) which initiates to XSR The commands below to VPN interface the XSR. The to the following The interface interface assigned and IPSec security the interface's SPD to and from that NATP the VPN interface. Network as NAPT the VPN interface and crypto to the interface SPD. One to the interface's assigned and the other to the trusted interface which to The commands below with crypto interface user [username VPN Address] network-extension-mode] the following Network VPN interface to initiate and VPN interface You the and the IP assignment of this VPN interface its Corporate the Corporate My_Remote_site Indicates used. You the of this the AAA the VPN XSR
XSR with VPN the Network the IP of the network-extension-mode Selects IPSec to initiate NEM Pre-shared user with If supplied, the XSR or and RSA authentication. of the shown below that they appear the running-config crypto crypto match crypto match this as shown VPN to the following: NEM and PPTP OSPF routing with the router the trusted VPN interface DF clear the VPN interface to IP OSPF routing the VPN interface other Assign the first IP of the to the VPN interface.
XP and Gateway Topology Branch Office XSR FastEthernet the XSR SNTP. This which to IP and UDP traffic: tcp tcp IP pool/EZ-IPSec, Network and L2TP: IKE Phase security with the following XSR(config)#crypto XSR(config-isakmp)#hash XSR(config)#crypto XSR(config-isakmp)#authentication IKE the XSR(config)#crypto XSR(config-isakmp-peer)#config-mode the following four IPSec XSR(config)#crypto XSR(cfg-crypto-tran)#no security-association interface Remote Access XP or PPTP Terminates Terminates XSR FastEthernet CA FastEthernet XSR
the Network XSR(config)#crypto XSR(cfg-crypto-tran)set security-association the following four crypto to match and XSR(config)#crypto XSR(config-crypto-m)#set XSR(config-crypto-m)#match XSR(config)#crypto XSR(config-crypto-m)#match XSR(config)#crypto XSR(config-crypto-m)#match security-association per-host XSR(config)#crypto XSR(config-crypto-m)#match and the FastEthernet interface: shutdown FastEthernet interface with the attached crypto FastEthernet2 XSR(config-if<F2>)#ip XSR(config-if<F2>)#access-group XSR(config-if<F2>)#access-group shutdown the VPN interface as terminating with IP redirection back to the OSPF with and the firewall: XSR(config-int-vpn)#firewall to the IP of to types: to the CRL
Clear the DF XSR(config)#crypto clear the OSPF VPN and FastEthernet interfaces routing: XSR(config)#router XSR(config-router)#network XSR(config-router)#network NEM and users: secondary secondary XP users including DNS and IP PPTP and L2TP and VPN secondary secondary the RADIUS AAA to authenticate users: DEFAULT XSR(aaa-method-radius)#acct-port branch office the FastEthernet using FastEthernet shutdown FastEthernet shutdown fastethernet XSR
GRE OSPF A: XSR-3250 VPN GRE Site-to-Site the Network assigned the Network IPSec to the XSR active FastEthernet to the CRL the OSPF VPN and FastEthernet interfaces routing: XSR(config)#router XSR(config-router)#network XSR(config-router)#network the XSR Started another NEM The following of GRE IPSec XSR-3250 A) and XSR-1805 B) IKE shared authentication. creating IPSec ACL to GRE and with This ACL crypto the ISAKMP that IKE algorithm IKE SA of seconds, and IKE authentication. and 3DES and displayed the XSR(config)#crypto shared XSR(config-isakmp)#authentication XSR(config-isakmp)#hash Specify the IP to IKE with the ISAKMP shared XSR(config)#crypto
of three IPSec security that the XSR-3000 willing to to within the IKE XSR(config)#crypto XSR(cfg-crypto-tran)#set security-association XSR(cfg-crypto-tran)#set security-association seconds XSR(config)#crypto XSR(cfg-crypto-tran)#set security-association XSR(cfg-crypto-tran)#set security-association seconds XSR(cfg-crypto-tran)#crypto XSR(cfg-crypto-tran)#set security-association XSR(cfg-crypto-tran)#set security-association seconds crypto allowing IPSec matching the GRE ACL created The crypto allows the of of the three IPSec security created that the to the terminating the GRE XSR(config)#crypto XSR(config-crypto-m)#match security-association per-host GigabitEthernet interface as the trusted or VPN interface connected to the OSPF this interface to the OSPF routing GigabitEthernet shutdown GigabitEthernet interface as the or VPN interface directly connected to the crypto to this interface to allow IKE and IPSec processing. GigabitEthernet shutdown VPN GRE interface, XSR1800 to initiate outbound active command), the IP of the VPN and redirect to XSR1800 active XSR
B: XSR-1805 VPN GRE Site-to-Site the Network to the router: OSPF the trusted and VPN interfaces: XSR(config)#router XSR(config-router)#network XSR(config-router)#network This shows of GRE IPSec XSR-3250 and XSR-1805 IKE shared authentication. and as Specify the IP to IKE with the ISAKMP XSR(config)#crypto Specify the of IPSec security as crypto allowing IPSec matching the GRE ACL created The crypto allows the of of the three IPSec created that the to the terminating the GRE XSR(config)#crypto XSR(config-crypto-m)#match security-association per-host XSR(config)#crypto XSR(config-crypto-m)#match security-association per-host FastEthernet as the trusted or VPN interface connected to the fastethernet firewall shutdown FastEthernet interface as the or VPN interface directly connected to the crypto to this interface to allow IKE and IPSec processing.
shutdown VPN GRE interface with heartbeat of seconds, XSR3250A to initiate outbound active command), the IP of the VPN and redirect to XSR3000A active heartbeat to the router: OSPF the and VPN interfaces: XSR(config)#router XSR(config-router)#network XSR(config-router)#network XSR
Site-to-Site the Network The following Site-to-Site router with internal/external IP of to XSR with internal/external IP of The commands as they would appear when the service service service password-encryption crypto authentication crypto authentication crypto crypto security-association seconds crypto crypto security-association security-association seconds group2 match interface-type
XSR interface FastEthernet0/0 half-duplex interface FastEthernet0/1 crypto access-list auth community RO XSR(config)#crypto XSR(config-isakmp)#authentication XSR(config-isakmp)#encryption XSR(config-isakmp)#hash XSR(config)#crypto XSR
Profile the XSR Profile the XSR Gateway-to-Gateway with Pre-Shared the Network XSR(config)#crypto XSR(cfg-crypto-tran)#set group2 XSR(cfg-crypto-tran)#no security-association XSR(cfg-crypto-tran)#set security-association XSR(config)#crypto XSR(config-crypto-m)#match fastethernet shutdown fastethernet shutdown XSR(config)#snmp-server This section to the XSR to the VPN The following typical gateway-to- VPN that authentication, as illustrated Gateway-to Gateway with Pre-Shared Topology Gateway Gateway AL AW BW BL Gateway the internal LAN to the Gateway LAN interface the and its WAN interface the Gateway the internal LAN to the Gateway WAN interface the Gateway LAN interface testing Gateway A. The IKE Phase
DES SHA-1 MODP of SA of seconds hours) with The IKE Phase DES SHA-1 ESP MODP Perfect secrecy SA of seconds hour) with Selectors IP and This already the XSR operations to the XSR Started Also, should the XSR To Gateway this the following the CLI: the Gateway internal LAN (AL): shutdown the Gateway LAN (AW): shutdown to from the to the IKE Phase XSR(config)#crypto XSR(config-isakmp)#authentication XSR(config-isakmp)#encryption XSR(config-isakmp)#hash XSR(config-isakmp)#group IKE the Gateway Optionally, IKE each XSR(config)#crypto Profile the XSR XSR
Profile the XSR the Network IKE Phase creating the XSR(config)#crypto XSR(cfg-crypto-tran)#set group2 XSR(cfg-crypto-tran)#set security-association seconds the crypto Highflow which with and and the to the XSR(config)#crypto Highflow XSR(config-crypto-m)#match the crypto Highflow to the Gateway interface (AW): FastEthernet2 XSR(config-if<F2>)#crypto Highflow shutdown the The username the IP of the and the the the PC the from the the PC from Gateway A, the shown below. that to the ACL with the and IP to abort Reply from Reply from Reply from Reply from Reply from You the following commands to Phase and Phase respectively. the the commands the following crypto State Source Destination QM_IDLE crypto ANY, ANY, ESP: ANY, ANY, ESP:
Gateway-to-Gateway with The following typical gateway-to-gateway VPN that authentication, as illustrated Gateway-to Gateway with Topology Gateway AL AW BW BL Gateway the internal LAN to the Gateway LAN interface the and its WAN interface the the internal LAN to the Gateway WAN interface the Gateway LAN interface testing Gateway A. The IKE Phase DES SHA-1 MODP SA of seconds hours) with The IKE Phase DES SHA-1 ESP MODP Perfect secrecy SA of seconds with Selectors IP and using This already the XSR operations to the XSR Started Also, should the XSR To Gateway this the as would with authentication, RSA as follows: XSR(config-isakmp)#authentication completing to the VPN, CA and this the following Profile the XSR XSR
Profile the XSR the CA CA and URL. The URL its IP and You the CA manually its IP that the XSR to the UTC that with the XSR#clock Specify the URL, authenticate the CA and the CA to that the matches the which from the CA to the CA If the to the and the CA to specify CA identity information. XSR(config)#crypto identity hightest XSR(config)#crypto authenticate the following attributes: D423E129 81904CE0 1E6D0FE0 A123A302 this CA to and associated the RA below, Hightest the CA of three Non-RA CAs only. XSR(config)#show crypto CA Hightest CA-AUTHENTICATED V3 C=US, CN=hightest 4th, GMT To: GMT Subject: C=US, CN=hightest D423E129 81904CE0 1E6D0FE0 A123A302 RA KeyEncipher Hightest-rae CA-AUTHENTICATED V3 C=US, CN=hightest GMT To: 24th, GMT Subject: C=US, F1279D63 AFFC3D93 48E5F311 73A1D16F RA Hightest-ras
CA-AUTHENTICATED V3 C=US, CN=hightest 24th, GMT To: 24th, GMT Subject: C=US, 91EB5A77 B5CA535A 077B65C5 from CA which previously authenticated; hightest The to and or to CA that to the CA. to and the XSR(config)#crypto hightest You to this to the CA to security reasons the Please of from CA You while RSA Once the to the Authority. crypto to the XSR(config)#<186>Aug PKI: from the CA. AAA: 13th, GMT AAA: from: 13th, GMT AAA: to: 5th, GMT Once the properly the crypto to the and other The first shown, as ENTITY-ACTIVE the the ID to the earlier displayed the to its authenticity. crypto issued hightest ENTITY-ACTIVE V3 C=US, CN=hightest 29th, GMT Interoperability Profile the XSR XSR
Profile the XSR the Network To: 29th, GMT Subject: ABF37B67 7200CCDA 604CB10C D5AC7F49 CA CA-AUTHENTICATED V3 C=US, CN=hightest 4th, GMT To: 4th, GMT Subject: C=US, CN=hightest D423E129 81904CE0 1E6D0FE0 A123A302 RA KeyEncipher Hightest-rae CA-AUTHENTICATED V3 C=US, CN=hightest 24th, GMT To: 24th, GMT Subject: C=US, F1279D63 AFFC3D93 48E5F311 73A1D16F RA Hightest-ras CA-AUTHENTICATED V3 C=US, CN=hightest 24th, GMT To: 24th, GMT C=US, 91EB5A77 B5CA535A 077B65C5
of DHCP The (DHCP) and including IP to hosts. Consisting of DHCP host- from DHCP to host, and to hosts. to the DHCP high-availability, authenticated and of hosts. DHCP based the DHCP and to Throughout this chapter, the to DHCP, and the to from DHCP The DHCP IP and router interface rather than PC host. that DHCP XSR interface which already IP Also, and options typically DHCP SMTP, POP3 Microsoft-related options supported. The these options DHCPOFFER /DHCPACK containing such Also, although the bootfile and field the DHCP initiate TFTP to DHCPOFFER or DHCPACK. DHCP IP assigns IP to lease (or explicitly relinquishes its IP assigned the with DHCP to the assigned to the DHCP to BOOTP to BOOTP and allow existing BOOTP to with DHCP DHCP with BOOTP (RFC-951). as to BOOTP, DHCP from BOOTP its IP and lease The XSR offers the following DHCP features: of of lease Temporary or (IP) to Network assignment to DHCP XSR
DHCP Works DHCP DHCP Works DHCP XSR of Class. and to IP including of DHCP activity and through reports statistics and Nested The XSR the following: DHCP as RFC-2131, BOOTP and BOOTP as RFC- 951/RFC-1542, and BOOTP as RFC-1534: DHCP and BOOTP BOOTP only) DHCP RFC-2132: DHCP and BOOTP and RFC-3004: Class Option DHCP DHCP and DHCP/BOOTP services FastEthernet If DHCP/BOOTP the command) or DHCP FastEthernet the other service the FastEthernet The XSR or the other service to both. The DHCP of exchanged simplified of follows: (DISCOVER) to DHCP its This include the and of lease Also, BOOTP relay the to DHCP the physical (OFFER) from DHCP to the with offer of including IP and options. the actually the that the free (REQUEST) to of the following offered from and implicitly offers from others, Confirming the of previously allocated the lease The selected (ACK) to with including or and its lease to the the (NACK) indicating the of incorrect or the lease expired. The the allocated the and this The its lease (RELEASE) to the the lease with its hardware/network If the
DHCP Services of Network Temporary or Network Lease Network to ID when the lease, the the Alternately, when lease the to If the and DISCOVER to the process. DHCP to which outlined Assigned Network to The DHCP services the leases, options, and Class below. The first DHCP service of known as the The XSR the to each where the and the the the might the IP-subnet-number/hardware-address the might the IP-subnet-number/hostname allowing the to assign to DHCP that to or DHCP the to IP-subnet-number/hardware-address the explicitly the option. The XSR IP and client-hardware and the leases.cfg The DHCP service temporary or (IP) to Network with the to that within the and attempting to the each the The which network to lease its lease with follow-up and to release the back to the when the Also, assignment lease. assigns leases to allow of reassigned to of which the whose leases expired. The the to choose the choose the least recently assigned consistency the the the with ICMP and the the with ARP. With the of IP assignment to the DHCP framework to TCP/IP and other XSR DHCP Services
DHCP Services Provisioning Differentiated Network Class BOOTP Nested IP DHCP XSR items which the options field of the DHCP The items themselves, options, the XSR the options specifying IP or ASCII Supported options the Commands chapter of the XSR CLI Reference RFC-1122 IP/TCP One DHCP option the XSR the with DHCP selects the to this class. Class Accounting with lease than RFC-3004 the Class Class) option DHCP. The XSR with BOOTP with specified IP to the as as TFTP IP and to (with the command). to BOOTP information. of the functions of the DHCP to IP to that process, the DHCP with three or DHCP or and Hosts assigned other as as IP and these hierarchically directory these as shown The and IP and The Class of DHCP services. The DHCP DHCP inherited from outer Class from outer outer the
Caveat DHCP its the of or and from outer to the DHCP when they found first the instance, specified the and another the the DHCP the the following when IP to The following apply: IP DHCP redundancy DHCP should that other DHCP IP as follows: the DHCP from to and the DHCP from to the IP and MAC or of You manually the IP of or assigned from DHCP IP that manually to the MAC of recorded the DHCP of IP that to the MAC of recorded the DHCP the leases.cfg first creating then specifying the IP of the and or The the MAC The which Microsoft (instead of the type and the MAC of the To the following to the DHCP and DHCP prefix-length] to specify the IP and The the of that the The to specifying the of the The preceded of the following Specify the <hardware-address> <type> or Specify the of the where the Ethernet type. XSR DHCP Services
DHCP Services DHCP Services Router Option Option DHCP Interaction Secondary Caveats DHCP XSR and when the of the or first when created. Optionally, the ASCII character. The should include the the should specified as The DHCP Router Option (DHCP Option or IP the Router Option, the first IP as the IP The following XSR-1200 DHCP: IPA and Gateway interface with of the routing and the command as follows: C-connected, S-static, R-RIP, B-BGP, O-OSPF, IA-OSPF N1 OSPF NSSA type N2 OSPF NSSA type E1 0SPF type E2 0SPF type H-DHCP originated from C directly connected, FastEthernet0 This and from the routing this interface or the DHCP lease and as follows: XSR-1200 DHCP: IPA and Clear Gateway interface DHCP Option the DHCP to Currently, this the the Although Routers and typically included Option these this the of RAI. DHCP and secondary the XSR. interface with secondary switched to DHCP and interface DHCP secondary commands.
Interaction with (RAI) DHCP and secondary IP the interface within the they within the already other interfaces. Also, the IP secondary If the DHCP negotiated, its and unknown DHCP such DHCP conducted the RAI operations, to the functionality otherwise. The the following: Routers Bootfile TFTP when DHCP created interface. the DHCP informing RAI that and, this restarted. RAI then other interfaces. to RAI the fashion, the following obtained when of the router (Option of preference) field or Option (Bootfile IP of the TFTP of preference) Option (TFTP or field information RAI, to the XSR The XSR the following FSM State timeouts: Table FSM Timeouts Timeout Retry seconds to Initial State lease Select seconds to OFFER from first timeout seconds to Initial State from State ACK/NAK Initial seconds backoff with this Backoff seconds backoff DHCP Services XSR
DHCP CLI Commands DHCP CLI Commands DHCP XSR The XSR offers CLI commands to the following functionality: DHCP with related and DHCP You DHCP with that Accounting) with DHCP DHCP from which The XSR and DHCP of IP and of the DHCP IP and or length, with the DHCP MAC and with or the DHCP its type and MAC with from the DHCP Clear from the DHCP host, or which first when the created. DHCP The to the The often the operating to It with bootfile BOOTP UDP broadcasts with and DNS To the of the To specify the DNS when they to to IP Specify the and type Microsoft DHCP DNS when they to IP IP of the MS WINS The XSR four of DHCP broadcast, and They specified using router the DHCP booted, the to its router. The IP of the router and should the as the the lease IP assigned DHCP lease the which the Specify with lease the of and the DHCP IP assigning to If the the (with high that the and assigns the to the to the of the should to the IP assigning the timeout to the the and DHCP services the following commands. displays the DHCP including lease displays conflicts found DHCP when
DHCP DHCP DHCP Network IP offered to the statistics catch-all command. shows of active IP and IP The DHCP the following: or DHCP These the of the router or whose reach the DHCP using BOOTP from these which restricted and to the DHCP each the of DHCP to to to the DHCP the DHCP FastEthernet interface The DHCP supply the IP of the DNS to its DHCP of of types, each (possibly of The DHCP the of four to DHCP They IP Corresponding DHCP DHCP Network the DHCP Optionally, also: DHCP Nested DHCP These the following DHCP specifying of IP or BOOTP this the interface assigned IP DHCP XSR
Corresponding DHCP DHCP Network the DHCP Optional: DHCP Nested Optional: DHCP DHCP XSR including the IP of the and that to this to DHCP specifying the On the to DHCP, They include the lease of hours and IP of the router and DNS (these IP from the the IP and the Enterasys.com XSR(config-dhcp-pool)#lease or the DHCP FastEthernet interface fastethernet creating and using to the lease this DHCP the shorter lease to and other the class1 XSR(config-dhcp-class)#lease the to include the of the XSR(config-dhcp-class)#host XSR(config-dhcp-host)#hardware-address
DHCP with with Class to the specifying the this host: XSR(config-dhcp-host)#netbios-node-type Specify DHCP option the the The following DHCP with options. DHCP with firewall to Security the XSR the following the DHCP created and routers (higher preference) and preference). The specified and of DNS (higher) and (lower). as type (higher) and (lower). Finally, the lease to XSR(config-dhcp-pool)#lease this the DHCP created with with MAC 00:f0:12:11:22:a1 and IP and The this specified as (this specified this 00f0.1211.22a1 XSR(config-dhcp-host)#host the following the DHCP created with the The with MAC specified IP and DHCP XSR
DHCP BOOTP DHCP Option DHCP XSR The this specified as indusriver.com (this this and specified the class). XSR(config-dhcp-class)#domain-name XSR(config-dhcp-class)#hardware-address 00f0.1211.22a1 XSR(config-dhcp-host)#host XSR(config-dhcp-host)#domain-name indusriver.com the following the XSR to BOOTP to from TFTP within the DHCP the assigned of IP and (or optionally, its the TFTP IP and the of the to downloaded, acme.hex Also, ARP XSR(config-dhcp-pool)#host XSR(config-dhcp-pool)#bootfile acme.hex 0000.1D11.E829 the MAC (BOOTP BOOTP the DHCP with the IP the acme.hex and the IP The following DHCP option the three of option prompted the CLI: IP ASCII and the XSR CLI Reference The following DHCP option which the IP of four routers the DHCP of This the DHCP command. to first these from the IP to them from allocated the DHCP XSR(config-dhcp-pool)#option The following DHCP option which the of which or with the The option ASCII the DHCP command. The should include the XSR(config-dhcp-host)#option The following DHCP option which that the using ICMP. XSR(config-dhcp-host)#option
Access Security the XSR This chapter the security options the XSR including the firewall and to The following security the XSR: and Access Protection Destination IP Source IP, ICMP to directed UDP to directed broadcast, SYN FIN IP with Spoofed TCP release ICMP based IP length, IP IP including: ICMP ICMP of Death TCP with SYN and FIN AAA services including AAA interface PPP of AAA, Activating of the features performance. Access (ACL) selection of which when with other the XSR. They based IP from and IP type (ICMP, TCP, UDP, GRE, ESP, AH), ((TCP, UDP), and type/code (ICMP) XSR
ACL Security the XSR To them only then apply them to interface. of ACL and actually they the which they appear the access-lists command. and and interface ACL to its input and to its Also, the ACL that the least The XSR of the following The of ACL allowed crypto and to the interface, the XSR to the crypto which the ACL both inbound and outbound traffic. If IPSec or to the crypto then the ACL The XSR ACL IP, and counter with the access-list command. ACL updated as the based the of or with the access-list threshold command. The functionality to both and the reported, the cleared the with that IP and ACL group. that router performance affected copying information and once every Also, when reporting every and too to The ACL the ACL ACL that action, IP and of that the from the IP and from the IP with the following CLI The first as follows: the as follows: and access-list commands. information, to the XSR CLI Reference Protection when arrives with the IP to the IP This IP and the XSR when the protection with the command. the section
Attack IP with Multicast/Broadcast Source Spoofed SYN and ICMP ICMP Traffic ICMP from falsified to directed causing the to to the falsified of such the of the whose falsified. The XSR protects turning off directed and turning to IP and the XSR CLI Reference information IP directed broadcast. UDP Echo-directed broadcast. It to that UDP instead of ICMP The XSR protects turning off directed and turning to IP This type of IP XSR interfaces to these necessary. This allows of IP the of the routing to the of the through the interface as of Service this with of to Since the the built and the of eventually overwhelms the causing service to SYN the XSR the router This and the of TCP the of TCP and the of each of them this The XSR offers these to ICMP based IP length, IP offset, and IP They apply to the XSR. This protection ICMP with the to or offset indicated the offset field. the XSR the protection with the HostDoS command. XSR
Security Precautions ICMP of Death Spurious State Transition Security Precautions Security the XSR This protection ICMP than the XSR the protection with the HostDoS command. This protection when ICMP with the to and ((IP offset IP length) than the IP this overflow. The XSR such automatically. Protection TCP with and This type of when to network using the from SYN_RCVD to CLOSE_WAIT, with both SYN and FIN to host. The first the SYN the ACK back, and its to SYN_RCVD. Then the FIN to CLOSE_WAIT, and the ACK back. The other and the of the CLOSE_WAIT the to the CLOSED To this the XSR TCP with both SYN and FIN With protection these This the XSR. To security the XSR, these physical to the Download the patches of and back-out they of to that the OS of change, back-out and of routers clear text the to found the dictionary when the IT to the to only reasonable and
AAA Services If PPP the WAN, CHAP authentication router services HTTP, used) to HTTP, and SNMP to the type of ICMP to services to and only with to the If SNMP, community and read-only to CPU OSPF rather than RIP to of MD5 authentication which router interfaces to the XSR SNTP the DMZ to XSR clocks to to The XSR Authentication, Authorization and Accounting (AAA) services to and AAA users, and and SSH users the following authentication mechanisms: CLI authentication This authentication and SSH users authenticates the CLI created the username command. This the base, and authenticate RADIUS. AAA authentication This allows and SSH of the AAA which authentication AAA including RADIUS. The switches to authenticate the AAA user while ssh switches SSH users to the apply when switching and SSH to authenticate this as follows: the AAA switching to AAA or SSH, least with SSH the AAA the user with or SSH to of to the XSR. The XSR offers of AAA The AAA AAA service. Although the the factory this the command. The AAA This the firewall sub-command that PPP AAA when acting as the authenticator (when the PPP authenticated the when acting as the authenticatee If the specified the XSR AAA Services
AAA Services Connecting Remotely SSH or with AAA Service Security the XSR The to AAA the command, which acct-port auth-port and timeout sub-commands. Although the AAA service authenticate to RADIUS or PKI the AAA interface with which the XSR authenticate from interfaces and the or AAA the then the AAA service used. AAA sub-commands RADIUS service RADIUS Authentication and Accounting Additional AAA sub-commands acct-port and auth-port UDP accounting and authentication respectively. AAA users to AAA service with the command, which includes and sub-commands to attributes. Also, interface to user/group-assigned While of these self-explanatory, the specifying which each to the XSR. The options firewall and Their functions as follows: and low-level users who the SSH users who who the firewall VPN who to the XSR AAA assigned to with the top-level command, which and and and sub-commands to that groups respective users specifically assigned to to the DEFAULT AAA group. both the and Although AAA authentication the service the this user to authenticate every with @<method>username The XSR the user the authentication service. to the section to SSH or with AAA authentication. of AAA the command. directed to the where information recently requested. Also, AAA activated, to the The AAA below displays MSCHAP authentication the AAuthenticatePlugin::queue Reply: authpool IRMauthorizeMsg::clientLogon the following commands to SSH or service: On the CLI, to
crypto to crypto to the XSR. this these authentication If to using SSH, the following otherwise to freeware such as If these options ease of Click Click Force off Click editing, Force off. Click SSH, Don't Option From the SSH to the IP of the XSR interface to with, to SSH this the first to the the shown appear. Click NO to the SSH XSR AAA Services
AAA Services Security the XSR The SSH appear as shown with and created both Screen the CLI, to the timeout Optionally, to security the XSR, to user to authenticated user and AAA or the created to the highest the to SSH the to AAA to AAA SSH authentication. If to The XSR ready to the to the timeout through
Reasons Optionally, to security the XSR, to SSH. to the to AAA to the user to The XSR ready to users. to firewall as of related or to the to corporations firewall from the and or based its firewall to the or firewall and traffic. or firewall. instance, matched to IP and FTP, HTTP, NNTP, or IP such as OSPF, IGP or ICMP; and to The firewall include the following: security security Enforce security security to information from the users to to and business that otherwise flow internal and the Protect internal from and activity of Ideally, these should security that the to firewall to and the of firewall as through which or to allow through as shown which topology using the XSR firewall XSR
of ACL and Security the XSR XSR Topology inspection HTTP There firewall. The shows with the firewall connected to the trusted (internal) and that externally the DMZ). The XSR firewall inspects from and them to the router or them based the which using the CLI. this the firewall acts as shield and of the and DMZ The internal interface firewall inspection trusted While this the fact that the shield as effective as the of the Functionally, the the and information about the currently allowed through the firewall. Generally there three of firewalls: Access (ACL) or Application Gateway (ALG) or Proxy, and Inspection. Each of these firewall layers of the TCP/IP using to traffic. ACL and firewalls statically apply security to to specify such as or and DB XSR Router inspection SMTP DMZ
ALG and Proxy and numbers. These firewalls easy to and Network they the following usually or with which secondary information the such as FTP and H.323 applications) and than inspection or firewalls ALG or firewalls the top of the They: as IP and often dedicated, operating with functionality, offering of chance to compromised. and to internal of protecting themselves these (too or too commands commands/operations (as Objectionable and URL incoming/outgoing such as FTP, gopher, or the firewall first. from the to the firewall, the other from the firewall to the This completely which to the based its read of the incoming and of the the the firewall and to to the another of protection and the forcing to first the to internal hosts. the of or firewall offset the following Higher overhead usually implemented the Application to the and the or of existing often months or years. Non-transparency users the forcing users to alternatives. Firewall XSR
XSR Firewall Functionality Inspection XSR Firewall Functionality Inspection (SFI) Security the XSR inspection firewall the aspects of other firewalls to the whether and the of the It allows and host, the of of Also, algorithms to and rather than Additionally, inspection firewall Inspection of and from throughout layers. FTP PORT command to incoming FTP the and when the The with the least overhead and performance inspection implemented the Application Gateway (ALG) to which secondary streams. apply inspection to such as FTP or H.323 tracking and and learning the to the service and commands to More The to search and non-forming The firewall the following functionality: inspection TCP and UDP and of incoming and outgoing TCP/UDP Incoming explicitly allowed TCP, created and TCP SYN/ACK/FIN UDP created based flows with the first outbound UDP creating the Inactivity the inspection and such as FTP, AOL, the firewall services to these and other as as their associated and TCP/UDP affiliations. Non-TCP and UDP IP and with TCP and UDP to IP through the firewall, that with the and
Application Commands Application Gateway action option Command Security (CLS) to actions within The CLS the type the and or commands. FTP allowed These supported: (FTP) (SMTP) and NNTP Hypertext (HTTP) FTP and H.323 and Remote Procedure (RPC) based The XSR ALG with of RPCs: (and Unix and Microsofts. The following services RPC and with the firewall command: and and RPC-based built framework and RPC to RPC that RPC the using TCP and UDP: RPC Microsoft RPC operates as follows: RPC-based with the their and issued the IANA, they The to the and the the with the The then initiates to the the and the The ALG inspects RPC the and the the cache. It then allows the to to the that Once the the ALG both TCP and UDP traffic. The XSR RPC cache the or bound the You the with firewall microsoft-rcp timeout Once RPC or TCP- or UDP-based RPC to that TCP-based RPC allowed to through the Firewall the closed as as the terminates. RPC UDP and therefore than those using TCP. The XSR the of UDP cache which other such as DHCP relay ALG. If free UDP cache then RPC-based allowed freed. other UDP through the Firewall, the of UDP cache the of RPC cache that the each RPC-based created. The first TCP or UDP from the to the The the the RPC and the Both the firewall and the RPC their of or XSR Functionality XSR
XSR Functionality On URL Security the XSR This features to of Uniform (URLs) or to The XSR the URL from the and headers of the and matches that to of (white or URLs. URL from ASCII The XSR the of URL from user-specified ASCII text the firewall name_of_url_xxx_list where or white-list URL or of the following commands firewall firewall flash:blacklists.txt firewall url-load-white-list cflash:whitelists.txt Writing URL the firewall the XSR immediately the URL from the write URL the the following: case-insensitive to URL each of which to characters leading and trailing white TABs) from the input If URL than characters, the XSR to characters. If the URL than only the first loaded. URL of the URL to match. It as as directory of such as theProject.htm or as as such as playboy.com or such as The following URLs: siterankings.com/cgi-bin/casinos mail.bigmailbox.com/users/casinoranking.com members.aol.com/winatcraps playboy.com URL The XSR firewall URL the URL-W or URL-B URL-B instructs the XSR to the URL with URL to URL and the with to below. If the URL loaded, allowed.
of Service Protection You include the URL the white URL when redirect URL with white otherwise the XSR with the to the URL the URL-W the XSR to search the URL the URL white which restricts surfing to the URL If to the URL with to that shown If the optional redirect URL to the following section then the to the redirect URL If white URL loaded, the You include the URL the white URL when redirect URL with white otherwise the XSR with the to the URL the URL and white respectively, as of firewall as follows: firewall Block_URL ANY_EXTERNAL HTTP URL-B allow firewall ANY_EXTERNAL HTTP URL-W allow URL Redirection You redirect URL with the firewall redirect command. The redirect_url_string the URL of the to and to characters. firewall redirectURL www.ACME_INC.com/index.html The firewall redirectURL immediately. Security of when the firewall and interface). The firewall the HostDoS to check-spoof firewall-enabled interface of the check-spoof Check-spoofing the IP XSR Firewall Functionality XSR
XSR Firewall Functionality Security the XSR the routing If from interface with IP that through this interface, spoofed and high when detected. These covered: Anti-Spoofing to the firewall with to internal network when from interface. from internal interface with the ICMP to ICMP from high the firewall of ICMP second. of Death to where ICMP with the the and the host, the firewall to directed broadcasts or directed SYN to TCP (SYN the firewall the of half-open TCP and of TCP Tear to IP that the firewall offsets and the Christmas Tree TCP with TCP with of the SYN, FIN or RST to TCP SYNC with the and the firewall with and The XSR and and the allow- options. If to which CompactFlash memory the XSR. purged the XSR the of CompactFlash. The XSR firewall the following TCP and UDP and and firewall allow_log or IP option or Other or OSPF, ESP, RIP, GRE ICMP Broadcast, FTP, HTTP and SMTP
Authentication (TCP, UDP, ICMP) and of memory) which displays: FW: TCP Con_Req, FW: TCP FW: TCP FW: TCP closed to the FTP displays: FW: TCP Con_Req, FW: TCP FW: TCP The IP cited firewall selected as follows: If the XSR IP that to the If the IP of the first FE1 first, then FE2, then WAN interface IP obtained. If interfaces with IP the used. AAA services the firewall and This release only authentication which based its IP firewall that specify allow-auth as the action the IP of the the auth cache the the the XSR to or another The prompted and and those with authenticating (RADIUS) or the XSR Authentication Authentication Firewall DMZ XSR Firewall Functionality XSR
XSR Functionality Firewall and NAT Firewall and VPN and Firewall Security the XSR the which authentication the XSR firewall, as below: to the firewall and The AAA functionality to authentication or based the If authentication AAA informs the firewall of the IP and authentication created within the firewall specified the firewall allow the user to with the firewall authentication cache. Authentication using or and inactive If authentication that match with allow-auth that IP On outgoing inspection NAT NAT the of to that of the XSR and with to internal and On incoming NAT firewall inspection. with Release the XSR IPSec NAT to The XSR IKE from UDP when NAT IKE and the implemented to allow to UDP to through the firewall to allow users to IPSec that the firewall. to XSR with and VPN VPN as interfaces that physical interfaces. inspection and outgoing and and incoming Access as basic interface to or or of the outbound subjected to firewall inspection ACL. Inbound, ACL then the firewall. that the firewall interface, should that that The XSR apply or without restarting the firewall accomplished the firewall stateagainst which these other intact.
CLI Commands The XSR which, the CLI. These and other firewall commands as follows: Network or host. network with or with and specified with firewall The or the trusted/internal or to internal and internal and both the internal this specifically the other internal and match to that internal wildcard such as ANY_EXTERNAL as the This matched the to of ANY_EXTERNAL internal You from to the as follows: firewall or firewall Network of to referenced with firewall The intrinsic, ANY_EXTERNAL and ANY_INTERNAL the firewall as as least other internal or group. Service and with firewall service with the the specified match this service as with the TCP and UDP supported. services ANY_TCP TCP and ANY_UDP UDP Service of service with firewall Typically, the the specified You to which the firewall and which with firewall which match and service these allow allow auth these You as follows: to internal to and to internal. to supported. Unicast The XSR firewall DENY ALL explicitly allowed, both You should the of to to allow from to and FTP these first. Then allowing to ANY_INTERNAL and ANY_EXTERNAL service. These Firewall CLI Commands XSR
CLI Commands Security the XSR Non-Unicast with or to they allowed explicitly. This easy to to IP through the firewall to allow access, the firewall ip-broadcast or firewall commands as as IP with options with options You options explicitly firewall these characters only: or or Also, firewall TCP/UDP/ICMP TCP, UDP, or ICMP and assigns timeout their inspection with firewall firewall and firewall Non-TCP/UDP of and UDP with firewall these to allow other IP to through the firewall specify with the IP and IP ID. and ActiveX HTML with and ActiveX through the firewall with the firewall and firewall activex commands. include allowing from or selected IP or from IP Interface with the firewall ip-options or routing through the or ip-broadcast DHCP, and routing) commands. firewall or off with firewall The firewall interface or and interfaces, If the firewall and interfaces explicitly each displays running-config the completed firewall the inspection with firewall This conflicts with existing clearing them. to or incrementally and loads. You with firewall Also, the option and firewall displays and when that the running-config to to Commands the CLI the the and the to the commands Several other commands that that those that to the following Performing that TCP including and PKI to the Authority. Also, firewall Commands of firewall commands to firewall each firewall command. Also, firewall displays the as firewall displays TCP, UDP and ICMP and firewall displays summary firewall statistics such as the of the firewall, protected and interfaces, counters, and of
the threshold firewall to the or with firewall You severity from to which firewall through as follows: Emergency such as to memory and firewall to or higher and MEDIUM or HIGH and firewall or higher Warning and LOW and firewall or higher Notice Information You firewall with the command. To further and overhead the XSR, the firewall to with the firewall command. This of the XSR priority, and this action firewall that the Authentication firewall authentication with timeout and with firewall auth Also, the firewall authentication Authentication users the AAA commands including and and the firewall group_name matches the AAA the <port-number> command, the shown appears. that usernames and than characters and include non-alphanumeric characters. Please username and Username: Authenticated. CLI: from XSR> that than terminated the timeout with CLI XSR
Security the XSR the following firewall operations: XSR which temporary Flash. each of firewall when that ANY_INTERNAL with as the and another of as the the that each bidirectional those which when or to the that the CLI command. specifying the the following, TCP, P_intExtFtp_0-2, where P-intExtFtp the CLI and the Memory The of firewall constrained the of RAM the XSR as follows. that these through the of memory to Memory Timeouts timeout the three firewall as follows: TCP timeout seconds UDP and ICMP timeout seconds Services firewall services with which than around, service to cover SNMP SNMP and ACL/Firewall Access security interface Interface allow or the specified or Heading outbound firewall inspection Going inbound first the firewall. the firewall interface, that that Firewall/NAT On outgoing inspection NAT. This to the fact that NAT the of to the and with to internal and On incoming NAT firewall inspection. Firewall written the the they IP and of whether NAT the interface. Firewall/VPN VPN as interfaces that physical interfaces. inspection and outgoing and and incoming and Un-numbered Interface The firewall with interface IP concerned with IP that interface. the firewall interface, as The firewall with the Router (VRRP). That switch-over the firewall and authentication
the Firewall to the switch If the firewall router, then would to re-established. You to re-authenticate users to authentication-protected If or firewall-enabled supported. Each XSR would as firewall and that through Secondary IP Address/Firewall The firewall with interface IP secondary interface firewall operations. network the secondary as IP Firewall Authentication VPN Firewall authentication VPN the following to the firewall: security by: topology exactly what to where the to the firewall and writing or SSH XSR located the field of internal Forming inventory of the firewall allow protected and official of well-known assignments/protocol-numbers The firewall these numbers. to Follow the below to the firewall: Specify the Specify service and service TCP/UDP The and and Specify other (ICMP, OSPF, ESP, such TCP, UDP or ICMP Authentication service users and ActiveX IP options the interface such as recording, and or routing through the the XSR
XSR with Security the XSR or routing and or to the the firewall or the firewall: or interfaces or sub-interfaces the firewall, to properly The following to these firewall XSR with firewall XSR with firewall, and DHCP XSR with firewall and VPN VRRP RADIUS authentication security RPC this the XSR acts as router connecting branch office to the as illustrated The branch office and from the and internal of which protected from the the firewall. The and of the DMZ and the XSR. that commands abbreviated. This illustrated and with each other while protecting to and from the interface this the firewall the interface and Also, and ActiveX IP IP and
XSR with Firewall and firewall internal firewall internal firewall internal firewall event-threshold Allow ICMP to and EXTERNAL firewall ANY_EXTERNAL firewall ICMP1 ANY_EXTERNAL firewall ICMP2 ANY_EXTERNAL the and that and and exactly firewall ANY_EXTERNAL HTTP allow bidirectional firewall ANY_EXTERNAL SMTP allow bidirectional firewall allow bidirectional to allow to from to EXTERNAL firewall ANY_INTERNAL ANY_EXTERNAL allow the completed the firewall and the firewall firewall Complete LAN and WAN interface XSR(config-if<F1>)#interface fastethernet shutdown XSR S1 FE1 FE2 DMZ (HTTP) (SMTP) XSR
XSR with Firewall, and DHCP Security the XSR fastethernet shutdown shutdown the firewall. though and the firewall, only the following the firewall. Once connected, the firewall firewall this shown the branch office its hosts. Access to the with DSL service the FastEthernet interface/sub-interface and DHCP the FastEthernet interface. IP and NAT them. Also, and ActiveX IP IP and apply to the as outbound NAT and inbound NAT. This because the firewall to the IP used. commands abbreviated. XSR Firewall with (DSL) and DHCP the LAN interfaces, DHCP, and the firewall both LAN firewall shutdown FastEthernet2 firewall shutdown the interface with IP MTU PAP authentication, and NAT XSR(config-if<F2>)#interface FastEthernet PPPoE/NAT/Firewall FE2 FE1 XSR
XSR with and VPN assigned displayed shutdown to the interface and IP FastEthernet2.1 Specify including and SSH and DHCP service: firewall INT_NETS internal firewall MY_EXT firewall internal firewall internal the and allowing DNS, FTP, SSL, and ICMP ANY_INTERNAL and ANY_EXTERNAL write DHCP and SSH to the XSR. to connecting PC. that and and and exactly firewall P_intExtHttp ANY_INTERNAL ANY_EXTERNAL WWW allow firewall P_intExtDns ANY_INTERNAL ANY_EXTERNAL DNSUDP allow firewall P_intExtFtp ANY_INTERNAL ANY_EXTERNAL FTP allow firewall P_intExtHttps ANY_INTERNAL ANY_EXTERNAL SSL allow firewall ANY_INTERNAL SSH allow bidirectional firewall allowDHCP allow bidirectional firewall F_ECHO_RESP ANY_EXTERNAL ANY_INTERNAL ICMP firewall F_ECHO_REQ ANY_INTERNAL ANY_EXTERNAL ICMP the completed the firewall and the firewall firewall the DHCP DNS and related myDhcpPool the firewall. though and the firewall, only the following the firewall. Once connected, the firewall firewall this as VPN to the following: XSR
Security the XSR Network (NEM) and PPTP inspection the VPN interface (the crypto interface) inspection the trusted VPN interface (the to the NAT the firewall OSPF routing with the router the trusted VPN interface DF clear the VPN interface to IP OSPF routing the VPN interface other Assign the first IP of the to the VPN interface XSR Firewall, VPN and OSPF Topology XSR XP PC NEM the XSR SNTP. This which certificates. four to IP L2TP and NEM traffic: IKE Phase security with the following XSR(config)#crypto XSR(config-isakmp)#hash XSR(config)#crypto XSR(config-isakmp)#authentication IKE the XSR(config)#crypto SSR router XSR XSR FE2 FE1
the following IPSec XSR(config)#crypto XSR(cfg-crypto-tran)no security-association XSR(config)#crypto XSR(cfg-crypto-tran)set security-association the following four crypto to match and XSR(config)#crypto XSR(config-crypto-m)#match XSR(config-crypto-m)#match XSR(config)#crypto XSR(config-crypto-m)#match security-association per-host XSR(config)#crypto XSR(config-crypto-m)#match FastEthernet interface to and firewall firewall shutdown FastEthernet interface with the attached crypto XSR(config-ifF2>)#crypto shutdown the VPN interface as terminating with IP redirection back to the OSPF with and the firewall: firewall to the XSR
Security the XSR IP of to types: to the CRL Clear the DF XSR(config)#crypto clear the OSPF VPN and FastEthernet interfaces routing: XSR(config)#router XSR(config-router)#network XSR(config-router)#network NEM and users: secondary secondary DEFAULT including DNS and IP PPTP and L2TP and VPN DEFAULT secondary secondary XP users including DNS and IP PPTP and L2TP and VPN secondary secondary
the AAA shared (NEM and DEFAULT the RADIUS AAA to authenticate users: DEFAULT XSR(aaa-method-radius)#auth-port XSR(aaa-method-radius)#acct-port the as IP firewall the VPN interface (crypto firewall internal the VPN interface (traditionally the FastEthernet interface): firewall network internal three trusted the firewall trusted84 internal firewall trusted96 firewall trusted112 internal Specify trusted from NEM and firewall internal firewall internal the IP firewall internal to OSPF: firewall internal firewall internal the NetSight station: firewall internal to and trusted firewall network-group trusted84 trusted96 trusted112 firewall XSR
Security the XSR service to IPSec NAT (Release or firewall service service ISAKMP: firewall service service L2TP firewall service service RADIUS authentication: firewall service service RADIUS accounting: firewall service allowing through the VPN interface (crypto including NAT firewall allow bidirectional firewall PPTP PPTP allow bidirectional firewall allow bidirectional firewall allow bidirectional firewall allow bidirectional Allow HTTP and LDAP CRL of the VPN interface: firewall HTTP allow firewall LDAP allow RADIUS and TCP and UDP from VPN the firewall f1a trusted allow firewall f1a allow firewall ANY_TCP trusted ANY_TCP allow bidirectional firewall ANY_UDP trusted ANY_UDP allow bidirectional Allow IPSec from the the VPN interface: firewall bidirectional Allow GRE from the the VPN interface: firewall bidirectional Allow OSPF through the firewall (trusted VPN interface) to the router: firewall bidirectional firewall bidirectional firewall bidirectional ICMP to from the trusted through the VPN to the trusted and back: firewall bidirectional Allow IP the to ICMP to the VPN interface (the crypto interface): firewall
Firewall VRRP RADIUS Authentication and Accounting the firewall firewall the firewall. though and the firewall, the following the firewall. Once connected, the firewall firewall This VRRP to and FastEthernet interface. You and the VRRP It already the VR and VR within the specified IP both FastEthernet interface firewall both the IP of the firewall internal2 and specifying and and respectively. Finally, allowing VRRP to and firewall internal firewall internal firewall internal2 The following the RADIUS AAA authentication. The commands the section below RADIUS (SBR) as the RADIUS the IP and its RDIUS authentication and accounting IANA), and four services. the RADIUS with specified the and specified service, and and timeout acevpnfqwe XSR(aaa-method-radius)#client firewall XSR(aaa-method-radius)#acct-port RADIUS firewall internal internal allowing RADIUS authentication and accounting: XSR
Security Security the XSR firewall internal internal allow bidirectional firewall internal allow bidirectional This offers protection the XSR. The firewall used. FastEthernet shutdown shutdown shutdown of allowed and tcp Apply the to the interfaces that everything that fastethernet XSR(config-if<F1>)#ip access-group access-group access-group access-group security reasons, the type to ICMP/UDP/TCP/AH, ESP, and GRE To type as the access-list command, with from to The access-list command from to and IP only. ACLS to and HTTP the to the only, this type of allowed to through. tcp tcp username with encrypted (using the option) that as clear text (using the option).
RPC The following which TCP RPC-based to flow from Branch to Corporate You the bidirectional the branch to RPC-based services. firewall Branch firewall Corporate internal firewall TCPRPC firewall BtoC-TCPRPC Branch Corp allow XSR
Configuring Security the XSR
Recommended This the and memory of the XSR as as High, and severity, firewall and NAT A-14 and the router. The XSR the following These recommended hard-coded they the referenced Memory should as of memory carving. A-4 XSR Function ARP Static ARP ARP Routing Static Secondary IP IP VR VR IP UDP forwarding OSPF LSA type OSPF LSA type OSPF LSA type OSPF LSA type OSPF LSA type OSPF LSA type ACL and ASCII Table XSR A-1
Recommended A-2 and ASCII Table A-4 XSR Function SNMP read-only SNMP read-write SNMP SNMP users SNMP SNMP Interfaces RIP Sub-interfaces PBR cache Route ADSL AAA Authenticated of IKE/IPSec (non-authenticated) ISAKMP IPSec L2TP PPTP ISAKMP Crypto Firewall services service Firewall Firewall and ActiveX
and A-6 High Severity WEB to HTTP improperly WEB to HTTP improperly hear incoming WEB to HTTP improperly WEB to HTTP improperly WEB to HTTP improperly to Interface <interface interface to Interface <interface interface to A-4 XSR Function Firewall authentication Firewall FTP UDP Firewall NAT NAT one-to-one AAA users to to The XSR the following firewall and NAT A-5 to: The XSR HIGH HIGH severity MEDIUM MEDIUM and HIGH severity LOW LOW, MEDIUM, and HIGH severity DEBUG to the following High severity and reported the XSR. of the following USER_LEVEL facility those and which SECURITY_LEVEL. and XSR A-3
and A-6 High Severity T1E1 of T1/E1 physical OOF T1E1 LOF cleared. T1/E1 physical detecting OOF T1E1 Remote T1/E1 physical T1E1 cleared. T1/E1 physical SYNC_ The ISR connected to the ISR to the BSP, DRIV SYNC_ the DRIV SYNC_ Unrecoverable XSR DRIV SYNC_ OS The operating to the properly, the DRIV XSR SYNC_ found XSR found the PCI the DRIV SNMP to SNMP to SNMP to the or the SNMP to SNMP to SNMP to the locking PLATF from <reason>, <warm|cold> or the following reasons: Crash crsh CLI SNMP snmp Bootrom Software PLATF to PLATF to to to ISDN <BRI SPID BRI with North American switch type with the (CES office. ISDN <BRI BRI with North American switch type with the SME_TERM_REGISTER_ACK office ISDN <BRI Failed, BRI with North American switch type with the office and SPID Network timeout and timeout ISDN DOWN Q921 LAP-D UP operation. PRI. UP BRI or ETSI and NTT. North America and ISDN to basic-NET3 BRI, XSR to the BRI outgoing ISDN Switch BUSY %X A-4 and ASCII
A-6 High Severity ISDN Incoming <BRI Connected to Unknown ISDN North American BRI Interface SPID ISDN <BRI Connected to CALL ISDN <BRI Disconnected from CALL Unknown from office> ISDN ISDN subscribed. ISDN _FILE _LINE of memory to memory. ISDN ISDN to ISDN ISDN _FILE _LINE of memory to memory. ISDN _FILE _LINE of memory to memory. ISDN _FILE _LINE Unexpected received. ISDN Interface BRI, to to ISDN Interface BRI, to to FR from the shutdown command. FR The interface manually FR UP, DLCI The reports the FR DOWN, DLCI The reports the FR establish LMI, The You should the FR LMI DOWN The LMI reporting the Down. FR LMI UP The network reporting the FR CIR than measured CIR DISABLED ETH1_ The The FastEthernet the motherboard DRIV of and the FastEthernet started. The this FastEthernet Interface ETH1_ The TX/RX The FastEthernet the motherboard DRIV the or of and the FastEthernet started. The of this FastEthernet incoming connected disconnected within seconds. from the to the ISDN clearing, user The CIR the of the and CIR. and XSR A-5
and A-6 High Severity ETH1_ The ISR connected This internal the DRIV service (ISR) connected to the FastEthernet FastEthernet ETH1_ This internal to the to DRIV its FastEthernet ETH1_ Unrecoverable The FastEthernet the motherboard DRIV catastrophic The this FastEthernet ETH1_ OS This internal the operating DRIV of the completed, FastEthernet ETH1_ found this to the FastEthernet DRIV found the PCI (of the motherboard). this FastEthernet ETH0_ The The FastEthernet the motherboard DRIV of and the FastEthernet started. The this FastEthernet ETH0_ The ISR This internal the DRIV service (ISR) connected to the FastEthernet FastEthernet ETH0_ This internal the DRIV its FastEthernet ETH0_ OS This internal the operating DRIV of the completed, the FastEthernet interface CLI to to the CLI to to the CLI to to CLI to to CLI to CLI to CLI to CLI to to the CLI CLI released <username> CLI CLI released user unknown <username> CLI CLI released released when the finishes A-6 and ASCII Table
A-6 High Severity CLI <username> from to user ID or <IP through CLI <username> from to ID or through CLI to CLI memory this CLI <username> to from The to to <IP through and to ID IsUserAdmin(). CLI It The the CLI Could to the of Could to the of the Startup.cfg restored! CLI Could the of The of the obtained restored! CLI Could to of Startup.cfg restored! CLI Could memory of memory process. restored! CLI Could reading the process. restored! CLI encountered the specified the CLI to process. successfully! CLI to CLI process. CLI too of CLI CLI released unknown <username> CLI CLI Another and trying to <username> CLI CLI when the finishes CLI CLI released <username> CLI the when to the account. ASYNC_ The ISR connected The to the ISR to the BSP, IDRIV ASYNC_ The the IDRIV The from too to bootup. and XSR A-7
and Table A-6 High Severity ASYNC_ Unrecoverable The XSR IDRIV ASYNC_ OS The operating to the properly, the IDRIV started. ASYNC_ found The found the PCI the IDRIV started. FR incompatible LMII,, detected The FR switch LMI than that the [ANSI ITU ILMI interface. The LMI displayed. FR establish LMI, from the attached Table A-7 Severity T1E1 Not enough memory memory T1E1 HW T1E1 PCI T1E1 HW T1E1 PCI (Device/Port: T1E1 HW number/port T1E1 Not enough memory memory T1E1 HW T1E1 Not enough memory (Device/Port: memory T1E1 HW number/port T1E1 T1E1 software. number/port T1E1 Could with MIB2 to the T1E1 subsystem with SNMP/MIB2 services. number/port T1 T1E1 PCI T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW A-8 and ASCII to the below severity and reported the XSR. of the following USER_LEVEL facility those text which SECURITY_LEVEL.
Table A-7 Severity (continued) T1 ERROR: Shared memory memory T1E1 HW T1 T1E1 PCI Failed. T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW T1 ERROR: Shared memory memory T1E1 HW SNTP SNTP receive-timeout. to from the second. SNMP SNMP auth from SNMP with community The <community> community with of characters displayed. SNMP SNMP <trapType> to SNMP to there <IP to the SNMP SNMP CLI SNMP SNMP and to SNMP CLI released SNMP SNMP finished SNMP SNMP <trapType> to Too causing the SNMP to overflow overflow. the item the SNMP SNMP SNMP the SNMP SNMP <trapType> when to SNMP to the The of trying to unknown the unknown. SNMP SNMP <trapType> to SNMP to the there to the SNMP PPP PPP CHAP authentication while PPP CHAP authentication while authenticating the authenticating to the PPP PPP CHAP authentication while PPP CHAP authentication while authenticated the authenticated PPP PPP CHAP authentication while PPP CHAP authentication while authenticating the authenticating PPP PPP CHAP authentication while PPP CHAP authentication while authenticated authenticated the PPP PPP MS-CHAP authentication while PPP MS-CHAP authentication while authenticating the authenticating to the and XSR A-9
and Table A-7 Severity PPP PPP MS-CHAP authentication while PPP MS-CHAP authentication while authenticated authenticated the PPP PPP MS-CHAP authentication while authenticating PPP PPP MS-CHAP authentication PPP MS-CHAP authentication while authenticated while authenticated the PPP PPP PAP authentication while PPP PAP authentication while authenticating the authenticating PPP PPP PAP authentication while PPP PAP authentication while authenticated the authenticated PPP PPP PAP authentication while PPP PAP authentication while authenticating authenticating PPP PPP PAP authentication while PPP PAP authentication while authenticated authenticated PPP Interface <interface interface to PPP Interface <interface interface to PLATF to to to to received ISDN Incoming <BRI Connected to ISDN <BRI Connected to ISDN <BRI Disconnected from from CO> FR CIR than measured CIR ENABLED ETH0_ PHY operation time-out The PHY the FastEthernet (other than DRIV while functionality or affected: the its functionality The of this HW ETH0_ PHY The PHY the FastEthernet (other than DRIV while functionality or affected: the its functionality The of this HW ETH0_ PHY write operation time-out The PHY the FastEthernet interface timed-out while DRIV write this functionality or affected. The its functionality The of this HW A-10 and ASCII Table PPP MS-CHAP authentication while authenticating the The incoming connected to the shown disconnected to ISDN clearing, user The disconnected, to the ISDN clearing, CIR within of the measured CIR
Table A-7 Severity ETH0_ PHY write operation The PHY the FastEthernet interface (other DRIV than while write this functionality or affected. The its functionality The of this HW DIAL of the of the physical connected to the DIAL responding The connected or DIAL init The the You should the DIAL intf The DIAL tone There tone the PSTN DIAL intf The the the DIAL The DIAL intf#s The phone the PSTN. DIAL of the from the phone to the DIAL closed intf The phone DIAL The built phone with the CLI to created this CLI from process. This from the FR from shutdown FR Shutdown command FR DLCI FR unknown LMI the LMI FR The to ARP from FR based CIR,BC,BE than A-8 Severity T1E1 of Indicates that T1/E1 physical detecting LOS T1E1 LOS cleared. Indicates that T1/E1 physical LOS to the below severity and reported the XSR. of the following USER_LEVEL facility those text which SECURITY_LEVEL. and XSR A-11
and A-8 Severity T1E1 Remote Indication Indicates that T1/E1 physical RAI T1E1 RAI cleared. Indicates that T1/E1 physical RAI T1E1 Indication Indicates that T1/E1 physical detecting AIS T1E1 AIS cleared. Indicates that T1/E1 physical detecting AIS T1 Cablelength to T1 Cablelength to T1 to T1 to T1 abort to T1 Clear counter to T1 to T1 to T1 to T1 interface Interface T1 interface Interface executed. T1 Clock to T1 CRC command to T1 FDL to T1 command to T1 Invert command to T1 to T1 Loopback Loopback command to T1 Loopback Loopback command to T1 to T1 to T1 to T1 Stop command to T1 to T1 T1E1 T1 T1E1 executed. SYNC_ Recoverable XSR recoverable DRIV A-12 and ASCII Table
A-8 Severity SYNC_ (RX of to RX FIFO DRIV PP of memory the specified from memory. PLATF system-shutdown' SNMP SNMP allow FR DLCI ETH1_ Recoverable FastEthernet (of the interface) DRIV recoverable The interface already corrected the ETH1_ (RX of this interface to RX DRIV FIFO This once. ETH0_ Recoverable FastEthernet (of the interface) DRIV recoverable The interface already corrected the ETH0_ (RX of this interface to RX DRIV FIFO exceeding This once only. CLI from <IP Timeout to timeout ASYNC_ Recoverable The recoverable IDRIV ASYNC_ (RX of to RX FIFO IDRIV FR DLCI UNI-DCE announced DLCI as active active LMI the XSR. The DLCI should required. FR The of the FRF.12 DLCI FRF.12 received. the XSR locally to FRF.12 FR clock clock that too and the interface operationally the clock reappears. If this to the attached or the service FR clock recovered clock and the interface operationally LMI should shortly thereafter and DLCIS to traffic. SERIAL DSR CTS (MUX_DOWN) EIA which interface This to the high severity Interface <interface to SERIAL DSR/CTS (MUX_DOWN) EIA which interface This to the high severity Interface <interface to and XSR A-13
Firewall and NAT and Reports Table A-8 Severity (continued) SERIAL DSR CTS (MUX_UP) EIA which interface This to the high severity Interface <interface to SERIAL DSR/CTS (MUX_UP) EIA which interface This additional to the high severity Interface <interface to FR DLCI FR switch reports that the DLCI active the active LMI the interface. FR DLCI Firewall and NAT and Reports A-14 and ASCII Table The XSR reports firewall and NAT functionality as below. classified or while classified The text as follows: %CMD ACTIVEX, JAVA or CLS commands %IP1 Source IP %IP2 Source IP Destination IP %IP_P2 Source IP and ->Destination IP and %IP_TC Source IP with type type %IP2_ICMP Source IP Destination IP with type and type %IP2_X Source IP Destination IP with %POL of the firewall that this that allow TCP, or UDP Table A-9 Firewall and NAT Severity Text EMERG NAT to freeAddrTransEntry() EMERG to memory NAT cache ALERT DHCP IP NAT: %IP1 ALERT DHCP IP NAT: %IP1 ALERT DHCP router's IP %IP1 ALERT NAT: to NAT GRE %IP2 ALERT NAT: to NAT, %IP_P2 CRIT reading NAT ERROR NAT: NAT found, %IP_P2
Table A-9 and NAT Severity Text ERROR NAT: NAT found, %IP_P2 ERROR NAT: TCP NAT %IP_P2 ERROR UDP: NAT to %IP_P2 WARNING NAT WARNING NAT: TCP closed, NAT WARNING NAT Entry NOTICE NAT: to ARP to %IP1 NOTICE NAT: to ARP to router %IP1 EMERG to memory EMERG to memory auth EMERG to memory cache EMERG to memory FTP EMERG to memory UDP EMERG to memory EMERG to EMERG to FloodCheck ALERT TCP SYN %IP_P2 ALERT TCP SYN+ACK %IP_P2 ALERT Empty IP ALERT ALERT FTP PORT Command IP %IP2 ALERT reading ActiveX ALERT IP offset the IP ALERT IP with offset ALERT IP reached ALERT exhausted ALERT TCP: Detected %IP_P2 ALERT TCP: Detected SYN %IP_P2 ALERT TCP: Duplicated %IP_P2 ALERT TCP: already %IP_P2 ALERT offset ALERT UDP constructed than specified UDP header ALERT UDP constructed than specified the UDP header ALERT UDP: Duplicated %IP_P2 and NAT and Reports XSR A-15
and NAT and Reports A-16 and ASCII Table A-9 and NAT Severity Text ALERT UDP: Detected UDP %IP_P2 ALERT UDP: Duplicated %IP_P2 CRIT reading ATE SR CRIT reading CRIT reading selective IP ActiveX CRIT reading selective IP CRIT reading translation CRIT to memory IP ActiveX CRIT to memory IP CRIT to memory CRIT to memory CLS Commands CRIT to memory CLS commands CRIT to memory CLS CRIT to memory CRIT to memory CRIT to memory CRIT to memory CRIT to memory CRIT to memory CRIT to memory CRIT to memory security CRIT to memory service CRIT to memory service ERROR UDP %IP_P2 ERROR Authentication cache overflowed ERROR Could ERROR ActiveX %CMD, %IP2 ERROR FTP PORT %IP_P2 ERROR GRE %IP2 ERROR ICMP %IP2 ERROR ICMP %IP2_X ERROR ICMP too %IP_TC ERROR ICMP with %IP_TC ERROR ICMP ICMP %IP2_ICMP
A-9 Firewall and NAT Severity Text ERROR ICMP %IP2_ICMP ERROR %CMD, %IP_P2 ERROR %s, %IP_2 ERROR ICMP, %IP_2 ERROR matching %IP2_ICMP ERROR OSPF %IP2 ERROR TCP Christmas Tree %IP_P2 ERROR TCP SYN+ACK ERROR TCP SYN+ACK without SYN %IP_P2 ERROR TCP ACK %IP_P2 ERROR TCP Con_Req %IP_P2 ERROR TCP IP_P2 ERROR TCP IN Con_Req SYN %IP_P2 ERROR TCP %IP_P2 ERROR TCP Un-Auth %IP_P2 ERROR TCP, %IP_P2 ERROR UDP %IP_P2 ERROR UDP, %IP_P2 ERROR UDP, %IP_P2 ERROR to memory ERROR to protected ERROR ICMP %IP_P2 ERROR of inactive to ERROR to memory ERROR to memory authentication ERROR ERROR IP cache purged ERROR IP header match, %IP_P2 ERROR with ERROR without the ERROR TCP header match, %IP_P2 ERROR TCP: ACK the TCP three-way ERROR TCP: Detected guessing. %IP_P2 ERROR TCP: allowed inbound from %IP_P2 Firewall and NAT and Reports XSR A-17
Firewall and NAT and Reports A-18 and ASCII Table A-9 and NAT Severity Text ERROR TCP: Non-empty ACK TCP three-way %IP_P2 ERROR TCP: RST indicating non-existing service %IP_P2 ERROR UDP: allowed inbound from %IP_P2 ERROR UDP: Entry ERROR Unsupported ICMP %IP2_ICMP WARNING purged %IP_P2 WARNING FTP Entry WARNING FTP PORT command, %IP_P2 WARNING WARNING CLS FTP command: %CMD %IP_P2 WARNING CLS HTTP command: %CMD %IP_P2 WARNING CLS HTTP stray %IP_P2 WARNING CLS SMTP command: %CMD %IP_P2 WARNING CLS stray SMTP %IP_P2 WARNING Could TCP H.323 %IP_P2 WARNING Authentication %IP2 WARNING FTP free NAT FTP WARNING FTP WARNING IP cache WARNING TCP, %POL, %IP_P2 WARNING UDP, %POL, %IP_P2 WARNING ActiveX %CMD, %IP_P2 WARNING Allow-log %POL, %IP_P2 WARNING EGP %IP2 WARNING GRE %IP2 WARNING ICMP %IP2_ICMP WARNING IGMP %IP2 WARNING IGRP %IP2 WARNING %CMD, %IP_P2 WARNING OSPF %IP2 WARNING TCP BGP %IP2 WARNING TCP %IP_P2 WARNING TCP %IP_P2 WARNING UDP %IP_P2
ASCII Character Table A-9 Firewall and NAT (continued) Severity Text WARNING TCP closed %IP_P2 WARNING TCP %IP_P2 WARNING TCP WARNING UDP: found UDP cache WARNING UDP: %IP_P2 WARNING UDP: BOOTP WARNING UDP: expected), %IP2 WARNING UDP: expected), %IP2 WARNING UDP: %IP_P2 WARNING UDP: %IP_P2 WARNING to Watch WARNING from Attack Watch WARNING to WARNING from INFO ECHO from %IP1 INFO UDP: %IP_P2 The following displays ASCII characters referencing SNMP found A-17 ASCII Character Table C ASCII Character Table XSR A-19
ASCII Character A-20 and ASCII Table
Service Reporting MIB This and SNMP and the following and MIBS: Service Reporting MIB B-1) BGP MIB B-5) MIB B-9) VPN MIB B-12 ipCidrRouteTable Static B-18) MIB B-18 MIB B-19) MIB B-20) SNMP MIB B-21) MIB B-22) The XSR the following SLR whose the following Each service the MIB the This and their type the below. XSR SNMP and Associated XSR B-1
Service Reporting MIB B-2 XSR SNMP and Associated Table B-10 RoundTripPacketLost Network RoundTripPacketLossAverage RoundTripDelay Network RoundTripDelayAverage RoundTripIpdv creating and activating SLA previously the Service Table which owner's information. The MIB that there should least the the specify the IP or SMS the the other the though. this SNMP as as the CLI command. You the of the to CreateAndWait You the and the becomes active. once there which to owner, the the bounded owner. Also, the the The of the active and B-11 active This of Service History It and the allocated the CLI command. You the history to this Table B-12
Table B-13 CLI ip-icmp-one-way- to packet-loss etsysSrvcLvlNetMeasureMetrics Not network etsysSrvcLvlNetMeasureBeginTime Seconds to that the as the fractional of the Units Not to etsysSrvcLvlNetMeasureHistorySize buckets-of-history-kept to etsysSrvcLvlAggrMeasureHistorySize Not Not etsysSrvcLvlNetMeasureSrcTypeP ip.icmp Not type ip.icmp Not type Not etsysSrvcLvlNetMeasureTxPacketRateUnit Not etsysSrvcLvlNetMeasureTxPacketRate 1(second) than timeout Not Not (milliseconds) timeout Timeout shorter than etsysSrvcLvlNetMeasureL3PacketSize Not the Table B-12 RFC-1305 what measured) the Service Network Table Each with and the Once the becomes active, this the back to notInService the and and the back to active. This the SLA to the This with the CLI operates. Service Reporting MIB XSR B-3
Service Reporting MIB Table B-13 CLI Network city to Not of this Not the operState the Table B-14 CLI ip-icmp-one-way- packet-loss- etsysSrvcLvlAggrMeasureMetrics 00:00:00:00:2C Seconds to etsysSrvcLvlNetMeasureBeginTime Not etsysSrvcLvlAggrMeasureDurationUnit Not to etsysSrvcLvlAggrMeasureHistorySize buckets-of-history-kept to etsysSrvcLvlNetMeasureHistorySize. Not etsysSrvcLvlAggrMeasureHistoryOwner Can etsysSrvcLvlNetMeasurOwner of the B-4 XSR SNMP and Associated the Service Table of the with the and the created the field of the to CreateAndWait Once the becomes active, field with the following the to which these associated and associated history. the to notInService back to notInService the etsysSrvcLvlAggrMeasureDuration, the back to active. This the SLA to the This with the CLI command operates. to
Table B-14 CLI command etsysSrvcLvlAggrMeasureHistoryOwnerIndex (Whatever shown the easureTable the etsysSrvcLvlAggrMeasureHistoryMetric Not etsysSrvcLvlAggrMeasureAdminState Stop that this the If become active, the from active to notInService, the Stop Network city to active Once active, the or the to notInService BGP MIB Table B-15 CLI Command The of BGP numbers. Each the from this the within this bgpLocalAs The from to The BGP of BGP Table B-16 BGP Table The BGP of this entry's BGP The BGP including: active(3), openconfirm(5), or established(6) The XSR the following BGP whose the following Table Path Attribute Table Can of the BGP MIB XSR B-5
BGP MIB B-16 BGP Table The of the BGP from to the BGP to from to the BGP Stop to This to BGP write to this without authentication. bgpPeerNegotiatedVersion The of BGP bgpPeerLocalAddr The IP of this BGP bgpPeerLocalPort The the TCP the BGP from to This field The IP of this entry's BGP The the TCP BGP from to that bgpPeerLocalAddr, bgpPeerLocalPort, and bgpPeerRemotePort the reference to the MIB TCP This field bgpPeerRemoteAs The The of BGP UPDATE this This should to when the established. The of BGP UPDATE transmitted this This should to when the established. The of from the this This should to when the established. The of transmitted to the this This should to when the established. The and this this If occurred, this field the first of this OCTET STRING the and the the bgpPeerFsmEstablishedTransitions The of the BGP FSM transitioned the established bgpPeerFsmEstablishedTime This the seconds this the Established or this the Established It to when or the router booted. bgpPeerConnectRetryInterval The the ConnectRetry to seconds. The this seconds. The the established with the from to seconds. The this this BGP the of the bgpPeerHoldTimeConfigured and the the OPEN This least three seconds which the established with the or the of bgpPeerHoldTimeConfigured This field only. B-6 XSR SNMP and Associated
Table B-16 BGP the established with the seconds. The this BGP such that, when with the as bgpPeerKeepAliveConfigured when with bgpPeerHoldTimeConfigured If the of this that the established with the or, the of bgpPeerKeepAliveConfigured bgpPeerHoldTimeConfigured NOTE: the of from the CLI, this disallowed. read-only tried. The the this BGP with this from to seconds. This OPEN to this this BGP and with the field OPEN received from the when the with the This than three seconds which the established with the this seconds. bgpPeerKeepAliveConfigured The the this BGP with this from seconds. This the KEEPALIVE relative to the specified bgpPeerHoldTimeConfigured. The the KEEPALIVE indicated reasonable this would one-third of bgpPeerHoldTimeConfigured If the of this KEEPALIVE to the the BGP established. seconds. bgpPeerMinASOriginationInterval The the MinASOriginationInterval from to seconds. seconds. The from to seconds. The seconds. seconds the BGP UPDATE from the incremented the of this to BGP-4 Path Attribute Table Table B-17 BGP-4 Path Attribute Table bgp4PathAttrPeer The IP of the where the information learned. bgp4PathAttrIpAddrPrefixLen of the IP the Network Reachability Information field. bgp4PathAttrIpAddrPrefix IP the Network Reachability Information field. This IP containing the with specified bgp4PathAttrIpAddrPrefixLen the specified bgp4PathAttrIpAddrPrefixLen bgp4PathAttrOrigin The of the information: learned EGP, BGP MIB XSR B-7
BGP MIB B-17 BGP-4 Path Attribute bgp4PathAttrASPathSegment The of AS Each AS <type, length, The type field which AS_SET: of the UPDATE AS_SEQUENCE: of the UPDATE traversed. The field containing the of the field. The field or AS numbers. Each AS the as of to the following first-byte-of-pair second-byte-of-pair bgp4PathAttrNextHop The of the router that should the bgp4PathAttrMultiExitDisc This to AS, from to of the of this bgp4PathAttrLocalPref The BGP4 of from to of the of this bgp4PathAttrAtomicAggregate Whether or the selected without selecting The AS of the BGP4 that from of the of this bgp4PathAttrAggregatorAddr The IP of the BGP4 that of the of this bgp4PathAttrCalcLocalPref The of the BGP4 from to of the of this bgp4PathAttrBest of whether or this chosen as the BGP4 bgp4PathAttrUnknown One or this BGP4 the of such attribute(s). Octets the recorded this BGP-4 Table B-18 BGP-4 bgpEstablished The BGP Established when the BGP FSM the ESTABLISHED bgpBackwardTransition The BGPBackwardTransition when the BGP FSM from higher to B-8 XSR SNMP and Associated
Firewall MIB Interface Operations Table B-19 The of the firewall when this read. The than the the other than this MIB. This read-write field. the to the firewall to inspecting while to the firewall to inspecting The of the TCP interfaces) from the firewall read. operation, the of the TCP interfaces) updated the firewall The of the UDP interfaces) from the firewall read. operation, the of the UDP interfaces) updated the firewall The of the ICMP interfaces) from the firewall read. operation, the of the ICMP interfaces) the firewall etsysFWAuthTimeout The of the Auth interfaces) from the firewall read. operation, the of the Auth interfaces) updated the firewall The of the Auth interfaces) from the firewall read. operation, the of the Auth interfaces) the firewall The of the Threshold interfaces) from the firewall read. operation, the of the Threshold interfaces) updated the firewall There the firewall and four the XSR. the High XSR threshold, and and The firewall MIB the following of which this section: Interface Group, Interface to Group, Definition, Authentication Group, Network Network Group, Network Group, Compound IP IP IP Auth Group, and DOS Group. items interfaces the XSR. each of these operations, created to the firewall when the SNMP/FW the type of operation. This the of each of the interface operations. The XSR only SNMP these The following action the firewall MIB XSR B-9
Firewall MIB Table Counters Table B-20 Table The of the etsysFWPolicyRuleTrueLastChange The and when the Table Table B-21 The of this to the the XSR The and when the Counters B-22 The of the IP etsysFWSessionTotalsLastChange The when the to the Table Table B-23 Table this The of active this The of this the of the XSR. etsysFWSessTotBlockedSessions The of that the of the XSR. The and of the this B-10 XSR SNMP and Associated This section counters and statistics that to SNMP from the firewall. read-only and The XSR SNMP these These counters the of These counters the of hits summary about the of the
IP Counters B-24 IP The of the IP The and of the to the IP IP Table Table B-25 IP Table The this The that the and of the and The IP of this The IP of this The this The this The ID of this as the IANA. etsysFWIpSessionCreation The and this created. Authenticated Counters Table B-26 Authenticated etsysFWAuthAddressNumEntries The of the authenticated etsysFWAuthAddressLastChange The and of the the authenticated Authenticated Table B-27 Authenticated The of this These counters the of IP This information about each active IP This summary of the authentication activity. This information about each authenticated Firewall MIB XSR B-11
VPN MIB Table B-27 Authenticated Table etsysFWAuthAddressIPVersion This entrys IP which the and of the IP The authenticated IP etsysFWAuthAddressGroupName The authentication to which this authenticated The seconds that this DOS Counters Table B-28 DOS The of the DOS The and of the to the DOS DOS Table B-29 DOS Table The of this of DOS The IP the and of the IP The IP which this The and of the The of this DOS the of the XSR. VPN MIB B-12 XSR SNMP and Associated These the DOS the firewall. These the hits DOS the firewall. The XSR the following VPN whose the following etsysVpnIntfPolicyTable
rip2IfConfTable ipCidrRouteTable Static This to IKE and the associated of that The B-30 This with the XSR, this currently to only. Since type this IP type this IP and to other to other to other to other active(1), and to This IKE the with IKE the The XSR of three and or only. that the higher created, that then and created. Also, the the created this The etsysVpnIkePeerPropPriority B-31 etsysVpnIkePeerPropPriority the XSR B-13 VPN MIB
VPN MIB Table Table B-14 XSR SNMP and Associated Table B-31 (continued) from the This to the active(1) and You this to the first. This the IKE IKE The to the crypto CLI command. The which the referenced the Table B-32 The of the etsysVpnIkePropEncryptAlgorithm and to other and to other and to other etsysVpnIkePropAuthMethod preSharedKey(1) and to other etsysVpnIkePropMaxLifetimeSecs to other the CLI allow this to the XSR this as read-only. active(1), and to This read-only the IPSec the XSR. This includes those other than this MIB or CLI (that The These as when applying to interface. Table B-33 The of IPSec This IPSec to interface. The {ifIndex} from the
Table B-34 etsysVpnIntfPolicyTable The of IPSec to other to other etsysVpnIntfPolicyRowStatus active(1) and This the IPSec The etsysVpnPolRulePriority B-35 etsysVpnIpsecPolRulePriority The of the to the from the CLI commands. This with the XSR, this only to to other Since the type this IP to other to other and to other etsysVpnIpsecPolRuleSelectorId On the XSR, this ASCII representing group, to other etsysVpnIpsecPolRuleRowStatus active(1), and to This IPSec the with IPSec the The XSR of and or only. that the higher created; that then through created. Also, that the the created this The etsysVpnIpsecPolRulePriority etsysVpnIpsecPolPropPriority B-36 etsysVpnIpsecPolPropPriority the from the This to the etsysVpnIpsecPolPropRowStatus active(1) and This to the first. XSR B-15 VPN MIB
VPN MIB B-16 XSR SNMP and Associated This the IPSec The Table B-37 The of IPSec seconds with of to other Since the CLI allow this to the XSR this as read-only. etsysVpnIpsecPropRowStatus active(1), and to This from the and The The read-only XSR Table B-38 and the XSR software This to the The the AH or ESP created when this created. The etsysVpnIpsecPropTranRowStatus active(1) and This to the first. This the AH created AH to the The read-only XSR The Table B-39 The of AH etsysVpnAhTranAlgorithm and This the created the creation of the etsysVpnAhTranMaxLifetimeSec This read-only the XSR as the
Table B-39 This read-only the XSR. etsysVpnAhTranRowStatus to active(1). The the the This the ESP created ESP to the The read-only XSR The Table B-40 The of ESP and which the created the creation of the etsysVpnEspTranCipherKeyLength read-only the XSR. etsysVpnEspTranCipherRounds read-only the XSR. This read-only the XSR as the This read-only the XSR. to active(1). The the the This empty. XSR B-17 VPN MIB
ipCidrRouteTable Static ipCidrRouteTable Static B-41 ipCidrRouteTable ipCidrRouteDest the IP the This read-only as of the when the created. ipCidrRouteMask the IP the specified This read-only as of the when the created. ipCidrRouteTos the TOS the This read-only as of the when the created. ipCidrRouteNextHop the IP of the this This read-only as of the when the created. ipCidrRouteIfIndex the the interface through which the should reached. ipCidrRouteType the type of including or ipCidrRouteMetric1 the routing this The XSR of as the ipCidrRouteStatus the RowStatus this to including: active or The XSR reports of active and notReady MIB Table B-42 MIB The amount of physical read-write memory RAM the host. RAM. This useful of memory and of Also, performance tracking memory, or hrDeviceTable the This the CLI command. hrProcessorTable the to This the CLI command. B-18 XSR SNMP and Associated VPN the XSR to the Static with the IP MIB (RFC-2096). This MIB currently the XSR, although the recommended The MIB and the MIB-II ipRouteTable Static the IP MIB ipCidrRouteTable The of the TOS, and The following from the to The XSR the following the MIB, RFC-2790.
MIB B-43 resetHardware(0) Initiates resetSoftware(1) Initiates software imageDownload(2) Initiates using the least to the specified The downloaded the currently active to the specified configurationDownload(6) Initiates the least to the specified The imageGetSelected(8) The selected as the The URL of the memory. The URL of the memory. The of of of the The of the XSR the of currently the etsysConfigMgmtChangeCompleted of that completed or otherwise. This should memory. The the XSR These the and etsysConfigMgmtChangeSupportedOperations operations the XSR: etsysConfigMgmtChangeOperation and resetSoftware imageDownload configurationDownload imageGetSelected and [The specified the to the active and becomes the If the the the becomes the The MIB SNMP to the entity, and and and the active and that specified to the the following MIB XSR B-19
MIB B-43 (continued) The numerically lowest within the XSR, which the of the creation of the sysConfigMgmtPersistentStorageChSum The MD5 of the of the following this field: Initially when the the MD5 those and them this field, then this field updated to the of those MIB B-44 MIB The of or etsysConfigChangeNonVolatileTime The and of the or etsysConfigChangeNonVolatileMethod The to the That SNMP, TELNET, and CLI. If the or IP they should included this <TELNET: etsysConfigChangeVolatileCount of or The and of the or etsysConfigChangeVolatileMethod The to the SNMP, TELNET, LM, CLI. If the or IP they should included this <TELNET: etsysConfigChangeFirmware etsysConfigChangeFirmwareCount The of firmware downloads: etsysConfigChangeFirmwareTime The and of the The that to the firmware SNMP, TELNET, LM, CLI. If the or the IP they included this <TELNET: JohnJones> Conformance Information of etsysConfigChangeVolatileGroup of B-20 XSR SNMP and Associated The MIB SNMP to and when occurred. to the the following
Table B-44 MIB etsysConfigChangeFirmwareGroup of etsysConfigChangeCompliance The SNMP MIB Table B-45 this to snmpNormalSave(1) the XSR to what SNMP that each SNMP of to as of the operation. this to SNMP of to memory the explicitly to memory, through the CLI or etsysSnmpPersistenceWrite to this to SNMP of to memory Once these the to memory. this to that that leads to On SNMP operation this the of operation. this to the memory to written to memory and become the This that of another interface's active to become of the through SNMP become of the and when another interface the to this to while the of the NOT MAY to this to while the of the leads to this to succeeds and On SNMP operation this to of the snmpSetSerialNo the to their of this etsysSnmpPersistenceStatus of the when NOT to snmpNormalSave(1) other, saveSucceeded, of when updated. If etsysSnmpPersistenceStatus updated the to write to The and when the updated. If the '0000000000000000'H This MIB to SNMP information to SNMP MIB XSR B-21
MIB B-45 (continued) of of otherwise SNMP etsysSnmpPersistenceCompliance The that of otherwise SNMP MIB Table B-46 MIB The of to the of the software processing. The of to to the downstream of the software The of the or otherwise, to to the downstream of the software. of to the of the to to Table The of allowed the The of currently the The numerically lowest within this entity, which the of creating the the from to and to existing the within this entity. of that the currently This should only creation of there to based this Table to to or Table with of read-create MUST and MUST this Administratively assigned of this B-22 XSR SNMP and Associated This MIB of the SNMP the OID of Syslog-compatible the XSR.
Table B-46 MIB The type of which the specified The the The UDP the to to this facility to to this severity of that should to the The higher the the the severity. count of to this the severity of the the higher the the the severity. Allows the creation and of within the as as activation/deactivation of these this to notInService(2) this of its counters incremented. UDP that the to This as the when creating the and specified or implemented read-only. The facility to This as the when creating the and specified or implemented read-only. severity to This as the when creating the and specified or read-only. The higher the severity the Units of Conformance of statistics: MIB XSR B-23
MIB Table B-46 MIB of of to: of the that optionally with or Compliance The that to that BOTH AND choose to of the which to should that the UDP that the facility that the severity that the UDP or to that the facility or to that the facility or to etsysSyslogApplicationAllowedServers that the facility or of allowable B-24 XSR SNMP and Associated