and High T1 and E1 Interface from Emerson Network Computing
The information this and to and HOWEVER, NO RESPONSIBILITY IS ASSUMED BY EMERSON NETWORK POWER, EMBEDDED COMPUTING FOR ITS USE OR FOR ANY INACCURACIES. Specifications to without EMERSON DOES NOT ASSUME ANY LIABILITY ARISING OUT OF USE OR OTHER APPLICATION OF ANY PRODUCT, CIRCUIT, OR PROGRAM DESCRIBED HEREIN. This Emerson or the rights of others. Emerson. It and Business-Critical Continuity, Emerson and the Emerson Network and service of Emerson Network Inc. Emerson Network Inc. Revision Changes: release March 5-of6 ECR000272 March Artwork Copyright Emerson Network Inc. rights
Agency Notices or to the and without the of Emerson Network the authority to this where the and without front or where the front chassis/enclosure the interference (EMI) shielding to EMC The Emerson and the forth the cations Commission (FCC) of the of Regulations. The following information as this agency. This with of the FCC to the following This interference, and this interference received, including interference that operation. FCC RULES AND REGULATIONS PART This tested and found to comply with the Class to of the FCC These to reason- protection interference when the operated This and and, and with the instructions, ference to Operation of this to interference, which the user to the his EMC COMPLIANCE The (EMC) and that includes front assembly from Emerson Network FCC RULES AND REGULATIONS PART This with of the FCC There the and that the FCC If this information to the and
Agency Notices Facility Interface FIC Service (FIC): (SOC): and 04DU9.BN Combinations of protection to service. protection and protection including within the or of and This board to connected to the telephone or which This company-provided service. to Party Service to If this to the telephone the telephone that temporary of service required. If the the as as Also, of right to with the FCC necessary. The its operations, or cedures that the operation of the If this the to the to service. It recommended that the AC the AC outlet to which this connected. This to the caused and other The following each Facility Interface (FIC) with the Service (SOC) and type the and AMI Format (SF) without 04DU9.DN SF and B8ZF without 04DU9.1KN AMI ESF without 04DU9.1SN AMI ESF and B8ZS without The following information and instructions to the The mounting of the and the assembly that the and isolated from to within the assembly. and of and cords provided. The from the and to the that other that specifically allowed the such as PR and PC leads. PC board carrying and leads to breakdown. 6.0N RJ48C
Agency Notices should to such themselves, should the inspection authority, or as Information as to the the and the If the assembly, and readily the of the the of each and therein. The the instructions, Network Con- nection Information. INDUSTRY CANADA RULES AND REGULATIONS CS03 NOTICE: The This that the telecommunications protective, and as the Technical The the ate to the this users should that to to the of the telecommunications The using of The should that with the of service ations. Repairs to should coordinated the repairs or the to this or malfunctions, the telecommunications to the user to the should their protection that the ground of the telephone and internal nected together. This areas. The (telephone type) this CA48C. and
Agency Notices Emerson Network Computing Address: Wisconsin that the following with the of 2004/108/EEC, EMC Directive and 1999/5/EC, RTTE Directive and their Product: PMC and and to the following specifications: EN55022:1998 Information characteristics, and of EN55024:1998 Information Immunity characteristics, and of EN300386 V.1.3.1 and (ERM); Telecommunication EMC that the to comply with the sections of the referenced specifications. This with the health and of the EMC Directive and RTTE Directive. that the products and the technical and EC Declaration of Conformity According to EN
Physical Memory and Top and and Product ID BDM TDM and FDL Connectivity MDI Interface I/O Connectors, P1 and P2 I/O Assembly (C308A009-05). PMC Interface Connectors (P11, P12, P14). and
and
Table Summary Table MTBF Hours Table Agency T1. Table Agency E1. Table Technical References Table Table Table MPC860P MPC860P MPC860P MPC860P Table MPC860P SIU Table MPC860P and C BDM Assignments I2C EEPROM I2C EEPROM Memory Table RAM Acess Table MPC860P CPM CPM Table RISC Processing Priority. Table Rates (16X Table Synchronous Rates Table P14, P0, P2 Assignments TDM to T1E1 TDMB (P1). Table T1E1 from P1 TDM to T1E1 TDMA (P2) Table T1E1 from P2 Table FDL QUICC Assignments Table MDI Table MDI Format Compu-Shield to RJ45 Assignments Table PCI Table Table Shared PCI9060ES PCI Table PCI9060ES PCI9060ES Shared PCI9060ES Priority Table Access and
and Table Connector P11 and P12 Assignments. NVRAM Table Download Format NVRAM PASS/FAIL Table PLX Mailbox and Table and Screen Table Vectors Table Function Command. NVOP
(BCR), and
and
I/O: The and EIA-232 I/O with If the E1 the tory to EIA-422 PCI The PLX PCI9060ES the Peripheral (PCI) The and appear as peripheral to PCI. The and PMC to high-speed T1 and E1 interfaces baseboards. The based the MPC860P and the PLX PCI9060ES interface The T1 and the E1 optional EIA-422 COMPONENTS AND FEATURES The following summary of the and and CPU: The CPU the and the MPC860P Chapter features. RAM: The and with of DRAM. Flash: The and PLCC with flash ity. T1E1: The factory to the T1 the DS2151Q The factory to the E1 using the DS2153Q FUNCTIONAL OVERVIEW The following functional the and and Section
Physical Memory and PHYSICAL MEMORY MAP The physical memory of the and Information of the memory found sections of this Table of these
Physical Memory Physical Memory and
Additional Information Table Summary MTBF and Physical Access FFF0,0000 Flash/ROM FF00,0000 R/W CPU C101,0000 C100,0000 R/W PMC/PCI Interface C000,0200 C000,0180 C000,0080 C000,000C C000,0000 R/W PCI I/O R/W PCI Memory C101,0000 R/W DRAM ADDITIONAL INFORMATION This section the and and the terminology and this It technical Mean (MTBF) the following Product Product The and tested to with immunity, and as the (FCC), (UL), and others. The following this
Additional Information Table Agency T1 Table Agency E1 Specification: UL60950-1, CSA C22.2 Edition of Information including (BI-National) FCC of Regulations, Devices EMC FCC Class of Regulations, Devices Specification: IEC60950/EN60950 of Information CTR012 Telecommunications; Network technical leased EMC EN55022 Information Characteristics, and of Emerson reports that information the and testing. Unshielded I/O screws, or grounded chassis the and to comply with of the stated specifications. The UL of Emersons UL To the search the directory Emersons UL E190079. There products distributed the United States, as as products shipped to Can- To the and search the where with each of the board. IEC CB IEC country IC CS03 Radiated and Conducted ICES Class Radiated and Conducted CTR013 Telecommunications Network technical structured, leased EN55024 Information Immunity Characteristics, and of ETSI EN300386 and (ERM), Telecommunication Network (EMC) and
Additional Information Active active indicated with the Throughout this to to and to to and with shown with Table Technical References and The and with the Unions (Restriction of of created to to the and health restricting the of and Effective July restricts the of mercury (VI)), polybrominated biphenyls polybrominated ethers and that 5-of-6 built with tin-lead the lead-in-solder To of conformity (CoC) the and to or the number(s) C000####-##) when contacting Emerson. Terminology and Notation PLD: This the PLD as known as FPGA, CPLD, EPLD, Technical References Further information basic and of the and found the following Interface: T1/E1 DS2153Q, E1 Chip REV: CPU MPC860P Technical Summary DS2151Q, T1 Chip REV: Application DS2151, DS2153 and
Additional Information Interface: EEPROM CAT93C86 C) Microwire EEPROM (Catalyst Inc.., O, PCI PCI Specification (PCI Group, Revision PMC Common Card Family: CMC (IEEE:New NY) Interface EIA TR-30.2 Interface, EIA RS-232-D Industries Association, Frequently, the information found the PCI9060ES PCI Interface Chip and CA: PLX Inc., VERSION Physical and Layers PCI Cards: PMC (IEEE: New NY) and
Additional Information and
protection and the and only when necessary. wear wriststrap to ground touching board. grounded while the board. the its or the board shielding Table and This chapter the physical of the boards, the process, and to operation once the boards This chapter includes troubleshooting, service, and warranty information. ELECTROSTATIC DISCHARGE the please that (ESD) easily the the and those with to ESD, which tional ground properly, charges and ESD when the board. To ground yourself, wear wriststrap. the board top of shielding protectionplace grounded the or other PMT1 AND PME1 CIRCUIT BOARD The and PMC assembly. It eight-layer with the following Width: Depth: The following the front and the and board. and Section
and Top and
and and
P11/P12: These PCI interface the and the PMC assignments shown and Connectors The and board the as follows: P1/P2: These the front I/O Chapter assignments. P3: This the optional BDM JTAG header Table assignments. P14: This the I/O the EIA-422 and EIA-232 Chapter assignments. INSTALLATION The and the To the to follow these the screws from the standoffs the and the P11, P12, and P14 and the 5V with the PMC and the the Press the that the mated and the front seated the front From the back of the and the screws the standoffs to the PMC
and and the or the from while applied, of to the board. and tighten the screws. PMT1 AND PME1 SETUP You the following items to and the of the Emerson and PMC Chassis and interface EIA-232 Emerson Compu-shield to RJ45 (Emerson front I/O the and or The Emerson and typically and
Table and A, typical on-card memory The the and the of the board, including the CPU and amount of memory the board. Please Emerson Technical the boards Considerations with board, that flow to the Chassis and other factors greatly the flow The Table Relative Humidity: to Not to board) condensing) to Not to (non-condensing) Flow RESET METHODS The PCI PORESET* of the and The PCI9060ES to initiate software from the PCI To of the and from the clear and then the PCI9060ES C100,00EC To of the and from the PCI the cleared and then software. the PCI this appears as from the of of the MPC860P. This that of the offset 6C from the PCI cleared and then this the PCI the TROUBLESHOOTING of difficulty, this
Troubleshooting the and seated the and that the the chassis. the overheating. the and to they If the and the and the Commands, Section the supply DC If to supply or below that connected to (SMC1). The and on-card NVRAM (I C EEPROM) to and the rates its The of might caused incorrect and incorrect of the NVRAM, or malfunctioning NVRAM. holding the character to abort NVRAM If the the NVRAM incorrectly. the then the to the information about the NVRAM to the to Chapter Technical If with and the or to If access, Emerson further the following information when and and the and and of the operating This information the Emerson or another whether options such as higher or memory or (US) (UK) and
Troubleshooting and Product ID and Product If to the board to Emerson Network service, the or to to Authori- (RMA) to which items and the board purchase and information and of warranty. and Services warranty If the board, to such as the which originally shipped. to: Please the RMA the of the efficiently. service received without RMA Emerson Network Computing and Services Madison, WI RMA
Processing Unit MPC860P The and the MPC860P as its CPU. The MPC860P with of the QUICC MC68360 (CPM). This chapter of the the and It includes information the CPU, tion and Instruction Clock Rate 16K instruction, 8K MMU instruction and Translation (TLB) RAM 8K ATM base-T QMC HDLC four SPI and C interface Interface Memory internal and interface clock, Unit (SIU) PCMIA-ATA interface, and JTAG TAP DMA SDMA and IDMA or 3.3V with 5V TTL the CPU the MPC860P DRAM the interface (SIU). The memory the DRAM, Section high-speed SCC the CPM. The interface Chapter MPC860P INITIALIZATION of the MPC860P with Emerson-specific The the following and of and CPU The the MPC860P with the to and the from instructions. and Section
Processing Unit: MPC860P Table MPC860P MPC860P and Address: Format: Notes: ICR DER ICTRL Instruction IMMR FF00,0000 memory the of the MPC860P internal MSR State The internal of the MPC860P to of memory boundary. The IMMR the of this The following the four and Physical Format: SIU FF00,0000 SIUMCR SIU FF00,0004 SYPCR FFFF,FF08 protection MEMC FF00,0100 BR0 FFF0,0501 FF00,0104 OR0 FFF8,09F4 Option FF00,0108 BR1 FF00,010C OR1 FFC0,0000 Option FF00,0110 BR2 FF00,0114 OR2 Option FF00,0118 BR3 C100,0001 FF00,011C OR3 FFFF,8128 Option FF00,0120 BR4 FF00,0124 OR4 C000,0128 Option FF00,0130 BR6 C000,0401 FF00,0134 OR6 FF80,0120 Option FF00,0170 MAMR 4E82,1113 FF00,0200 TBSCR 00C2 and FF00,0240 PISCR PIT and and FF00,0280 SCCR clock
Processing Unit: MPC860P Table MPC860P Physical Format: FF00,0950 PADIR 000A FF00,0952 PAPAR assignment FF00,0954 PADDR FF00,09F0 BRGC1 BRG1 FF00,09F4 BRGC2 BRG2 FF00,0A82 SMCMR1 SMC1 FF00,0A92 SMCMR2 SMC2 PIP FF00,0AB8 PBDIR FF00,0ABC PBPAR 00C0 assignment FF00,0AC2 PBODR SI FF00,0AE0 SIMODE SI FF00,0AEC SICR SI clock MPC860P EXCEPTION HANDLING Each type of CPU to the The normally the first of RAM (with of or (with of FFF0,0000 to to or or Table the the MPC860P the of their Notes: NMI 01F00 Highest NMI Trace 00D00 Instruction TLB Instruction TLB Instruction breakpoint 01D00 Software 00C00 TLB and
Processing Unit: Interface Unit (SIU) Table MPC860P SIU and Notes: TLB breakpoint 01C00 01E00 CPU The the and LSERR* and from the PCI9060ES These combined IRQ7*, which the only input the MPC860P. The and the to tor the of the These and read-only. to these with than The C000,000C which PCI9060ES active. If LSERR* active. If active. other this as of the C000,0000 the of the highest that The LSERR* the The that including the the software the (PIT), the clock, and the CPM each assigned to software. or assertion. SYSTEM INTERFACE UNIT (SIU) The SIU the MPC860P with and features. the following subsections. The memory of the SIU the DRAM, Section Physical Address: Block FF00,0000 SIU Interface Unit FF00,0080 FF00,0100 MEMC Memory
Processing Unit: Software Physical Address: Block FF00,0200 FF00,0280 and FF00,0300 FF00,0380 and Counter This counter reference software. The counter when reaches the of four reference On the and the clock the clock Counter This counter It clocked the as the counter clock SOFTWARE RESET The MPC860P software the PCI9060ES PCI interface Writing to C100,00EC the the PCI9060ES and LRESETO* asserted. The of the PCI and Shared The PCI software cleared from the PCI To of the and from the clear and then the PCI9060ES C100,00EC To of the and from the PCI9060ES the cleared and then software. the PCI this appears as from the of of the MPC860P. This that of the offset 6C from the PCI cleared and then this the PCI the MPC860 PARALLEL PORT CONFIGURATION The following the MPC860 to RCLK from the incoming T1/E1 the clock to the respective Rate (TDMA: BRGO2, TDMB: BRGO4), then the clock from the Rate as TCLK. and
Processing Unit: Optional BDM Table MPC860P and C and the of the MPC860 and C the and MPC860 MPC860 PA15 RXD1 Facility (FDL A) PA14 TXD1 FDL(A) PA13 RXD2 FDL(B) PA12 TXD2 FDL(B) PA11 L1TXDB TDMB PA10 L1RXDB TDMB PA9 L1TXDA TDMA PA8 L1RXDA TDMA PA7 CLK1/L1RCLKA TDMA PA6 CLK2 TDMA PA5 BRGO2 TDMA PA4 CLK4 FDL PA3 PA2 CLK6/L1RCLKB TDMB PA1 BRGO4 TDMB PA0 CLK8/L1TCLKB TDMB PC15 Interface (MDI) PC14 MDI PC13 MDI PC12 PC11 PC10 PC9 PC8 PC7 L1TSYNCB TDMB PC6 L1RSYNCB TDMB PC5 L1TSYNCA TDMA PC4 L1RSYNCA TDMA PC3 OPTIONAL BDM HEADER optional header (P3) examining The AMP The assignment shown Table
Processing Unit: Optional BDM BDM Table BDM Assignments VFLSO History reports instructions flushed from the history the MPC860P internal SRESET* Software input initiate GND1 TCK Clock input latched the of this (1K to input to board, JTAG clock). GND2 Ground VFLS1 History reports instructions flushed from the history the MPC860P internal HRESET* input to the TDI acts as the input instructions and (1K to input to board, JTAG 3_3V TDO acts as the (JTAG) instructions and and
Processing Unit: Optional BDM and
On-Card Memory The within this (ROM and should Table I2C EEPROM The and EEPROM, and RAM memory the PMC/PCI interface. SOCKETED FLASH The and PLCC read-only flash. to of The physical FFF0,0000-FFFF,FFFF To please the to the PLCC The MPC860P the flash. The allows with of or strongly that the of the of and of the fact that cached. C EEPROM Another memory the and EEPROM. It internally as and through the C interface the MPC860P. The EEPROM sixteen-byte write and self-timed write It of and of years. The C interface consists of the Clock (SCL) and the (SDA) which the PBDIR and PBDAT and with read/write. Address: Access: FF00,0AB8 Direction R/W SDA as input or (PBDIR) C EEPROM Clock (SCL) FF00,0AC4 R/W (PBDAT) C EEPROM (SDA) FF00,0AC4 PBDAT C EEPROM D0 (SDA) FF00,0AC4 PBDAT and SCL SCL high SDA SDA high Section
On-Card Memory DRAM C EEPROM Memory Table and C EEPROM The C EEPROM bidirectional bus-oriented The that the as and the as the receiver. The the the CPU, and the C EEPROM the The CPU initiates and the clock both and operations. software the C EEPROM should immediately to EEPROM to known the its Emerson Memory The following memory established Emerson within the C EEPROM. This allows operating to their without affecting each other. 4007FF 3003FF the operating 0002FF the ON-CARD DRAM The and DRAM four RAM physical to on-card DRAM to boundaries. to boundaries, to boundaries, and to bound- The DRAM the MPC860P DRAM The memory and from to and write protection. to the basic DRAM functions the MPC860P tional DRAM-related Performance insertion RAS recovery RAS CAS RAS CAS recovery CAS CAS and
On-Card Memory DRAM (BCR), MEMS/NOB: Memory of of 16M Table RAM Acess Memory and The (C000,0180 read-only that information about the MPC860P and DRAM. parity. The registry factory LBS MEMS NOB MEMS NOB LBS: with with with memory type (FPM) Synchronous DRAM DRAM One of the of the MPC860P to allow of DRAM The DRAM reasonable of board and DRAM the (UPM). The the UPMs internal RAM. Reference Chapter the MPC860 Revision about the UPM. the the and Clocks: States: Reads Writes and
On-Card Memory DRAM and Clocks: States: At At non-burst the the Clocks of Table the of CPU clock to the and the the States the of burst the the Clocks of Table the of CPU clocks the first of the four the of clocks the second, third, and fourth The the States the of each of the four
I/O MPC860P CPM The and TTL that the MPC860P The MPC860P the with the following features: (CPM), which includes RISC and reception RAM, fourteen DMA (SDMA) and NMSI (each its the and that connected to SCC or SMC), allow operation, and asynchronous/synchronous UARTs, HDLC, and SS7 of the MPC860P and of to them, to the MPC860 THE COMMUNICATIONS PROCESSOR MODULE The physical of the MPC860P FF00,0000 The following shows the the CPM of the MPC860P. Please to the MPC860 QUICC of the each Physical Block FF00,0930 CPM FF00,0950 FF00,0980 CPM FF00,09C0 Communication FF00,09F0 BRG Rate FF00,0A00 SCC1 Communications FF00,0A20 SCC2 FF00,0A40 SCC3 FF00,0A60 SCC4 FF00,0A82 SMC1 FF00,0A9 SMC2 FF00,0A82 FF00,0AE0 SI Interface and Section
I/O: The CPM RISC Processing Priority and CPM Format of the CPM as Table Physical Format: FF00,0950 PADIR 000A Direction FF00,0952 PAPAR Assignment FF00,0954 PAODR FF00,09F0 BRGC1 BRG1 FF00,09F4 BRGC2 BRG2 FF00,0AC2 PBODR FF00,0A82 SMCMR1 SMC1 FF00,0A92 SMCMR2 SMC2 SI FF00,0AE0 SIMODE SI FF00,0AEC SICR SI Clock RISC The RISC the interface to the CPM. It services I/O allowing the CPU the and to to other The RISC user-chosen DMA and DMA (optionally), and Table the RISC priority. It with the the following through RAM commands the RISC RISC through the reads the Priority: Function: Highest RISC Command or SDMA Commands issued the RISC Command
I/O: The Priority: Function: Lowest RISC CPM The CPM RISC through the to the CPU. The the CPU. The the and the CPM. It to which assigned to The which serviced the MPC860 to the with to the RAM The CPM 8KB of SRAM as memory. It the RISC the CPU, IDMAs, and SDMAs. The RAM the following of which associated with the and IDMAs the location of from the RAM the RISC Scratchpad RAM the SCC1 Reception SCC1 SCC2 Reception SCC2 SCC3 Reception SCC3 SCC4 Reception SCC4 SMC1 Reception SMC1 SMC2 Reception SMC2 and
I/O: MPC860P Interface and The as four or timers. The of the clock which to The to seconds DMA (IDMA) The MPC860P IDMA which the to of memory and I/O. The IDMA and or and three and The theoretical of the IDMA with of MB/second. DMA (SDMA) The MPC860P fourteen SDMA to the of the from the routed to RAM or to internal RAM. the internal RAM, other tions the and MPC860P SERIAL INTERFACE Several of the and Please to the MPC860 these UART: The the low-speed The of these the EIA-232 EIA-232 and Other include EIA-422 and EIA-485, which offer such as and The UART where clock with each UART there to the HDLC: HDLC of the (of the OSI HDLC consists of which Therefore, HDLC the physical SI with TSA) to of clocking and the Each of the four function as HDLC The SCC then routed directly to the or connected to of TDM the TSA.
I/O: MPC860P Interface Communication (SCC) The MPC860P four which to such as UART, HDLC, and SS7 to the MPC860P. The choice of of the choice of physical interface. The the physical interface. They to the the interface (SI). The SI the SCC/SMC directly to the MPC860P or of and together or TDM using the of the internal clocks (RCLK, TCLK) each SCC of four or of four clock These clocks top of of the clock (SMC) The MPC860P as UART SMC1 assigned as the DCE A, and SMC2 assigned as the DCE B. The SMC physical implemented the interface and and nected to TDM The clock of four or from clock (TSA) The TSA allows of and to their together or (TDM) TDM as which Common of TDM T1/E1, CEPT, PCM ISDN and ISDN Rate (IDL and GCI). You own interface as The interface with TSA both the internal selection and, necessary, The TSA completely of the the and The of the TSA to from the specified to the SCC or SMC the The and then the they The TSA or clocks and four clock and
I/O: UART Rate Selection Table Rates (16X and to UART BAUD RATE SELECTION The clock each SCC the SICR (FF00,0AEC and each SMC the SIMODE (FF00,0AE0 of four internal or clock used. The the CPM. They of the clock and on-the-fly. Each routed to and The within the Rate (BRGC) (FF00,09F0 9FC The from the and the the BRGC and whether the operating or The the ((clock The clock of the BRGC. The or selected with of the BRGC. Table the clock and associated with typical asynchronous rates. Clock
I/O: Connector Assignments Table Synchronous Rates P14, P0, P2 Assignments P14 P0 P2 P14 P0 P2 E4 C1 C4 C2 D5 C4 GND C5 A4 Download A5 A5 Download Clock The EIA-232C of typical 50-foot Higher rates operation specifically the length, and The the ((clock The clock of the BRGC. The or selected with of the BRGC. Table the clock and associated with typical Rate Clock (T1) (E1) SERIAL CONNECTOR PIN ASSIGNMENTS The and the I/O interface. The P14 assignments, including the VME P0 and VME P2 to Emerson base- boards shown The VME P2 The VME P0 Reference PMC Connector Assignments Section the PMC P11 and P12; and I/O Section the front I/O P1 and P2. (continued) and
I/O: Connector Assignments P14 P0 P2 P14 P0 P2 B6 A7 GND TDM#2 TxRing TDM#2 A6 C8 E7 A8 TDM#2 RxTip C7 A9 TDM#2 RxRing TDM#1 B7 C10 A7 A10 TDM#1 TxRing E6 C11 TDM#1 RxTip TDM#1 RxRing C8 C12 B8 A12 A8 C13 RS422 TXD-* E12 A13 RS422 TXD+ C12 A14 RS422 RXD+ B12 C15 RS422 RXD-* A12 A15 RS422 RTS+ E13 C16 RS422 RXCLK+ D13 A16 RS422 CTS+ A13 C18 RS422 RTS-* E14 A18 GND A14 A20 RS422 RXCLK-* B15 A22 RS422 TXCLK-* A15 C23 RS422 TXCLK+ E16 A23 RS422 CTS-* and routed to P14 directly from the interface and protection. Agency and Notices and
TDM Interface TDM to T1E1 TDMB (P1) The (TDM) such as T1 and E1. The routed internally to the QUICC to of the SCC or SMC Each to T1 or E1 The TDM interface consists of: Three the (L1TXD, L1TCLK, L1TSYNC) Three the (L1RXD, L1RCLK, L1RSYNC) clock and The T1 TDM and the E1 TDM The TDM to T1 or E1 the DS2151Q or DS2153Q and routed to the front (P1 and P2). Table and Table which QUICC to the TDM, and the T1 or E1 from the routed to the that T1 or E1 the P14 the protection circuitry. The FCC and UL1950 tection The DS2153Q the (reference Application DS2151, DS2153 and CCR2 to This the to switch to RCLK TCLK least of the the LOTCMC that This the and to known the the LIRST CCR3 Clear the LIRST CCR3. QUICC to Direction: Function: PA(11) L1TXDB TSER PA(0) L1TCLKB TCLK PC(7) L1TSYNCB TSYNC PA(10) L1RXDB RSER PA(2) L1RCLKB RCLK PC(6) L1RSYNCB RSYNC and Section
TDM Interface: Table T1E1 from P1 Table TDM to T1E1 TDMA (P2) T1E1 from P2 and P1 P1 RRING RTIP TRING TTIP QUICC to Direction: Function: PA(9) L1TXDA TSER PA(5) L1TCLKA TCLK PC(5) L1TSYNCA TSYNC PA(8) L1RXDA RSER PA(7) L1RCLKA RCLK PC(4) L1RSYNCA RSYNC P2 P2 RRING RTIP TRING TTIP and the which follows the QUICC to the DS2151Q (T1) or DS2153Q (E1) interface
TDM Interface: TDM and FDL Connectivity The following these and they to the of options that supported. RCLK: The clock the E1 or T1 The the to the interface to the The QUICC to the clock If the the clock TCLK to from RCLK, then RCLK routed to and as TCLK. and
TDM Interface: The T1 or E1 Interface TSYNC RSYNC: The the T1 or E1 The of the T1 or E1 and the to both the QUICC to the and TSER RSER: The the QUICC from the and the the T1 or E1 The QUICC to the and and TCLK: The clock to the T1 or E1 The clock this the the RCLK input or clock. The TCLK TDM 'B' routed to BRG04 to this option. Additional factory optional which both and clock together. This option and useful when the the T1 or E1 and sections synchronized. THE T1 OR E1 LINE INTERFACE The and that the front protection which protects from and overcurrent from light- and other This where the the customers and within the building the The T1 specified FCC UL1950 (AC Core TR-TSY-000007 and AT&T Publication specified E1 including ETS and ITU K17 through K20. To with these it to testing The and the secondary tion which UL1459, FCC TR-NWT-1089 and ITU K17-K20. The DS2153Q the to the interface wave-form the and of the used. The built to of normally to Twisted The to Twisted
TDM Interface: the T1 or E1 Interface CONFIGURING THE T1 OR E1 INTERFACE The and typical operation. The typical T1 ESF build-out to (DSX-1/CSU B8ZS The typical E1 HDB3 CRC4 CCS insertion build-out to otherwise the counters (about once second). The count to the the polled. THE T1 FDL INTERFACE The Facility (FDL) the T1 to operating statistics. The FDL consists of other of or the FDL inactive commands. The DS2151Q the HDLC to information to and from the FDL. The Facility currently the to latency of the MDI interface. The the FDL the Normally the FDL the FDL and the DS2151Q T1 The DS2151Q to when the empty, and when the receiver. the SI to and clocks) to the T1 (RFSDA DS2151Q and DS2153Q). and
TDM Interface: The T1 FDL Interface Table FDL QUICC Assignments TLINK RLINK: The and the of the FDL interface. The QUICC to the and and the of the board, the FDL connected to SCC allowing the to the overhead of the QUICC the the FDL The when the and The T1 FDL interface consists of three (RXD) (TXD) Clock The following which QUICC to the FDL. FDL P2 FDL P1 Function: Function: PA(15) RXD1 PA(13) RXD1 PA(14) TXD1 PA(12) TXD1 PA(6) CLK2 CLK2 from the clock (RCLK) TDMA. and the following the QUICC connected to the DS2151Q (T1) or DS2153Q (E1) interface The factory optional to of options. The DS2151Q onboard two-frame storesreceive and and the DS2153Q onboard two-frame These and should bypassed. TLCLK: There enough the QUICC to the clock. This that TLINK clock to and FDL only using the FDL The to this the and tions forced to Then RLCLK input as RLCLK: The clock clock to the RLINK PA(4) CLK4
TDM Interface: The Interface (MDI) Table MDI MDI Interface MDC C C C MDIO THE MANAGEMENT DATA INTERFACE (MDI) The MDI or Interface which allows to the and the necessary. This consists of (MDIO), Clock (MDCLK) and (MDINT) The MDI PC0-PC2, which to with MPC860P cated MDINT MDI PC(15) MDC MDI Clock PC(14) MDIO MDI I/O PC(13) The to to the command, and of shows the interface accessed. This the existing ROM and other micro-wire type memory The MDI (MDINT) to the MPC860P PC(15), which as active (high- to-low the MPC860 the C The MDI interface and/or The whether read, write, or to The and written to and from the and The and MDI the to the and the the with the MDI interface. MDI Emerson Network Technical the to or and
TDM Interface: I/O Table MDI I/O Connectors, P1 and P2 and Function Width: The the of MDI of T1 or E1 or interface ID and the field Read/Write On the MDI that the to clock the interface while the MDIO to Once the following These read-only You or clear the DS2153/DS2151 The SR1 each to and the SR2 each to and FRONT PANEL I/O Connectors P1 and P2 the TDM the and front I/O The this tor SS-610808-NF-P-5. The MDI Interface when the MDIO (which pulled high than clocks. ID 4INT1, from DS2153/DS2151 5INT2, from DS2153/DS2151 6INT1, from DS2153/DS2151 7INT2, from DS2153/DS2151 DS2153/DS2151 (TDMA) DS2153/DS2151 (TDMB) DS2153/DS2151 (TDMA) DS2153/DS2151 (TDMB)
TDM Interface: I/O I/O Assembly (C308A009-05) Table Compu-Shield to RJ45 Assignments To reduce of fire, AWG or cord. The recommended assembly (Emerson C308A009-05) P1 and P2 shown The these tor SS-310808-5 and SS-800810-040-250. the Compu-Shield and RJ-45 assignments. COMPU-SHIELD Connector Connector P1 and P2 Compu-Shield (RRING) (RRING) (RTIP) (RTIP) (TRING) (TRING) (TTIP) (TTIP) This straight-through there RJ-45 and
TDM Interface: I/O and
PMC/PCI Interface Table PCI The and with the (PCI) interface and with the associated PCI Card (PMC) mechanical interface The and attached to and The and the PLX PCI9060ES interface to the +5V PMC/PCI interface. The PMC/PCI interface features: the and PCI operating to locking EEPROM PCI9060ES REGISTER MAP The PCI9060ES through that the MPC860P and the which the and mounted. The four PCI Shared and DMA The of these C100,0000 The PCI of these The PCI9060ES and writable or noted otherwise. of the Emerson-specific of these the and functionality of these to the PCI9060ES PCI The PCI known as the header. The ration header The ory, the and Shared the PCI memory PCI C100,0000 Word PCI ID C100,0002 Word PCI ID C100,0004 Word PCI Command C100,0006 Word PCI C100,0008 PCI Revision ID C100,0009 PCI Class and Section
PMC/PCI Interface: PCI9060ES and PCI C100,000C 0C PCI C100,000D 0D PCI Latency C100,000E 0E PCI C100,000F 0F PCI (BIST) C100,0010 PCI memory to and Shared C100,0014 PCI I/O to and Shared C100,0018 PCI memory to C100,001C-2F 1C-2F C100,0030 PCI ROM C100,0034-3B 34-3B C100,003C 3C PCI C100,003D 3D PCI C100,003E 3E PCI C100,0000 3F Word PCI The PCI memory and I/O the memory These They PCI memory and I/O based the the PCI C100,0010 and C100,0014 PCI C100,0080 (PCI to C100,0084 (PCI to C100,0088 C100,008C 0C C100,0090 ROM (PCI to C100,0094 C100,0098 PCI to Accesses C100,009C 1C (Direct to PCI)
PMC/PCI Interface: PCI9060ES Table Shared PCI (continued) C100,00A0 (Direct to PCI memory) C100,00A4 Direct to PCI I/O/CFG C100,00A8 PCI (Direct to PCI) C100,00AC 2C PCI (Direct to PCI IO/CFG) Shared The Shared of and tion that from the and the PCI PCI C100,00C0 Mailbox C100,00C4 C100,00C8 C100,00CC 4C C100,00D0-DF 50-5C C100,00E0 PCI to C100,00E4 to PCI C100,00E8 C100,00EC 6C EEPROM PCI Command I/O C100,00F0 PCI ID PCI9060ES INITIALIZATION The following the PCI9060ES PCI and Shared to the PCI and the The PCI to of the and the PCI At the PCI9060ES reads EEPROM to the PCI of the EEPROM. These the PCI Table and registersMailbox and Table and
PMC/PCI Interface: PCI9060ES PCI9060ES PCI the PCI9060ES: the CPU: Notes: C100,0000 C100,0002 PCI ID This read-only the ID. C100,0002 PCI ID This read-only the ID. C100,0004 C100,0030 PCI ROM and ROM C100,0008 PCI Revision ID This read-only the and C100,0009 PCI Class 0B20000 00200B interface C100,0018 PCI memory to C100,003C PCI C100,003D PCI This read-only that the PCI9060ES INTA* as its C100,003E PCI This read-only burst of seconds. C100,003F PCI This read-only latency of seconds. These the EEPROM. These the EEPROM. and The EEPROM to the PCI other of the PCI9060ES EEPROM (C100,00EC reading and writing the EEPROM. to the NS93CS46 Table of the instructions, and the PCI9060ES the which the PCI ID This read-only Emersons ID. PCI Command I/O and memory PCI9060ES to as and the SERR* (PCI
PMC/PCI Interface: PCI9060ES Table PCI9060ES C100,0080 FF800008 080080FF Memory reads prefetchable. The to 2MB of on-card DRAM. C100,0084 C100,0088 PCI C100,008C C100,0090 ROM (PCI to C100,0094 clocks. C100,0098 to PCI to Accesses C100,009C E0000000 000000E0 MB. (Direct to PCI) C100,00A0 (Direct to PCI memory) C100,00A4 (Direct to PCI I/O/CFG) C100,00A8 PCI (Direct to PCI) C100,00AC PCI (Direct to PCI IO/CFG) These the EEPROM. the MPC860Ps of the offset the PCI9060ES: the CPU: Notes: ROM. F8030043 430003F8 Memory There memory internal memory ready input. input and The PCI write retry clocks. PCI memory PCI I/O and I/O, memory and input. to PCI and
PMC/PCI Interface: PCI9060ES Table PCI9060ES Shared the PCI9060ES: the CPU: Notes: C100,00C0 These the EEPROM. C10000C0 of the C100,00C4 Mailbox These the EEPROM. and to the PCI the PCI to the Neither its the other already owns the The PCI9060ES force of the to ownership of its and the Consequently, the other. Direct Direct that from and the PCI The PCI9060ES Direct and Direct If this counts when Direct and to the PCI If the count the the to the and its Direct Direct that from PCI and the The PCI9060ES PCI Retry Direct This counts while Direct If the count the PCI9060ES retry informing the PCI to the PCI and its assigning whether of of the the other Also, whether there other of Direct or Direct The following PCI9060ES internal and from the and Table
PMC/PCI Interface: PCI9060ES Table PCI9060ES Priority Address: Factory C100,0094 Direct clocks) C100,0094 C100,0098 PCI Retry clocks) to the Direct (PCI the and Direct to than PCI Retry Clocks. the and the PCI9060ES asserts to the forcing to the and its This allows the Direct to Alternatively, to the Direct the and PCI Retry to the PCI forcing the Direct to the PCI and its This allows the Direct to The factory the the the Latency the PCI9060ES, that the to than the latency of the the PCI Retry PCI the and its within clocks. this however, the Direct because of the latency. (The Direct the CPU to its I/O and the the Direct too Direct the PCI9060ES Emerson the PCI9060ES to Direct allowing Direct Table This with the PCI9060ES that when to from PCI and that to the The PCI9060ES the the PCI and the the the This (reading the PCI9060ES affects that their or access, such as or other their read.) these the PCI9060ES or and
PMC/PCI Interface: PCI LSERR*: indicating It asserted to the MPC860P when the PCI abort or abort the PCI LINT0*: to the MPC860P The or PCI BIST Access and It to the PCI9060ES to of the instance, because the slightly than the to to the other the of the attempted To this tion, the the Bridge to Bridge Considerations PMC incorporate their PCI and creating that to the of to the associated latency. The should to latency. PCI INTERRUPTS The and PCI the PCI9060ES the CPU the the MPC860P. PCI Interface the DRAM the PCI interface of the and of the rates The rates to PCI the to PCI and PCI to bursting. States: Clocks: Read PMC CONNECTOR PIN ASSIGNMENTS The and three PMC P11, P12, and P14. These the PCI and interfaces. The the shown The this
PMC/PCI Interface: PMC Connector Assignments PMC Interface Connectors (P11, P12, P14) Connector P11 and P12 Assignments or The recommended nectors include and to the of these the and The PCI interface routed P11 and P12. assignments this interface Table The I/O interface routed P14. The assignments this of the I/O chapter. P11 P12 P11 P12 +12V -12V GND INTA* GND BUSMODE1* GND GND BUSMODE2* CLK RST* GND BUSMODE3* GND GNT* BUSMODE4* REQ* GND +5V AD30 AD31 AD29 AD28 GND AD27 AD26 AD25 AD24 GND GND IDSEL C/BE3* AD23 AD22 AD21 AD20 AD19 AD18 GND +5V AD16 AD17 C/BE2* FRAME* GND GND GND TRDY* IRDY* DEVSEL* GND +5V STOP* GND PERR* LOCK* GND SERR* PAR C/BE1* GND GND +5V AD14 AD15 AD13 AD12 GND AD11 AD10 AD09 AD08 +5V and
PMC/PCI Interface: PMC Connector Assignments AD00-AD31: ADDRESS and DATA both and consists of phase or phases. BUSMODE1*-4*: The and assert BUSMODE1* to to the that and of PCI The BUSMODE2*-4* to that PCI C/BE0* -C/BE3*: BUS COMMAND and BYTE ENABLES functions the phase of the phase of these the command. phase the as DEVSEL*: DEVICE SELECT when the selected as the of the access. FRAME*: CYCLE FRAME the to the of access, and to asserted reaches its phase. and P11 P12 P11 P12 GND AD07 C/BE0* AD06 AD05 AD04 GND GND +5V AD03 AD02 GND AD01 AD00 +5V GND GND PCI The following the PCI interface P11 and P12. to the PCI of these stated otherwise. high clock CLK: CLOCK input to the and PCI GNT*: GRANT input that to the to Each its GNT*. IDSEL: INITIALIZATION DEVICE SELECT input acts as and write INTA*: PMC INTERRUPT input the and to the IRDY*: INITIATOR READY that the ready to the phase of the
PMC/PCI Interface: PMC Connector Assignments LOCK*: LOCK that to PAR: PARITY AD00-AD31 and C/BE0-C/BE3*. Parity PCI This and clock the phase, and clock the that ready to the phase IRDY* or TRDY* asserted). Once PAR asserted, clock the of the phase. PERR*: PARITY ERROR to PCI tions. REQ*: REQUEST to the that to the RST*: RESET assertion of this input PCI and to SERR*: SYSTEMS ERROR open-collector to with strophic STOP*: STOP the to that the the TRDY*: TARGET READY the to the phase of the and
PMC/PCI Interface: PMC Connector Assignments and
The and consists of of about C The commands of these and to easy-to- and or and downloads, and other This chapter includes introduction to operation, instructions command that the and reference, and tion reference. POWER-UP/RESET SEQUENCE At or the autoboot free memory and necessary, the command-line as follows. The MPC860P first: caches the memory UPM initialized, CS select) memory and initialized, and the Interface Unit (SIU) initialized. The QUICC sections the following the NVRAM clock and and then the SMC1. The NVRAM functionality and this the first If NVRAM If NVRAM the to should to of the NVRAM including If off, the World the Memory from the and the The and functionality. The character 89ABCDEF to the ASCII location and its written and read. Then boundary the C BSS cleared. The section relocated from ROM to its The RAM-based initialized. The to to the RAM-based The vectors the to the This the Unexpected and the of reinforced. The memory memory initialized. If the C The EEPROM and the PCI and Section
Power-up/Reset NVRAM Factory Optional and Download Selects (A, B) (Download) Selects Parity Selects type. Force) Selects the of StopBits Selects the of ChBaudOnBreak Break character RstOnBreak Break character (Download). Turn instruction cache or off. On (On, Turn cache or off. (On, Select type. (Copyback, Clear memory Clear memory On (On, (On, Turn or off. Choose shortest to countdown. the and Select of PLX of PCI PLX BootParams Select EPROM ROM, EPROM) LoadAddress and The countdown to autoboot specified. If allow the countdown finish, the selected booted. Reference booting from the commands. If the the with the which The with the NVRAM commands NOTE: this (On,
Power-up/Reset Factory Optional ROM base. This when as ROM. ROM This field only when as ROM. type. Whether this the as or ROM, to type. as selects S-records, Emerson Whether this field the ClrMemOnBoot Clear memory HardwareConfig 16MEG (16MEG) 2K (2K 4MB)) MpuType MPC860 (MPC860, MPC860P) MPC860 (MPC860, MPC860P) CacheType MPC860 (MPC860, MPC860P) FpuType EthType ScsiType Manufacturing, Test/Services and ShipDate Unknown Unknown Unknown to hosts. These software. These the Services and
and START-UP DISPLAY At or the and the the The and displays The of the or memory malfunction that should to Technical the or to At and the the board to the of memory. If the that selected, the to from the specified You the board from booting the OS of the the NVRAM Table and
Command-line History To of the type or or the punctuation). You both the and the the the the The then from which commands and The the Instructions downloading and the reference and function reference. The command-line interface that includes history and The command-line interface text and text type the the the and commands. Each brought text COMMAND-LINE HISTORY The history of to command Press the <ESC> from the command to the history. or the history to previous command. or the history to command. COMMAND-LINE EDITOR The command-line typical UNIX commands. <ESC>: To Entry and the <ESC>. You such as A, and To the command and the or <DEL>: To and <DEL> or A: text the or I: text the or X: character. character. the to the Change. commands with to or of as shown below. and
Memory or text to the of or the the or the or to the of or the the punctuation). and text from the to the of the commands with to or of as shown below. from the to the of the INITIALIZING MEMORY The the and and writes to that of the The memory and/or the of memory. The writes to) this to the to other memory areas, such as off-card or memory. COMMAND SYNTAX typed with the shortest of characters that the command. type instead of (There distinction and lowercase.) however, that with type and the Press or to command. The three and to commands commands that each the or specified the as the following 1234ABCD:16
Memory Definition: bootbus INITIALIZING MEMORY The the and and writes to that of the The memory and/or the of memory. The writes this to the to other memory areas, such as off-card or memory. COMMAND SYNTAX typed with the shortest of characters that the command. type instead of (There distinction and lowercase.) that with type and the Press or to command. The command three and to commands commands that each the or specified followed the base. the following Typographic the following command to the type or that input. BOOT COMMANDS bootbus that allows to interface. This to reduce bootbus the LoadAddress from the memory BootParams Table as the of memory below: and
Commands booteprom and CallAddress; The consists of locations. The first synchronization, and the the of the The of below: The the (this board) to write the (character to to that the and The the the writes the to CallAddress, and then writes 0x596f4f6b (character to to that the ready the writes (character to to that the found. The then the CallAddress. the called, four to the from the memory section. The the as shown below: Application(Device, These allow boards the facility to information from the to the function BootUp booteprom autoboot that allows to from EPROM. the to to the of the the following The of the FFF4,0000 The first of the EPROM branch instruction of the You to EPROM, the to something other than EPROM. The to EPROM NVRAM trashed). to the function BootUp
Commands bootrom Download Format bootrom that allows to from ROM. It from ROM RAM and then to the RAM The ROM the RAM LoadAddress and the of to from the memory BootParams. the called, to the from the memory BootParams. The the as shown below: Application(Device, There this command. The with the NVRAM commands and to the function BootUp that allows to from It the of the and the of the from the LoadAddress and the memory BootParams. The field selects of the specified below: Download Format: INT_MCS86 MCS-86 Format MOT_EXORMAT Format (S0-S3,S7-S9 Records) HK_BINARY Emerson Format The with the NVRAM commands nvdisplay and the called, three to the from the memory section. The the tion as shown below: Application(Number, These allow boards using the facility to ration information from the and
Commands The bytes. bytecount clearmem bytecount bytecount and Also to the function BootUp HELP COMMANDS the to the of the command specified The of the command instructions type of command-line type memory type MEMORY/REGISTER COMMANDS memory commands, the the following The The reads bytecount and the that of memory. The the of the the memory clearmem clears bytecount bytecount the with those the displayed. bytecount from the to the
Memory/Register Commands bytecount searchval findnotmem searchstr displays memory The of played If the specified, of memory shown. The as character the and ASCII the right. Nonprintable ASCII characters as Press to the If the pressing displays the of memory. memory with to to the of memory with the type: searches memory from to memory tions specified the searchval findnotmem searches from to memory locations that from the searchval searches from to the searchstr reads memory location specified This displays the and and
Memory/Register Commands bytecount writemem and allows memory locations to first displays the that read. Then type the or the If the the counts If <ESC> the the counts To this type character bytecount the with those the memory from to If the obtained from the functions and The memory character. This to memory (DRAM). It the of the and the of and to the and MemTop Section memory from to This first clear- memory the specified, rotating each location, and finally each location with its own If the from the and This the of the and the of and The memory character. to the and MemTop Section writemem writes to memory location specified
NVRAM Commands writestr writestr writes the ASCII specified to memory location specified The NVRAM COMMANDS The the C EEPROM memory. memory of the C EEPROM Table earlier this of this memory factory and information and the The memory commands the interface to the C EEPROM. The commands with the and sections of the memory. The sections of memory and writeable and the nvdisplay to the and The memory information to completely the and The to the to the memory. The displayed Each of field as or or as of To the group, or To within the displayed group, E. To the <ESC> or Q. To the type the To without the type the Table shows the and when the nvdisplay command. At the type: =>nvdisplay Press the to displayed. the shown below. and
NVRAM Commands writes clears from the the might unknown and them to known and B) ParityNone(Even, Force) StopBits2-bits(1-Bit, [SP, CR to or [E, to Press to the group. Press the field to displayed. options parentheses. Press <ESC> or to the to the or to the reading the to the memory to the the First clears the memory and then writes the Emerson and back to the EEPROM. ECO the of writes to memory writes reads and the and If the sections displayed. to the and
NVRAM this nvdisplay and to the from the to the ROM. The to the BootParams group. To the with the command, specify the and field to and the The group, field, and as the below: to write the Emerson- and sections back to the EEPROM. First the and then written to the The write and reported. the The the memory BootParams, the field the and or the this field and to from the specified The the BootParams each to the downloading. Currently, the ROM, and as If the field and that board, the the Unknown as the command as ROM the and as the command bootbus. the Commands Section these commands. At the type: =>nvdisplay Press the BootParams displayed. BootParams BootDevBus(None,Serial,ROM,Bus,EPROM) LoadAddress0x40000 ROMBase0xfff30000 and
NVRAM Commands this nvdisplay and to the from the to the The to the BootParams group. and [SP, CR to or [E, to Press to the group. Press the field displayed. the ROM Press to the LoadAddress field. the where Press to the field. the ROM Press to the field. the ROM Press <ESC> or to the to the At the type: =>nvdisplay Press the BootParams displayed. Press to the group. Press the field displayed. the Press the field displayed. the selects Emerson other to Whether the and the Press <ESC> or to the to the
Commands NVRAM PASS/FAIL Table PLX and POWER-UP DIAGNOSTIC/TEST COMMANDS The following on-card functional to including and The memory to or the of these and the nvdisplay commands The of the offset of the C EEPROM. To the PASS/FAIL four reads from the EEPROM and The should the indicating that the functional and that PASS/FAIL reporting supported. The the when Counter/Timer EEPROM The PASS/FAIL written to PLX The writes the and PASS/FAIL of each of its to PCI that the the of the and accordingly. At the of the the NVRAM PASS/FAIL written to the least (LSB) of PLX The PLX the displayed and then to there The following Table to the and Counter/Timer EEPROM Parity DRAM Memory DRAM Memory the memory the PLX would and DRAM the The the LSB of the PLX memory encountered, then the If the PLX and
Commands and the of the cache. The writes to every cache and that the written the cache and DRAM. the interface to the C EEPROM writing to the and then reading back and the boundary throughout of DRAM. The first clears of ory writing The then rotating each boundary and writes the as to the location. The finishes each location its as the to displayed and the The RAM to REMOTE HOST COMMANDS The commands and downloading tions and hex-Intel S-record or Hex-Intel and S-record as ASCII and downloads. Both records, which ASCII Records ASCII characters the start-of-record charactersS S-records and records. records of or to the records and them easily distinguishable records the of the record, the the record, and of records field. software the characters that to only. which that the connected to the software. this connected to the with connected to the through the and as though they This allows to
Remote Commands Definition: initiate and the and to the from This downloading, to the and to the and allows of from of the boards interfaces. This allows to to to the from the characters, or The If the to to the should and the Also, that unchanged. from to the board. or S-record as specified the following used) hex-Intel memory S-record memory If specified, the hex-Intel. to of to the using NVRAM commands. Download Format Section Hex-Intel Format Section and Motor- S-record Format Section the Download Format The consists of of sections Information each section including: the the section that the of the memory of the section. and
Remote Commands If the UNIX and hex-Intel directory to the following and If from UNIX to the from to The specified the memory interface to UNIX through the the to might the Several to and to initiate Download S-record CTRL-@-RETURN Download hex-Intel Download S-record Download to CTRL-@-ESC This software to characters the This to reasonably characters of characters displayed. the only to rather than Since this to that the command allow of commands without attempted. or Press or the Download this the NVRAM nvdisplay the Download which selection, parity, of and of might the At the type: =>nvdisplay Press the Download displayed.
Remote Commands Press to the group. Press the field displayed. other the whether them or the reappears. to the Format Hex-Intel to This as (possibly The least of the the and the the only which boundary. Stated C, or offset with than the of the unnecessary. The hex-Intel of the the other the the record, including the the of the the correctly. of records hex-Intel record, record, optional record, and record. of hex-Intel records with end-of-file record. Record the character. the length. the field, the type. the field. the The the of the The to of these records to something such encountered, the to the offsets the record. and
Commands =>:020000020020DC =>:0400100050D55ADF8E and the first the count the the field counted). the field; this the field meaningless, The the type; this record. the of the the this the This that should to their to the Record the character. the length. the This the of the first the relative to the the type. bytes. the this there four the record. They to specified, to the to D5 to 5A to and DF to The 8E Record ssssoooocs the character. the length. the field, the type. the the the this the and the offset the End-of-file Record 00000001FF the character. the length. the field,
Remote Commands Complete Hex-Intel the type. the This the end-of-file record, which the the It the =>:080000002082E446A80A6CCE40 :020000020001FB :08000000D0ED0A2744617EFFE8 :0400000300010002F6 :04003000902BB4FD60 :00000001FF line-by-line of the =>:080000002082E446A80A6CCE40 to to E4 to to A8 to 0A to 6C to CE to =>:020000020001FB the to to =>:08000000D0ED0A2744617EFFE8 D0 to ED to 0A to to to to 7E to FF to =>:0400000300010002F6 and
Remote Commands Where: =>S008763330627567736D and that the and the offset the =>:04003000902BB4FD60 to 2B to B4 to FD to =>:00000001FF terminates the S-record Format S-records the ASCII character S, which the first character each record. the S character another character that the type. and the type character of characters that the of the record, and possibly the The of the with and The the of the of the of of the the and the type character. other the of the and the character immediately following with the should FF record. S0-records S0 the type S0 the count of and the the records optional, and this the of the field and the characters the ASCII tation of The 6D
Remote Commands Where: =>S10801A00030FFDC95B6 Where: =>S5030343B6 S1-S2-and S3-records Records) S1 S2 S3 the type S1 the count of and the the These records. They only that S1-records S2- records and S3-records this the FF DC and memory 01A0 =>S30B30000000FFFF5555AAAAD3 this the FF FF AA and AA memory that this S3-record the too to the of S1-record or S2-record. S5-records Count Records) S5 the type S5 the count of and the the S5-records optional. they used, there If S5-record included, count of the S1-, S2-, and S3-records the Other of records counted the S5-record. this the of the B6 and the count of the S1- records, S2-records, and S3-records the and
Remote Commands Where: =>S903003CC0 Complete S-record and S7-S8-and S9-records (Termination and Records) S705 S804 S903 the type S7, S8, or S9 count of and the field or field the These trailing records. There trailing and the the Included the this the the downloaded this the 3C =>S8048000007B this the =>S0097A65726F6A756D707A S10F000000001000000000084EFAFFFE93 S5030001FB S9030008F4 line-by-line of the S0097A65726F6A756D707A the ASCII of the =S10F000000001000000000084EFAFFFE93 the following to the following to to to to to to to to 4E to
Definition: Definition: FA to FF to 0A FE to 0B S5030001FB that S1-record, S2-record, or S3-record S9030008F4 that the UTILITIES the board to the specified the memory This includes the and caches, necessary. to the boards interfaces of the memory nvdisplay or This ARITHMETIC COMMANDS (the or The Specify the of the or The of the operation displayed and (the or The command the operation to The Specify the of the or The of the and and
and Definition: Definition: Definition: Table and Screen and (the or from the The Specify the of the or The of the and that function and The (the or subtracted from The Specify the of the or The of the and ERRORS AND SCREEN MESSAGES commands explanatory or commands, or that attributed to other that the memory contacting Emerson Network Technical the or to Source and while clearing NV memory while reading NV memory while NV memory H to auto-boot the introduction to this chapter information about NV memory become corrupted. the to
Function Reference Source and The topic or the If the topic command the to the of the command. You the Memory FAILED memory malfunction. Unknown The nvdisplay to and the BootParams group, field. with Unexpected There this Warning NV memory completed. The Warning NV memory using the introduction to this chapter information about the to Emerson Network Customer the or to MONITOR FUNCTION REFERENCE The and three and and Emerson to associated functions function If function that the following to the to the information. The the function and its parenthe- or other necessary. =>ConnectHandler If the displayed that and used. If the or and autoboot the to Emerson Customer If the displayed executed, to operation that and
and Functions The function allows the the to to the This function selected of the and the accordingly. It the responsibility to the the specified This function the physical interface to the boards memory The of four types: READ, READ_PROBE, WRITE, and WRITE_PROBE. The with earlier of the If from memory. If written to memory. The the location to and that memory of memory locations. The the character to written. The of written to the or the from the and the commands, that directly from the PMT1 AND PME1-SPECIFIC FUNCTIONS int ConfigSerDevs() The ConfigSerDevs function the the memory to the It that the when this function called, or Both to to or the and or parity. offset, putchar(c)
and Functions These the low-level I/O to read, write, and the MPC860P. These to interface to both the and specified the These of the boards interfaces the itor. Both these the memory to to interface, the of these functions called. RTxMT() The function reads character from specified This function to and allows the to functions or when detected. The function putchar writes the character to the specified The and RKBHit the and If the character these functions TRUE; other- they FALSE. The and the and the characters. If the character these functions TRUE; otherwise, they FALSE. InitBoard() ConfigCaches() The function the of to the the The the The ConfigCaches function the caches to On or as the memory and
and Functions This of board These functions allow the to the ory sections without actually the board the library. function to the of the X24C16 The of four types: READ, READ_PROBE, WRITE, and WRITE_PROBE. If from memory. If written to memory. and The MemTop and to the of the and first free memory. The of DRAM the The of memory the compiler-created which the of the section. The function this tion to of as specified the The function or occurred. The function the The and functions where the memory the Emerson- and sections the Emerson- section and the section the user-writeable section of the memory The the offset from the of the which the section loaded. The functions and the and location of the This allows other and tion to the without to know too about the NvRamAcc
Functions If the SetUnExpIntFunct function to its own to This function the specified The the of the and the these and the and instruction caches. The function the cache or write- through If selected. If write-through selected. The function cache and the function flushes instruction cache The Cnt the location to and the memory of memory locations. If there the physical they with The to the character location to written. This function the of written to the or the from the that written. SetUnExpIntFunct MPC860P-SPECIFIC FUNCTIONS VECTORNUM; *HANDLERPARM; typedef (*HANDLER)(VECTORNUM, to optional and
Functions These the MPC860P that and Table Vectors and HANDLER HANDLERPARM }HANDLERSTRUCT; HANDLERSTRUCT HANDLER ConnectHandler(Vector, int DisConnectHandler(Vector) Address; The following those which vectors assigned to them the to these the used. of SYSCALL Software Instruction TLB TLB Instruction TLB TLB (IRQ0*) Software (IRQ1*) Software (IRQ2*) Software (IRQ3*)
Functions of Software (IRQ4*) Software (IRQ5*) Software (IRQ6*) Software (IRQ7*) Software PCI9060ES LINTO* PCI9060ES LSERR* The function the to reference the This that the board when received. The the of the the the and then the function, which displays the and the The function ConnectHandler the the to to the The the to connected and the the of the function that the With this assembly ConnectHandler HANDLERSTRUCT which the existing information. The function DisConnectHandler the associated with to the It the memory the wrapper ConnectHandler. both ConnectHandler and DisCon- the and memory to initialized. The function memory locations that or This function TRUE the location and FALSE the The whether or write should attempted. The selects or The the to accessed, and the to the or write UnMaskInts() and
The UnMaskInts and to and the The functions and the of the State (MSR). and or clear the the MSR. the of the of the and the Functions and the the and writeICTRL() and writeICTRL and write the Instruction This allows of the ICTRL which instruction and instruction STANDARD MONITOR FUNCTIONS
Functions These functions of to character to to BCD, BCD to and to search The BootUp function immediately the memory and the board to the This function memory to cleared to the tion and the The this function the first If memory cleared. int HexToBin(Val) The function ASCII to The function ASCII to The function ASCII to The function ASCII to The function both the character and the to the This other than the and The BinToHex function to (BCD). The HexToBin function (BCD) to This function the which to of The function searches the the first The of the least BootUp int The that allows to from of and This function the to which to from and the The the EPROM, ROM, BUS, and SERIAL which The of the or board-specific tions and
Functions also: StartMon.c, Commands Section These functions the interface to read, and write software FIFO. The FIFO buffering I/O when of applications. three as the first to FIFO This FIFO below: This function to the specified character to allow the to parsed as or lowercase. The function the character NULL reached. Each character to the and InitFifo InitFifo(FPtr, Length) Fifo int Length; ToFifo(FPtr, Fifo FromFifo(FPtr, Fifo Fifo *Top; int Length; *Rear; int Count; Fifo; The function InitFifo the FIFO specified to the character that of The function ToFifo writes the to the specified FIFO. This function TRUE there the FIFO to the FIFO), or FALSE the FIFO The function FromFifo reads from the specified FIFO. If character written to the specified the and the function TRUE. If the function FALSE. IsLegal(Type,Str) The of specifying each type below:
Functions Function The memory functions and free memory from memory The the memory to on-card memory the tion. If of the autoboot used, the memory and the to the memory these Characters: DECIMAL HEX F, UPPER LOWER ALPHA Z, If the character characters, this function TRUE; otherwise, FALSE. The of the character isupper(), islower(), and constructed from this function, which with the instead of character. Free(MemLoc) CFree(Block) *ReAlloc(Block, The and memory from the memory Each of these to the memory the and NULL there enough memory to the The function indicating the of requested. The function and indicating specified of of the specified The function reallocates memory and
Functions also: The and the ory to other that or memory. and the specified to the free and of or that the memory specified enough and the to reused. The and of memory that or to the free memory The of the to specified the which the of the to memory that the functions of blowing and should The function the memory to the This function once every operation and the memory used. It to this function every to The function the memory to the memory of specified This function currently allows memory and function to The function memory This function showing memory and and as of overhead. int DispGroup(Group, Group; *Base; The to of to that of every field of the first This the the field to the field, of the field, of the field to displayed, and the of the field. shown below, as as the to the This might the and of
Functions Command sizeof(NVEx.XPos), NV_TYPE_DECIMAL, NULL}, sizeof(NVEx.YPos), NV_TYPE_DECIMAL, NULL}, Depth sizeof(NVEx.Mag), NV_TYPE_DECIMAL, NULL} sizeof(ExFields)/sizeof(NVField), If to the the function the shown below. The EditFlag whether to allow to the displayed as the nvdisplay command). The function, when with to the the to those specified the The the of to initialized. The function and recovers from memory. The only of the to memory that the first field of the NVInternal, which where the the memory section The first the to summary of the commands shown below: Command: NV_OP_FIX section NV_OP_CLEAR Clear section NV_OP_CK section NV_OP_OPEN section NV_OP_SAVE section NV_OP_CMP section and
Functions Table NVOP also: The function the the rand. and The the of the to ated and the the of the to operated The the offset the memory where the to of to and the shown below. sizeof(NVEx), sizeof(NVEx), sizeof(NVEx), sizeof(NVEx), sizeof(NVEx), The clear, and operations the to cleared and with the then the from memory. The and to the which the internal and then writes them back to the memory If encountered the or operations, from the function The below: NVE_NONE NVE_OVERFLOW write count NVE_MAGIC from NVE_CKSUM from NVE_STORE to NVE_CMD Unknown operation NVE_CMP to put_c(char
Functions The functions the to read, write, and the The and the to the interface and the known as or to to function function that the operation the The tions with the R Each to the memory also: putchar, These functions the basic functions to and the of int int The functions and characters from the and called, these character from the The character to the function. The and write the character from the and called, these character the The and the and rates. The the to the these to those rates the or The function the character. If the TRUE otherwise, FALSE Source) *Source; and
Functions The function and the memory which this function memory interface. of these and which the memory to tested. The the of to and the of the below. and The function CmpStr the terminated pointed to and If they TRUE; otherwise, FALSE. that this the as the UNIX function. CmpStr and matches characters to the of This and other The function the terminated to and If they TRUE; otherwise, FALSE. that this acts the as the UNIX function. The function StrCpy the terminated Source the specified There to that the enough or terminated. The the MAXLN which the allowed the The of the to the function. The function the of the terminated and the length. If the the MAXLN, the function MAXLN. The function StrCat the the of the TSPass) int TSPass; WordAddrTest(BaseAddr, LongAddrTest(BaseAddr, Interact(Mod, int
Functions This function as without floating It features of %X, and %s. to allow of The function of the specified memory Each location tested writing the lowest of the location through the memory and each location. The function WordAddrTest of the specified memory Each location tested writing the lowest of the location through the memory and each location. The function LongAddrTest long-oriented of the specified memory Each location tested writing the location through the memory and each location. The function of the specified memory memory location tested rotating through the location. The function to the of memory where the The to the and to dramatically. The function Interact to interaction the memory specified and The of this to memory. This accomplished testing the interaction memory. The and functions to The function the parsed to the while the function writes the characters to the The that characters to as and characters that to the of the the There least as as characters, or the function character with the character The characters the information about or right and type, and things too numerous to and
Functions and If information the and required, C Not of the ported. The %X, and %s.
ASCII American Information CPU Processing Unit CSA Association DRAM Access Memory EC Community EEPROM Electrically Read-Only Memory EIA Industries EMC ESD ETSI Telecommunications FCC FDL Facility HDLC High-level C Inter-integrated IEC International JTAG Action LED Light-emitting MAC MDI Interface NVRAM Non RAM PCB Printed PCI Peripheral PLD PMC PCI Card RISC Reduced Instruction RMA Authorization ROM Read-Only Memory TBD To TDM UART Universal Asynchronous UL USB Universal and Section
Acronyms: (continued) and
Index commands ADDRESS and DATA PCI flow command, arithmetic commands PCI (BRGC) board ID commands booting from EPROM from ROM from BootParams BootUp PCI burst (PCI) BUSMODE1*-4* PCI PCI C S-records board clock PCI command reference command-line history, (CPM) RISC top Compu-Shield Compu-Shield P1 and P2 RJ-45 of counters, CPU CPM DRAM IDMA SDMA SMC TSA technical PCI count records. S5-records PCI applications, counter ID PCI DMA the from Download DRAM memory and type memory type MPC860 and RAM E1 (DS2153Q) TDM interface EEPROM memory memory commands PCI EEPROM EIA-232. I/O end-of-file EPROM, booting ESC ESD hex-Intel S-record facility (FDL) features, of commands free memory front I/O assembly front TDM function reference PCI grounding BootParams and Download
HardwareConfig HDLC hex-Intel records IDMA PCI memory of to of CPM of memory from the of memory, of memory of PCI9060ES ready PCI of the INTA* INTB* INTC* INTD* internal vectors CPM PMC/PCI IRQ7* ESC LoadAddress field, LOCK PCI LSERR* and interface (MDI) (MTBF) memory from the commands type memory memory EEPROM memory command-line history EEPROM NVRAM operation power-up/reset bootbus booteprom bootrom clearmem findnotmem nvdisplay writemem writestr function BinToHex CmpStr ConfigCaches ConfigSerDevs, ConnectHandler DisConnectHandler FromFifo
HexToBin InitFifo Interact LongAddrTest MemTop putchar RKBHit SetUnExpIntFunct StrCat StrCpy ToFifo UnMaskInts WordAddrTest writeICTRL non-burst NVRAM P11/P12 PCI PASS/FAIL PCI9060ES. PMC/PCI PLX PMC/PCI interface EEPROM PCI commands ID protection HDLC UART RAM and clock (RCLK) (RLINK) clock (RLCLK) (RSER) (RSYNC) references and PCI9060ES commands BCR BRGC PCI shared SICR SIMODE PCI PCI boards RISC RJ-45 S0-records S1-S3 records S5 records S7-S9 termination and records SDMA and I/O from the reference (SMC) SERR* SICR SIMODE specifications
(continued) mechanical S-records PCI commands interface (SIU) PCI T1 (DS2151Q) FDL and TDM interface of of ready PCI technical technical (TDM) (TSA) timers, clock (TCLK) (TLINK) clock (TLCLK) (TSER) (TSYNC) troubleshooting, UART selection UL (UPM) the vectors, ID operating editing commands write
Notes and
Emerson Network The Business-Critical Continuity Emerson Network Computing WI USA US FAX: www.emersonembeddedcomputing.com AC Connectivity DC Computing N. C D. Integrated Switching Business-Critical Continuity, Emerson Network and the Emerson Network andservice of Emerson Network Inc. Emerson Network Inc. Precision Cooling Services Protection