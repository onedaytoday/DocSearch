KAT4000: AMC ATCA from Emerson Network Computing
The information this and to and HOWEVER, NO RESPONSIBILITY IS ASSUMED BY ARTESYN COMMUNICATION PROD- UCTS FOR ITS USE OR FOR ANY INACCURACIES. Specifications to without ARTESYN COMMUNICATION PRODUCTS DOES NOT ASSUME ANY LIABILITY ARISING OUT OF USE OR OTHER APPLICATION OF ANY PRODUCT, CIRCUIT, OR PROGRAM DESCRIBED HEREIN. This Products or the rights of others. and the of and Communication Products from other property of their respective owners. Revision Changes: release A February functionality; Released switch Copyright Communication Products. rights Emerson. It and Business-Critical Continuity, Emerson Network and the Emerson Network and service of Emerson Emerson
Agency Notices or to the KAT4000 without the of Emerson Network the authority to this where the KAT4000 without front or where the front chassis/enclosure the interference (EMI) shielding to CE The Emerson KAT4000 the forth the (FCC) Title of the of Regulations. The following information as this agency. This with of the FCC to the following This interference, and this interference received, including interference that operation. FCC RULES AND REGULATIONS PART This tested and found to comply with the Class to of the FCC These to reason- protection interference installation. This and and, and with the instructions, interference to tions. there that interference tion. If this interference to or reception, which turning the off and the to to the interference or of the following or the Increase the the and the outlet from that to which the connected the or EMC COMPLIANCE The (EMC) KAT4000 that includes front assembly from Emerson Network KAT4000
Agency Notices Emerson Network Computing Wisconsin Declares that the following with the of 89/336/EEC, EMC Directive and 99/5/EC, RTTE Directive and their Product: ATCA and to the following specifications: EN55022:1998 Information characteristics, and of EN55024:1998 Information Immunity characteristics, and of EN300386 V.1.3.1 and (ERM); Telecommunication EMC that the to comply with the sections of the referenced specifications. This with the health and of the EMC Directive and RTTE Directive. internal that the products and the technical KAT4000 EC Declaration of Conformity According to EN
KAT4000 Memory AMC Top KAT4000 and Switch and Switch Locations, JTAG Hubs. KAT4000 MPC8548 JTAG/COP JTAG/COP Network VSC7376 Switch Block PEX Block PEX SPI EEPROM Interface AMC Routing of the Switch the KAT4000 Switch Switch Top Switch Switch JTAG Switch AMC Routing of the Switch the KAT4000 Switch Switch Top Switch Switch JTAG Switch AMC Routing of the Switch the KAT4000 AMC Routing of the Switch the KAT4000. Redirection. PLD JTAG AMC B+ KAT4000
(continued) KAT4000 of SATA IPMC Block Command Command IPMB Entity Synchronization Clock M41T00 Clock Block Connector, P10. Connectors, J20 and J23, and Connectors, J30-J32. Connector, J33 RTM with Plate RTM Top KAT-Z3DB RTM the KAT4000 KAT4000 with Switch KAT4000 with Switch Power-up/Reset Flowchart A-1: KAT4000 A-1 A-2: Interface the Ethernet Core Switch. A-20
Table KAT4000 Summary Table Agency Technical References Table JP4 JumpersJP2 and JP7 J35 Typical Table Table Flow MPC8548 PCI and ID. MPC8548 Peripheral Priority Table MPC8548 Chip Select MPC8548 Table JTAG/COP Assignments (P1). Table KAT4000 and Table Ethernet Core Switch Off-Board Table Ethernet Switch Off-Board Ports. Ethernet PEX JTAG Table PLD Table BCM56580 Switch Ports. PLD Memory NVRAM Memory EEPROM (write protected) NVRAM Memory EEPROM PLD Table JP3 PLD JTAG Assignments Table JP1 Assignments B1-B4 AMC Assignments Table Network Function Table Completion Table Format IPMI Table Format IPMI IPMC IPMI Commands Command Summary Table Command Interface Command Table Interface Command KAT4000
KAT4000 Table Command Command. Table Command Table Command Table Switch Command. Switch Command Table Command Table Communication Command. Command IPMC Command IPMC Command Table Command. Table Command Table Command Command Shutdown Command. Table Shutdown Command Table State Command Table AMC Command. AMC Command Table IPMC Watchdog Commands Table Command. Table Command. Table Command Table FRU FRU LED Command LED Command Table FRU LED State Command FRU LED State Command IPMI Format Table FRU Definitions Table Table Command Summary Command Table Command. Command Command Complete Command Table Command Table Revision Command
RTC Connector, P10 Assignments Table Connector, J20 Assignments. Table Connector, J23 Assignments. Table Connector, J30 Assignments. Table Connector, J31 Assignments. Connector, J32 Assignments. Connector, J33 Assignments. Table RTM Table Assignments, P1, P2 and P4-P7 Table Ethernet Assignments, P3. Table LED Table POST Assignments Static IP Ethernet Table DHCP Ethernet Table Optional Table A-1: Command A-5 B-1: IPMI Record B-1 Table B-2: KAT4000 IPMC SDR B-2 B-3: SDR B-2 Table B-4: IPMB Physical SDR B-4 Table B-5: BMC SDR B-5 B-6: SDR B-7 Table B-7: SDR B-9 Table B-8: SDR B-11 B-9: SDR B-13 Table B-10: SDR B-15 Table B-11: CPU SDR B-17 Table B-12: Inflow SDR B-19 B-13: Outflow SDR B-21 B-14: SDR B-24 Table B-15: B1 SDR B-25 Table B-16: B2 SDR B-27 Table B-17: B3 SDR B-28 B-18: B4 SDR B-30 Table B-19: B1 +12V SDR B-31 Table B-20: B1 +12V SDR B-33 B-21: B2 +12V SDR B-35 B-22: B2 +12V SDR B-36 KAT4000
(continued) KAT4000 Table B-23: B3 +12V SDR B-38 Table B-24: B3 +12V SDR B-40 Table B-25: B4 +12V SDR B-41 Table B-26: B4 +12V SDR B-43 Table B-27: -48V SDR B-45 Table B-28: -48V SDR B-47 B-29: -48V Source SDR B-48 Table B-30: -48V Source SDR B-50 B-31: +3.3V SDR B-52 Table B-32: +12V SDR B-54 Table B-33: -12V SDR B-56 Table B-34: F/W (Firmware) SDR B-58
L2 (L2CR). MPC8548 (HID0) MPC8548 (HID1) CPU State (MSR) Product (PIDV) Scratch (SCR) I2C (I2C) (SDET) Switch (SRST) (STAT) Switch GPIO (GPIO) GPIN/LED (GPLED) Product (PIDV) Scratch (SCR) I2C (I2C) Switch (SRST) (STAT) Switch GPIO (GPIO) GPIN/LED (GPLED) Product ID (PIDR) (HVR) PLD (PVR) (HCR0) PLL (PLLC) LED (LEDR) (JSR) RTM GPIO State (RGSR) RTM GPIO (RGCR) MISC (MISC) Scratch (SCR1) (RER) Command (RCR1) Command (RCR2) Redirection (BDRR) Clock (CSC1-CSC3) respectively Clock Source (CPS1-CPS3) respectively Clock Secondary Source (CSS1-CSS3) respectively KAT4000
KAT4000 Clock (CCR1-CCR14) respectively Clock (CSI1-CSI3) respectively Command
The Processing Unit (CPU) MPC8548 III operating of to with DDR2 The MPC8548 (L1) and instruction caches, and L2 cache. The that to the NOR, and NAND flash; Ethernet switch; switch and PLD. The COP/JTAG Chapter information. SDRAM: The KAT4000 includes 64M Rate (DDR2) Synchronous Access Memory (SDRAM) Memory (SO-DIMM). include and The interface to the of Error-Correcting (ECC). SDRAM implemented the KAT4000 board On-Card SDRAM information. Flash: The KAT4000 includes three regionssocketed, NOR, and NAND. The of booting from PLCC ROM to or from NOR that consists of or The KAT4000 Advanced Computing Architecture (AdvancedTCA ATCA) with to four Advanced Cards (AMC) This of and such as WAN access, processing, gateways, gateways, and others. ATCA architecture platform as the PICMG AdvancedTCA Specification The KAT4000 on-board Ethernet and PCI switches the AdvancedMC Common where the of flows, and Switch (FPS) to the AdvancedMC The FPS and when switch required. optional on-board and to off-load or OA&M functionality. The KAT4000 Unit (FRU) and (SMB). It the Platform (IPMI) with AdvancedTCA to standards-based allowing to or OA&M COMPONENTS AND FEATURES The following summary of the KAT4000 and features: KAT4000 Section
and CPLD: The KAT4000 (CPLD) to board the Revision and LED and to the PLD only the KAT4000 board information. the the KAT4000 Ethernet interface consists of: Reduced (SGMII)/1000Base-BX Ether- or switch VSC7376), and to the AMC I/O: EIA-232 from the MPC8548 through on-board header and optionally to Rear Transition (RTM) access. The parity, and This only. C The IPMC C consists of the following the -48V AMC A-to-D and optional to Rear Transition (RTM) access. JTAG Hubs: The IPMC the Action (JTAG) interfaces One JTAG connected to the KSL PLD, the IPMC PLD, the switch and the four AMC The other to the VSC7376 switch, the PEX8524 switch, the clock the IPMC GPIO, and JTAG Interfaces information. AMC The KAT4000 four single-width, Advanced Card (AMC) which allow of to four AMC Double-width and accommodated. B+ AMC used. The KAT4000 KAT4000 The NOR consists of The NAND or the KAT4000 board tion. Chapter information. One from the MPC8548 through Rear Transition (RTM) access. This only. allows the MPC8548 to with the (IPMC). The parity, and One C to the following: the CPU init SEEPROM, the Clock (RTC), the SO-DIMM, and the switch used. Another C optional to Rear Transition (RTM) access.
and The KAT4000 Platform Interface (IPMI) based with UART interface to IPMC and IPMB-A/B interfaces. The IPMC allows such as shutdown, and to Unit (FRU) Chapter information. Synchronization Clock: The synchronization clock interface consists of MT9045 or MT9046 T1/E1 Chapter information. RTC: The Clock (RTC) ST M41T00 Chapter information. There serviceable this boards to Emerson KAT4000 This includes of SRAM memory the the VSC7376 Ethernet switch This SDRAM and NOR and NAND flash. information. Core Switch: The Ethernet switch the the switch the Ethernet the AMC the ATCA the and the (optional). VSC7376 switch this function. Ethernet Core Switch (optional) information. PCI Switch: The switch the the AMC the and the switch PLX PEX switch this function. PCI Switch (optional) information. the Ethernet switch and the PCI switch, least of the switches the board. The board both switches. with the PICMG AMC.0 Revision Advanced Card with the of the KAT4000 Each AMC individually Chapter information. KAT4000 KAT4000
and Switch Rear Transition (RTM): KAT4000 high-speed switch as It IO PCI or Ethernet This switch the AMC the ATCA high-speed the the switch and the Ethernet switch. Switch Chapter information The optional to or when the KAT4000. AMC routed to Rear Transition (RTM) I/O. AMC to There T1/E1 AMC routed as There C to the IPMC and the and each from the switch and the Ethernet Core switch. and only.
Functional Block FUNCTIONAL OVERVIEW The following functional the KAT4000: KAT4000
Physical Memory KAT4000 Memory KAT4000 PHYSICAL MEMORY MAP the KAT4000 memory FFFF,FFFF MB) FFF0,0000 FF80,0000 CCSRBAR (MPC8548 MB) FF70,0000 FC88,0000 FC80,0000 KB) FC48,0000 CPLD KB) FC40,0000 FC18,0000 Switch KB) FC14,0000 FC12,0000 Ethernet Core Switch KB) FC10,0000 FC00,8000 NAND KB) FC00,0000 E200,0000 NOR MB) E000,0000 Switch or GB) A000,0000 PCI Switch MB) 3FFF,FFFF 1FFF,FFFF SDRAM DDR2 MB) FC40,00B0 FC40,00AC FC40,00A8 FC40,00A4 FC40,00A0 FC40,009C FC40,0098 FC40,0094 FC40,0090 FC40,008C FC40,0088 FC40,0084 FC40,0080 FC40,007C FC40,0078 FC40,0074 FC40,0070 FC40,006C FC40,0068 FC40,0064 FC40,0060 FC40,005C FC40,0058 FC40,0054 FC40,0050 FC40,004C FC40,0048 FC40,0044 FC40,0040 FC40,003C FC40,0038 FC40,0034 FC40,0030 FC40,002C FC40,0028 FC40,0024 FC40,0020 FC40,001C FC40,0018 FC40,0014 SDRAM DDR2 GB) FC40,0010 FC40,000C FC40,0008 FC40,0004 FC40,0000 Clock Clock Clock Clock CLK3 Clock CLK3 Clock AMC4 CLK3 Clock AMC4 CLK2 Clock AMC4 CLK1 Clock AMC3 CLK3 Clock AMC3 CLK2 Clock AMC3 CLK1 Clock AMC2 CLK3 Clock AMC2 CLK2 Clock AMC2 CLK1 Clock AMC1 CLK3 Clock AMC1 CLK2 Clock AMC1 CLK1 Clock Secondary Source Clock Secondary Source Clock Secondary Source Clock Source Clock Source Clock Source Clock Clock Clock RTM GPIO RTM GPIO State MISC Redirection Scratch Command Command LED PLL PLD Product ID
Physical Memory Table KAT4000 Summary Physical Access FFF0,0000 R/W MB) FF80,0000 FF70,0000 CCSRBAR (MPC8548 MB) FC88,0000 FC80,0000 R/W KB) FC48,0000 FC40,00B0 R/W Clock (CSI3) FC40,00AC R/W Clock (CSI2) FC40,00A8 R/W Clock (CSI1) FC40,00A4 R/W Clock aTCA CLK3 (CCR14) FC40,00A0 R/W Clock CLK3 (CCR13) FC40,009C R/W Clock AMC4 CLK3 (CCR12) FC40,0098 R/W Clock AMC4 CLK2 (CCR11) FC40,0094 R/W Clock AMC4 CLK1 (CCR10) FC40,0090 R/W Clock AMC3 CLK3 (CCR9) FC40,008C R/W Clock AMC3 CLK2 (CCR8) FC40,0088 R/W Clock AMC3 CLK1 (CCR7) FC40,0084 R/W Clock AMC2 CLK3 (CCR6) FC40,0080 R/W Clock AMC2 CLK2 (CCR5) FC40,007C R/W Clock AMC2 CLK1 (CCR4) FC40,0078 R/W Clock AMC1 CLK3 (CCR3) FC40,0074 R/W Clock AMC1 CLK2 (CCR2) FC40,0070 R/W Clock AMC1 CLK1 (CCR1) FC40,006C FC40,0068 R/W Clock Secondary Source (CSS3) FC40,0064 R/W Clock Secondary Source (CSS2) FC40,0060 R/W Clock Secondary Source (CSS1) FC40,005C FC40,0058 R/W Clock Source (CPS3) FC40,0054 R/W Clock Source (CPS2) FC40,0050 R/W Clock Source (CPS1) FC40,004C FC40,0048 R/W Clock (CSC3) FC40,0044 R/W Clock (CSC2) FC40,0040 R/W Clock (CSC1) Table the physical the KAT4000 and to information: KAT4000
Physical Memory Physical Access FC40,003C R/W RTM GPIO (RGCR) FC40,0038 RTM GPIO State (RGSR) MISC SIO, C, Clock) (MISC) FC40,0034 R/W FC40,0030 Redirection (BDRR) FC40,002C R/W Scratch (SCR1) FC40,0028 Command (RCR2) FC40,0024 Command (RCR1) FC40,0020 (RER) FC40,001C R/W LED (LEDR) FC40,0018 (JSR) FC00,0014 FC40,0010 (HCR0) FC40,000C R/W PLL (PLLC) FC40,0008 PLD (PVR) FC40,0004 (HVR) FC40,0000 Product ID (PIDR) FC18,0000 FC14,0000 R/W Ethernet Switch KB) FC12,0000 FC10,0000 R/W Ethernet Core Switch KB) FC00,8000 FC00,0000 R/W NAND KB) E200,0000 E000,0000 R/W NOR MB) A000,0000 R/W PCI Switch or Switch or GB) PCI Switch MB) R/W R/W SDRAM DDR2 MB/1 GB) Flash/memory Both the PCI Switch and Switch optional. If both onboard, then the switch allocated MB and the switch GB of If neither found onboard, the GB KAT4000
AMC AMC AMC MAPPING The below shows the KAT4000 to the the AMC.0 cation: KAT4000
Additional Information Clocks: This of the clock architecture, as the AMC.0 tion. Common This interfaces that This including and It amounts of without the of This Rear Transition Also, to the Common and when required. This to the of the (the of that to Agency KAT4000 ADDITIONAL INFORMATION This section the KAT4000 and the terminology and this It technical Mean (MTBF) than hours the KAT4000 and than hours the KAT4000 with switch C. Product The KAT4000 tested to comply with immunity, and as specified the (FCC), Industry (IC), Inc. (UL), and the Union (CE The following this Specification: IEC60950/EN60950 of Information UL60950, CSA C22.2 Third Edition of Information including (BI- National) AS/NZS and New IEC CB IEC country
Additional Information Specification: (continued) NEBS: GR-63 to Section Section and Section Office and Section Transportation EMC FCC Class of Regulations, Devices ICES Class Industry Interference-causing NEBS: GR-1089 and Immunity testing only) EN300386 and (ERM), Telecommunication Network (EMC) AS/NZS radiated and conducted and New Class Emerson reports that information the and testing. Unshielded I/O screws, or poorly grounded chassis the to comply with of the stated specifications. UL The UL of Emersons UL To the to the and search the directory using Emersons UL E190079. There products the United States, as as shipped to Products type followed the and/or The KAT4000 AdvancedTCA (ATCA) The Printed (PCB) artwork which RoHS The KAT4000, Chapter and the RTM Chapter with the Unions RoHS (Restriction of of created to to the and health the of and Effective July restricts the of mercury (VI)), polybrominated polybrominated ethers KAT4000
Additional Information Active active indicated with the Throughout this to to and to to PLD: This the PLD as as FPGA, CPLD, EPLD, and with or with shown with Table Technical References KAT4000 and that built with lead-free that 5-of-6 built with tin-lead the lead-in-solder To of conformity (CoC) the KAT4000 or other to or the number(s) C000####-##) when Emerson. Terminology and Notation Technical References Further information operation and of the KAT4000 found the following Interface: AMC/ATCA Advanced Card (PICMG AMC.0 November PCI and Advanced Switching AdvancedMC (PICMG AMC.1 AdvancedTCA (PICMG March Notice (PICMG ECN AdvancedTCA AdvancedTCA (PICMG MAX II CPLD MII5V1-1.3,
Additional Information Interface: CPU MPC8548E III Integrated Family Reference MPC8548ERM July ATMEL EEPROM 64K AT24C64B EEPROM (ATMEL 3350D-SEEPR: Ethernet Ethernet Switch, VSC7376 Sheet VMDS-10133 Reference Manual/Software RBM0007 November 88E1111 Integrated Ethernet Datasheet MV-S100649-00, G: February BCM5241 10/100Base-TX/FX Sheet Corporation 5241-DS03-R StrataFlash Memory (P30) AMD AM29LV040B CMOS Volt-only, Uniform Sector Memory (Advanced Devices, Inc. Publication E; H3 (EFD) featuring Software 92-DS-1205-10 LTC with (Linear Corporation LT/TP 2K LTC 4300A-1/LTC 4300A-2 Swappable (Linear Corporation LT/TP 2K sn4300a) Specification (PICMG KAT4000
Additional Information KAT4000 Interface: IPMI/IPMB IPMI Platform Interface Specification NEC IPMB Platform Specification NEC IPMI Platform FRU Information Definition Revision Sept. Single-Chip H8S/2168 March JTAG SCANSTA112 IEEE (JTAG) Sheet (National DS200512, PCI PCI Revision (PCI (PCI-SIG), July PEX PCI Switch (PLX Inc. Access M41T00 Clock (ST SDRAM (SO-DIMM) 512MB DDR2 SDRAM SO-DIMM ECC Product Inc. VL491T6553B-D5/CC TIA/EIA-232-F: Interface and Interface Terminating Employing Industries Association, October Synchronization MT9045 T1/E1/OC3 Clock Interface Inc., February MT9046 T1/E1 with Inc., February
Additional Information Frequently, the information found the KAT4000
KAT4000
protection and KAT4000 boards when absolutely necessary. wear wriststrap to ground touching board. grounded while the board. the its or the board static-shielding This chapter the physical of the and the process, including and This chapter includes shooting, service, and warranty information. ELECTROSTATIC DISCHARGE the process, please that (ESD) easily the the KAT4000 those with to ESD, which tional ground properly, charges and ESD when the board. To ground yourself, wear grounding wriststrap. the board top of static-shielding protectionplace grounded the board or other KAT4000 CIRCUIT BOARD The KAT4000 8U factor board that conforms to the PICMG and AMC.0 mechanical with the of formances. the KAT4000 It the following physical Height Width: Depth: Thickness: (top The following the the KAT4000 board. the front and JTAG locations. KAT4000 Section
KAT4000 Top KAT4000 COPYRIGHT CR25 CR24 CR20 CR23 CR22 CR17 CR15 CR13 CR11 CR26 CR8 CR6 CR2 CR4 C86 U19 Clock C217 RN11 C66 U16 R2009 R2008 R2007 U8 R2006 R2005 R2004 U18 PLD U15 U14 U7 U6 C65 RN15 RN14 RN12 C64 C94 C45 C56 R54 U24 U27 U21 C55 C29 C31 R38 C39 R37 U5 R50 R36 R2012 C15 R49 R35 R51 R52 R48 C93 C14 U23 U26 U20 L4 R2013 R2014 R2015 C38 C82 C81 C37 RN16 R134 R129 R128 R115 R114 R120 R119 R125 R122 R124 R123 C36 C80 C85 C35 C79 C160 C148 C164 C169 C194 C189 C195 R110 C34 C78 C147 C239 C200 C168 C104 RN5 RN4 RN3 RN2 RN1 RN10 RN9 RN8 RN7 R53 C103 C102 C181 C146 C193 C133 C180 C145 C143 C179 C178 C122 C84 C54 L5 C199 C192 C177 C167 C212 C159 C144 C121 R105 RN6 C176 C175 C53 R104 R103 C132 R88 R102 R87 R101 C44 C30 C174 R47 R86 C142 C191 R100 C43 C131 R85 R99 R84 C173 C10 R24 R98 C13 C23 C130 C9 R83 R23 R97 U4 U3 R82 R96 C188 C163 C141 R34 R22 R81 C6 R95 R33 R94 R21 R43 R32 R29 R42 R40 C5 R1159 L3 RN13 R121 R143 R113 R133 R139 C172 C187 C166 C171 R112 R118 C63 C28 C27 C62 C158 C26 C61 C157 C156 C25 C60 C120 U29 U35 C155 C154 C59 C24 C153 C152 C151 C119 C92 C198 C52 C91 C118 C51 C186 C42 R46 C33 C41 C117 R20 C8 C12 R19 R18 R132 R127 R152 R147 R148 R138 R142 R31 C4 R30 R17 C3 R41 C185 L2 C116 C129 C101 C100 C99 C98 C150 C161 C170 C128 C162 C140 C115 C73 C22 C90 C139 C72 C21 C114 C138 C71 C20 C113 C137 R66 C127 U13 C58 C97 C70 C112 C136 C57 C149 C77 R109 R93 R91 C50 R2045 U12 R131 C96 C111 C126 C32 R45 C49 C76 C135 C110 C125 R16 C95 R15 U11 C165 C19 C190 C184 C7 C11 R108 C134 R14 C75 U2 C109 C124 C2 R28 C1 R27 C123 R13 R107 R39 R44 R25 R12 R26 C108 L1 R146 R141 R136 R137 R151 R155 R150 R154 C18 C69 R145 R149 R140 R135 C89 C68 C17 C107 C67 C16 C106 C88 R144 C183 C2044 R153 L20 Y1 C182 U9 PLD U22 C40 U1 R92 R79 R90 R89 R80 C196 C48 R126 R9 R65 R64 R8 U17 R63 U25 R7 C47 R62 R6 R61 R60 R5 C46 R4 R1158 R3 C74 R78 U10 C87 R67 C83 R117 R116 C105 R201 R130 R11 R2 CR29 CR28 CR27 CR14 CR12 CR10 CR19 CR16 CR18 CR21 CR9 CR1 CR3 CR5 CR7 R10 R1 R297 U63 R296 R295 C389 P1 C322 C395 R235 U2000 R273 R272 U36 U28 Clock Clock C352 C394 C385 R245 C345 U56 R238 C381 R286 C343 R259 R250 RN20 RN19 C291 C335 U37 C380 M8 J1 RN21 C334 Y3 R258 R294 C300 C379 C393 R186 U53 R271 C392 C378 C374 C391 C377 U34 Y2 C373 R175 C323 L6 C216 C337 C372 R174 C371 C370 R156 R160 R157 U33 R270 R311 R269 R200 R300 U59 C399 R199 R307 R299 C398 U32 C386 RN18 R310 M7 C390 C388 R309 R198 R308 R197 C387 C384 C376 U46 R213 R173 C375 C397 U31 R196 R212 R172 R257 R195 R211 R194 R285 U52 R328 C369 R327 C251 C241 C215 C207 C226 C227 R326 RN36 U45 C341 R293 C225 C224 C201 C214 C206 C240 C250 R284 R298 R2062 R292 R283 R325 R291 RN22 C368 RN24 RN23 R324 R290 R306 R289 R305 R323 R288 R304 C266 C265 RN35 R287 R303 R244 C344 C289 C327 R322 U55 C288 C223 C220 C287 C313 R321 R268 R237 C286 C312 R320 C213 C340 C311 C285 R256 R319 C222 C310 C284 R318 C205 C283 R241 R249 U43 C336 C238 C282 RN41 C281 C249 R2027 R2026 R2033 R2032 R206 C280 C237 M6 R205 C264 C279 R2029 R2028 R2034 R2035 C221 C278 C309 C204 RN40 Y6 C277 C308 R2030 R2031 R2036 R2037 C276 C307 J2 C275 C306 C274 C305 R255 J10 C273 C304 RN39 C324 R185 C263 C203 R267 R279 R278 R275 R274 U51 C302 R222 RN38 C367 C365 C358 C247 C248 C219 C236 C210 C211 C351 U42 C350 RN37 C349 C348 C246 C245 C339 RN17 C2000 C2001 U58 R2016 R2018 R2001 R2002 C406 R243 Y5 C2002 R266 C2003 R204 C235 C234 R203 C396 R219 R240 R236 C233 C326 R202 C232 M5 C405 C400 C231 U41 C402 C262 C401 RN25 RN34 RN33 RN32 RN31 RN30 U61 R282 Y4 R281 C366 R180 C325 R218 R248 C347 RN29 RN28 RN26 U57 U60 C301 C299 R280 R239 C342 R265 C272 C271 C261 C209 C218 C244 C202 RN27 C260 R247 R246 C259 C298 C297 R179 R314 R317 C321 R2050 R2052 C416 C407 C333 M4 C320 R2051 R2053 C270 C319 C230 C318 C257 J3 C317 C256 C290 C316 C315 C296 R254 R171 C314 C258 C383 C243 C332 C255 U50 C229 C269 C295 R302 R313 C254 R301 R312 C208 C242 C197 C228 C253 C294 CR38 CR39 CR36 CR35 CR37 C293 C364 C268 C363 C292 C331 C362 C267 C361 R264 R263 R178 R177 R183 R176 R169 R170 R159 R158 R182 R184 M3 C252 C330 U30 R253 U44 R181 R210 R209 R208 U49 C360 C353 R217 R193 R190 R216 R221 R277 R276 C359 U40 U54 R262 C338 R234 R233 C346 R242 C382 C329 M2 J4 R191 R215 R220 R207 R192 R252 C442 C404 U48 R232 R231 R168 R230 R167 U39 R229 R166 R228 R165 R227 R164 C357 R226 R163 C356 R225 R162 C355 R224 R161 C354 R261 R260 C328 M1 R223 R189 C403 U38 R188 R214 R251 R187 C303 R2085 U47 C2030 C2031 CR34 CR33 CR32 CR30 CR31 E1 K2 ATCA XXXX- YYYYYY R358 R2088 J33 ATCA Connector R356 R355 C2034 C2035 C461 C457 C458 C2037 C2038 R2089 R357 C460 C2036 J32 ATCA Connector U64 DDR2 SO-DIMM JP4 JP3 J31 ATCA Connector RN60 RN59 U76 SRAM U68 MPC8548 J30 ATCA Connector RN65 R1204 U78 NAND R2063 R364 RN62 RN64 U81 100Base-T C470 R354 R363 U77 C437 R353 R362 C415 C436 R352 R361 R360 C414 C435 RN44 RN52 RN47 RN58 RN55 RN63 C469 R359 L13 C434 SW2 R329 C468 RN61 RN54 RN51 RN49 RN46 RN43 RN57 CR40 CR41 L10 C433 C467 C459 RN42 RN50 RN48 RN45 RN53 RN56 R332 R331 R335 C441 K1 ATCA U69 R343 R334 C422 C440 R333 U75 C426 C427 R342 R341 R340 C421 R330 U74 C412 C413 C410 C419 R351 C425 U73 C466 R350 C411 R349 U72 C465 R348 C2039 J20 ATCA Connector R2124 J34 L9 C418 C409 C431 C424 C432 C439 R2119 R2120 R2048 R2049 C2040 R2123 C451 C449 C450 C454 C443 C444 C447 C446 C423 C429 C430 C438 U67 PHY C428 C448 R339 L12 C453 R338 U71 PHY L8 C417 C408 U66 PHY U80 C445 R347 R345 C420 R337 L11 C452 R336 L7 R365 U70 PHY U65 PHY U82 1000Base-T U79 1000Base-T C456 R344 R346 C455 SW1 JP2 J23 ATCA Connector U62 C464 C463 C462 JP7 JP1 P10 ATCA Connector F2 F6 F5 F4 F1 F3
KAT4000 J2000 CR2001 CR2000 CR2002 CR2003 SW3 COPYRIGHT R396 R388 R378 R375 R373 R370 R368 R366 R436 R420 R410 R399 R2024 R2023 R371 C478 C479 C476 R437 R438 R446 R453 C480 C481 C486 C494 C482 R421 R422 R447 R454 F7 C487 R468 R469 C498 J35 R376 R400 C471 R401 R402 R411 R470 R2067 R471 R472 R455 R412 R403 R68 R405 R404 R413 R456 R2025 R379 R439 R414 C496 C497 R440 R473 R2068 R474 R2066 C483 C499 R111 R106 R2065 C495 C490 C489 C488 R424 R415 R416 R441 R448 R385 R460 R449 R425 R442 R417 R458 C477 C472 R386 R2107 R2106 R2105 R2104 R462 R2077 R2076 R475 R481 R484 C502 C503 R426 C484 C485 R418 R419 R406 R476 R463 R443 R380 R381 R1205 R1206 R1207 R1208 R382 R77 Q5 R59 R383 R384 R444 R76 R407 R2133 C2041 R2136 R485 C2043 R2134 C2042 U2002 R450 R2132 R451 R452 R427 R487 R493 R494 R495 R496 R497 R498 R499 R500 R397 U83 VSC7376 Switch R55 C507 R488 R477 C508 R57 R489 R478 R58 R56 C491 C492 C473 C474 R428 R389 C500 C501 R390 R429 R430 R391 R392 R431 C509 R2137 C493 C475 C510 R393 R432 R433 R394 R434 R461 R464 R637 R560 R465 R638 R561 R466 RN66 C504 R408 C505 C506 L14 R367 R369 R372 R374 R387 R395 R398 R409 R459 R445 R435 R467 R479 C2029 C2024 R730 R518 R529 R546 R543 R535 R563 R572 R578 C587 C589 R731 R733 R720 R722 R721 R727 R770 R771 R603 R604 R605 R750 R752 R754 R756 R772 R773 R2086 R652 R667 R632 R666 R678 R671 R639 R600 R606 R615 R607 R610 R774 CR2004 R775 R2087 C596 C553 C547 R519 R580 R581 R582 R685 C597 C610 C611 C522 C511 R686 C570 R687 R688 R689 R776 R583 R584 R585 C541 R547 R777 R377 R690 C2033 C2032 R2055 R691 R692 R2056 R732 R586 C588 R530 R2070 R2069 R2054 R520 R423 R778 R779 C549 C562 R693 R457 R2084 R723 R780 R781 R616 R640 R668 R653 R611 R751 R753 R755 R757 U86 C523 C524 C512 R480 R734 R739 R749 C530 C516 U85 R669 R679 R672 R641 R654 R633 R612 R601 R608 R634 R617 R482 R483 R490 R544 C594 R839 R840 C525 R587 R588 R589 R694 R841 R842 C548 C554 R491 R695 R2108 R532 R531 R521 R536 R696 R697 C595 R843 R844 C571 R590 R591 R592 R698 R699 R845 C542 R2131 R846 R700 R593 R847 R848 R701 R594 R760 R761 R595 R596 R702 R703 R849 C550 C563 R782 R850 R597 R783 R851 R852 R642 R618 R635 R673 R670 R614 R613 R655 R853 R854 C2026 C2025 R735 R736 R738 C555 C564 R724 R726 R2083 R643 R644 C580 C572 R725 R645 R784 R785 C574 R522 R533 R504 R505 R786 R787 R788 R789 C598 C599 C612 C613 R790 R955 R945 R876 R879 R791 C2028 C2027 C590 R737 C619 R2082 U84 PEX8524 Switch U87 U89 R855 R858 R859 R869 C620 C624 R834 R870 R860 R861 C600 C591 R871 R2020 C621 R872 R863 R862 R856 R836 R835 R486 R534 R524 R523 C556 C557 C558 R492 R506 C625 C622 R525 R762 R763 R857 R656 R657 C623 R864 C575 R674 R707 R708 R873 R874 R709 R710 R675 R2040R2039 R2126 R564 R565 R573 R574 R507 R508 R509 R510 R511 R512 R513 R514 R619 R620 R621 C543 C531 R792 R566 R567 R575 R576 R2125 R793 C540 C519 R2081 R2003 R2019 R2017 R545 R609 R768 R598 R537 R538 C2021 C2020 R2000 R740 R764 C2019 R2021 R741 C601 R794 R2022 R795 R676 C602 C576 R711 R712 R713 R714 C603 C604 C605 C559 R677 R796 R797 C2023 C2022 C592 R742 R2080 R798 R799 R715 R743 R728 R729 R800 R801 C560 R658 U88 R680 R659 C577 C578 R599 R744 C565 R716 R681 C606 C583 C586 R837 R838 RN69 RN70 R2064 R682 R683 C561 R765 R766 R646 R1142 C581 R802 R769 R1145 R660 C2014 C2016 C2015 R684 C584 R1148 R1141 R745 R1150 R2079 R1144 R746 R748 R717 C520 C526 R1154 R1147 C566 C535 C536 C537 C538 R622 R803 R647 R648 R649 R623 R1155 R804 R570 R571 C573 C582 R624 R526 R527 R515 R540 R541 R625 R626 C567 C579 R1152 C521 C527 R2011 R2010 R627 R875 R865 R877 R767 R805 R628 R806 R539 R516 R807 C607 C608 C614 C615 C593 R808 R809 R629 R548 R810 R811 R812 R813 CR42 R549 R550 R630 C2017 C2018 C532 R747 R551 C585 R2078 R552 R814 R815 R553 R554 C544 R718 R719 R816 R817 R555 C513 C514 R556 C517 R631 R1153 R557 C626 C518 R558 C616 R559 C552 U90 C617 R661 R650 C618 C533 C568 R663 R662 R651 R636 R1146 R818 R819 R820 R821 C609 RN68 RN67 R822 R823 C515 C539 C569 C545 R824 R825 C528 C529 L15 L16 R2074 R2075 R826 R827 R828 R829 R2073 R2072 R2071 C546 R758 R759 C534 C551 R830 R501 R568 R664 R831 C2013 R704 R705 R832 R833 R502 R665 R569 R2038 R706 R562 R542 R577 R602 R579 R528 R517 R503 F9 F8 R866 R867 R868 KAT4000 C2010 C816 C2009 C817 C710 C2008 C711 C818 C712 C2007 C819 C713 C714 C715 C895 C904 R1091 R1110 R1126 R1106 U101 U100 R1071 CR43 CR44 R1072 R1073 R1074 R1122 R1121 R1075 R1127 C778 R1076 C779 C780 R1077 R1078 C781 C782 C2012 C2011 R1089 R1092 C783 C784 C876 C785 C877 C786 R1084 R1093 R1104 R1105 R1111 R1114 R1123 R1128 R1010 R902 R898 R907 R901 R915 C880 C896 R983 R972 R974 R975 R967 R968 R884 R1005 C693 R933 R1004 C649 R996 R959 R956 R950 R984 R973 R958 R941 R1050 C850 C820 C894 C893 C886 C883 C897 C900 C901 C905 C664 C672 C716 R1029 R1030 R1031 C645 C700 C765 C650 C673 C646 L17 L18 C855 C856 C794 C766 C842 R1032 C740 C838 R1033 R1034 C741 R934 C694 C787 C767 R1035 R1036 R929 R930 C851 C821 R1116 R1115 R1107 R960 C898 C695 C651 R935 R961 R1006 R1012 R1011 R942 R943 C665 C674 R2109 C640 C717 C701 R997 R977 R976 R978 R969 R985 R1007 R1013 R962 R951 R952 R1037 C675 C652 C647 C852 C768 C868 C869 R1038 R1039 R1040 C870 C871 C731 C696 C857 C858 C795 C769 R1041 C839 C843 C848 R2110 R979 R1042 R1043 R2113 C864 C865 C788 C770 C742 R315 R316 R2112 R2116 R1044 R1045 C872 C873 R885 R899 R904 R908 R903 R916 R917 C743 C822 C853 C687 C653 R963 R964 C676 C654 C718 C702 C641 C642 C655 C666 R944 R2122 R2121 R2118 R2117 R986 C688 R998 C844 C845 C846 U95 C752 R987 R999 U96 R988 R1051 R1000 R989 R1001 C849 R1119 R1124 R1120 R1117 R1109 R1108 R1112 R1118 R1130 R1129 C887 C899 C902 R2130 R2129 R2128 R2127 R1066 R1067 C719 C805 C891 L19 C796 C903 C724 R931 R936 R921 R909 R905 R910 R922 R1014 R1008 R1002 R918 R980 R990 C753 C725 R2103 R2102 R2101 R2100 R1113 R1125 C888 R924 R919 R911 R937 R932 R923 R912 R906 R1018 R938 R957 R947 C789 C797 C732 R953 C2004 C832 R1019 C790 R1020 RN71 R2041 R1021 R2091 C823 R1022 R2057 C667 R1023 R2090 C2006 R1052 C679 C726 R2061 C2005 C878 C874 C727 C697 C668 C798 C771 C680 R1053 R2115 R1054 RN72 R2060 C754 C840 C703 C677 C824 C806 C791 R1055 C772 R2111 R1201 C733 C681 C744 R1056 R2114 C704 R1082 R886 C859 R2058 C755 C799 R1015 R887 C808 C773 C734 C735 C834 R888 C800 C705 C643 C728 C756 C825 C774 C847 C689 C801 C826 C835 C792 C757 C745 C729 C706 C730 C720 C736 C746 C678 C802 C836 C885 C690 R1016 C775 C644 C698 R1079 C682 C669 C833 R1200 R889 R890 R891 C747 C809 C828 C721 C722 C699 C707 C737 C860 C829 C776 C748 C683 C803 C758 C670 R2059 R1046 C861 R892 C830 C684 R880 R881 R893 R894 C749 C691 C656 R1098 R1097 R1094 R1090 R1086 R1085 R1083 R1080 C738 R1047 R1048 R1081 C685 C777 C708 C793 C804 C831 C750 C671 C692 R895 R896 C739 C709 R1202 R1203 R1136 R1135 R948 R946 R965 C751 C759 C760 R971 R981 R991 R970 R926 R925 C807 R920 C723 C827 R1140 R1139 R1134 R1133 R1132 R1131 R927 R928 R954 R913 R914 C879 R900 R2099 R2096 C638 R1137 R897 R1138 R878 F10 R1149 R2098 R949 C761 C810 R2097 U91 R1157 C811 C762 R1099 R1100 R1101 R1102 R1003 C763 C812 R966 C686 C657 C628 RN73 RN74 RN75 R1057 RN76 RN77 RN78 C881 C629 C658 R1024 C659 C630 C631 R1017 C660 R939 C627 U97 R1058 R1059 C889 C890 C661 R1025 R1026 U92 R940 C632 R1143 C633 R1060 C634 C662 R1061 C663 C635 R882 C862 C882 C866 U98 C636 C648 C813 C764 R1068 R1069 R1156 R1151 R1087 R2092 M9 R2094 R2095 R2093 R1095 R1049 U99 R992 U93 R1096 C854 R1062 C814 C867 R982 C837 R1027 R1088 R1009 R1063 R993 U94 R1103 R1064 R994 M10 C863 R995 C815 R1065 R1028 C841 C639 C892 C637 R883
KAT4000 using AMC the front that covers the front of the KAT4000 to EMC KAT4000 The (EMC) KAT4000 that includes front assembly from Emerson. where the KAT4000 without front or where the front chassis/enclosure the interference (EMI) shielding to CE EIA-232: off of the CPU through on-board header and to Ethernet off of the CPU through AMC J1-J4: Backplane Connectors: Whether backplane the KAT4000 the PICMG three the backplane: KAT4000 The front shown consists of four single-width, Advanced Card (AMC) (double-width and accommodated), LED, of service LED, informa- tion), and switch. Connectors The KAT4000 as follows: Each of AMC the using B+ AMC J1-J4 to B1-B4 Table assignments). the -48V DC) and the interface covering: and Synchronization clock interfacesJ20 through J24
KAT4000 P10: This the and IPMB to the KAT4000. The P10 four of to the functionality insertion or of the KAT4000. Table the assignments. J20, J23: The (ZD) three of Table and assignments. J30-J32: The (ZD) to optional RTM. tions include AMC Ethernet and other Table and Table assignments. J33: The the and to the the assignments. J2000: This switch header onlya switch assembly (P/N to this Table JP4 (ATCA) the optional Rear Transition (RTM) I/O interconnectJ30 through J33 JP4 JP4 the header the IPMC and Table the headers tion. IPMC_RS232_TX GND IPMC_RS232_RX GND GND FP_CONN_RX GND JP4 FP_CONN_TX GND GND HOST_CONN_RX GND HOST_CONN_TX GND The following KAT4000 the SROM and whether the IPMC with the shelf Table and switch and locations. KAT4000
KAT4000 JumpersJP2 and JP7 JP7 and to the KAT4000 KAT4000 IPMC MD2 -factory onlyused of the IPMC N/A IPMC MD1 -factory onlyused of the IPMC JP2 from from ROM from SROM -CPU SROM -CPU from SROM redirect and The only to from the specified JP7 The board through the executed. JP7 (SA) ATCA the IPMC IPMB-0, then activates/deactivates the board ATCA the IPMC with the to the board
KAT4000 and Switch Top KAT4000
KAT4000 and Switch KAT4000
KAT4000 JTAG Hubs JP1 using the JTAG/COP interface (P1) to CPU JTAG/COP access. Attempting to the JTAG/COP interface without this to the board. to JP1 JP3: The JTAG JP3 header (ISP) The header assignments Table JTAG Interfaces The KAT4000 the JTAG type boundary testing. The IPMC the JTAG interfaces One JTAG connected to the switch and the four AMC The other connected to the Ether- switch, the PCI switch, the the and the tion clock and the location of headers. P1: The JTAG/COP P1 header the This boundary-scan testing and COP of the CPU and with the IEEE The header assignments Table KAT4000
KAT4000 JP1: The JP1 header PLD JP1, the JP3 PLD header. The header assignments Table J35: J35 the IPMC header. Table Table J35 and The (CR2000) and (CR2002) OOS: The Service (CR2003) LED the IPMI (North America) or this LED the KAT4000 the KAT4000 while the LED KAT4000 IPMC_TCK GND IPMC_TRST* GND IPMC_TDO GND J35 IPMC_EMUL_RESI* IPMC_TMS GND IPMC_TDI GND IPMC_RES* GND the on-board Light-Emitting The KAT4000 four front their location. The LED Table The front HS: The LED (CR2001) displays four On-the extracted Off-the operating and Short blink-requesting Reference the PICMG Revision AdvancedTCA Specification LED information.
KAT4000 Top KAT4000
KAT4000 KAT4000
KAT4000 The front switch the board. IPMI: The KAT4000 of remotely the IPMI Software: Software of asserting to the The of the board. RTM: If rear that the the from the RTM. The routed to the PLD. Chapter the The following the KAT4000: KAT4000
KAT4000 KAT4000 KAT4000
KAT4000 This that the If to these instructions to KAT4000 SETUP instructions, the KAT4000 or the KAT4000 the You the following items to and the operation of the Emerson KAT4000: KAT4000 ATCA chassis and supply Compatible AMC Optional and CRT the and or the KAT4000 board should the following information: The board The board appears located the back of the board. The This located near the board The The of the the The operating and This information the Emerson or another or ROM including and It useful to these when the Technical Emerson. KAT4000
KAT4000 Table Typical the KAT4000 off, the RTM. Table Flow KAT4000 The KAT4000 from the the ATCA P10 operating the the to (includ- AMC and optional RTM with 80W and combined of 120W to four and the RTM, used. Optional their from the KAT4000. the boards typical GB DDR2 SDRAM, AMC The the KAT4000 the of the board, including the CPU and amount of memory the board. Please Emerson Technical the boards Considerations with board, that flow to the board Chassis and other factors greatly the The shown and Table Humidity: to Not to board) (non-condensing) to Not to (non-condensing) to Power/Temperature: Flow: with AMC C CFM GB DDR2 SDRAM AMC) The physical of AMC greatly affects flow the to than C
Troubleshooting Cooling function of operating software, AMC and AMC The KAT4000 thermal performance the operating Emerson Technical information. TROUBLESHOOTING instructions to properly and the KAT4000 the KAT4000 or the KAT4000 the If referencing the this seated firmly: the AMC the KAT4000, the RTM the KAT4000 used), and the KAT4000 the the Table the overheating. the and to they supply DC that connected to Technical If with KAT4000, the or to Please the following information KAT4000 from the the KAT4000 and of the operating whether options such as higher or memory If access, please Emerson further or (US) (UK) KAT4000
Troubleshooting KAT4000 Product If to the to Emerson Network service, the or to to Authorization (RMA) to which items and the board purchase and information KAT4000 of ranty. Services warranty If the board, to such as the which originally shipped. to: Emerson Network Computing Services WI RMA Please the RMA the of the efficiently. service without RMA
Processing Unit MPC8548 This chapter of the (optional) the KAT4000. It includes information the CPU, and the I/O assignments. The KAT4000 MPC8548 III information, to the MPC8548E III Integrated Family to of the MPC8548. The MPC8548 as outlined the following MPC8548 Features: Core Core architecture, of and floating-point type, of and completing instructions clock Processing Units translation, memory L1 and instruction cache, eight-way protection L2 eight-way CPU Core or with or DDR2 respectively Ethernet three-speed /half-duplex high-speed of high-speed interface (with and to PCI (LBC) DDR2 SDRAM memory Chip Select (GPCM), and three (UPM) High-Speed Interfaces KAT4000 Section
Processing Unit: MPC8548 KAT4000 The MPC8548 III follows the II MPC8548 features the KAT4000 of the architecture (SMC) UART functionality SCC integrated Ethernet Rate (DDR2) SDRAM memory On-Chip Network switch Enhanced information, reference the from II to III
Processing Unit: MPC8548 Functions MPC8548 FUNCTIONS The MPC8548 the following the KAT4000 UART C DDR2 SDRAM memory I/O (GPIO) Chip the DMA PCI-X interface or three-speed Ethernet MICROPROCESSOR CORE (E500) L1 The MPC8548 (L1) instruction and caches that eight-way, set-associative. The L1 four-state fied/exclusive/shared/invalid (MESI) cache coherency The caches recently (PLRU) algorithms within each L2 The internal L2 cache eight-way instruction and cache. The L2 cache to clock to the L1 caches. The L2 (L2CTL) and operates the L2 SRAM The L2CTL read/write and cleared The L2 cache cleared following or the L2 cache, the L2CR and the L2 dated. the L2 cache the following the of HRESET* that L2CR[L2E] L2 L2CR[L21]. KAT4000
Processing Unit: Core Table PCI and ID L2 (L2CR) L2E L2I L2SIZ L2 L2I0 L2IN L2SRAM DO TDIS L2 L2 LO SLC L2E: L2 L2 cache or memory-mapped SRAM (L2 L2 L2 KAT4000 L2CR[L2I] cleared. the L2 cache and then the L2CR[L2E]. Timer/Counter Each of the four timer/counters selected to as or counter. Each timer/counter with TCLK counter the counter counts to count, and the counts count, to the and to count. Reads from the counter or completed directly from the counter, and writes to the timer/counter PCI and ID Assignment The KAT4000 assigned the following PCI ID: ID: Reported the PCI The KAT4000 the PCI ID to the located the CPLDs L2 (L2CR) L2LF L2LFRID L2STA SHDIS L2I: L2 L2 and LRU cleared Clears L2 and LRU L2STASH
Processing Unit: Core L2SIZ: L2 SRAM the L2 SRAM (read-only). L2DO: L2 memory-mapped SRAM L2 cache instruction fetches that the L2 L2 cache that the L2 L2IO: L2 Instruction Onlycauses L2 cache to instruction cache memory-mapped SRAM L2 allocated that the L2 and L1 castouts L2 cache instruction L2INTDIS: L2 Intervention memory-mapped SRAM intervention intervention L2SRAM: L2 cache/memory-mapped SRAM assignment L2SIZ L2BLKSIZ Block SRAM0 L2SIZ L2LO: L2 cache Overflowsticky when L2 cache memory-mapped SRAM overflow (clear L2LO software) L2SLC: L2 Clearsticky when cache memory-mapped SRAM (clear L2LO software) Not SRAM0 Not SRAM0 SRAM0 SRAM1 KAT4000
Processing Unit: Core L2LFR: L2 cache cache to memory-mapped SRAM L2 cache cleared or the clear completed clears each L2 cache L2LFRID: L2 cache Instruction or whether tion, or both Not L2LFR=1 instruction L2LFR=1 both and instruction L2LFR=1 L2STASHDIS: L2 of L2 L2 L2STASH: L2 Stash of cache stash-only operation. stash-only One-half of the stash-only of the stash-only of the stash-only MPC8548 (HID0) EM CP TB STB EN CLK EMCP: further caused assertion of MCP*. MCP* MCP* KAT4000 The (HID0) features. of these cleared of the KAT4000. Please to the MPC8548 III Integrated Reference of the The following HID0 the MPC8548 DOZ NAP SLP EN_ DCF MAS7 NOP TI
Processing Unit: Core DOZE: NAP: SLP: TBEN: counting) STBCLK: Select Clockfunctions the based the clock based the TBCLK (RTC) input EN_MAS7: MAS7 MAS7 and MAS7 MAS7 DCFA: Assistforces cache to tion. DCFA DCFA NOPTI: the and instruction cache instructions and and treated as R: should cleared. One of the of the (HID1) to the of the PLL_CFG[0:4] The following HID1 the MPC8548 CPU: KAT4000
Processing Unit: and Processing MPC8548 (HID1) PLL_MODE PLL_CFG RFXE AST ABE ME PLL_MODE: Read-only integrated MPC8548 PLL_CFG: This reflected directly from input (read-only). PLL_CFG[0-4] to the ratio and PLL_CFG the ratio of ratio of ratio of ratio of RFXE: whether assertion of Assertion of to assertion of ASTME: Streaming ABE: Broadcast (highest priority): KAT4000 R: should cleared. broadcasting cache and TLB operations broadcasting cache and TLB operations INTERRUPTS AND EXCEPTION PROCESSING The when The MPC8548 three of or type and as the following priority: and (MCSRR0/MCSRR1) when they and instruction to The MSR[ME], these
Processing Unit: and Processing The to to or The and SRR0/SRR1, when they and the instruction to The MSR[EE], these asynchronous The and CSRR0/CSRR1, when they or and the instruction to The MSR[CE], these This includes time-out CPU State (MSR) UCLE SPE WE CE EE PR ME UBLE DE IS PM UCLE: locking the operating cache instruction cache-locking DSI cache-locking DSI SPE: Processing SPE APU Software SPE and SPFP APU instructions WE: Enableallows the to CPU CPU State The State (MSR) the of the MPC8548. On of the KAT4000, of the MSR cleared. Please to the MPC8548 III Integrated Reference of the R: should cleared. CE: input and input and KAT4000
Processing Unit: Interface ME: UBLE: BTB of the BTB instructions of the BTB instructions PM: the Performance MPC8548 Peripheral Priority KAT4000 EE: Enableallows the to input, fixed-interval performance or PR: instructions instructions IS: Instruction CPU instruction fetches to CPU instruction fetches to DS: CPU memory to CPU memory to PERIPHERAL INTERFACE The MPC8548 the peripheral to with its the which the from Priority: Function: Highest the Communication Command (CPCR) or (SRESET*) SDMA Commands issued to the CPCR Emergency (from and IDMA(1-4) option FCC1 FCC1
Processing Unit: MPC8548 Priority: Function: MCC1 MCC2 MCC1 MCC2 FCC2 FCC2 FCC3 FCC3 SCC1 SCC1 SCC2 SCC2 SCC3 SCC3 SCC4 SCC4 IDMA(1-4) (option SMC1 SMC1 SMC2 SMC2 SPI SPI C C RISC IDMA(1-4) (option The of each IDMA independently. MPC8548 PERIPHERAL MODULES Ethernet (TSEC) TSECs incorporate MAC sublayer that and Ethernet information the Ethernet interface. KAT4000
Processing Unit: and Clocking Table MPC8548 Chip Select HRESET*: input completely the MPC8548 and (POR) HRESET_REQ*: internal that HRESET* asserted. This SRESET*: Soft input assertion to the to its READY: Ready the MPC8548 completed the and or or KAT4000 (LBC) The MPC8548 LBC to memory, DSP and ASIC There three Chip Select (GPCM) to asynchronous (UPM) interfaces The Synchronous DRAM (SDRAM) to SDRAM Chip The MPC8548 memory functions as (CS) to board memory the boards which reduced and increased flexibility. the selects the KAT4000 Select: Assignment: or NOR Flash) CS0* CS1* CS2* CS3* CS4* KSL (PLD) CS5* NAND CS6* Ethernet Core Switch CS7* Jumpers PROCESSOR RESET AND CLOCKING SIGNALS The MPC8548 and clocking
Processing Unit: MPC8548 SYSCLK: Clock the clock input to the and the and interfaces that with the RTC: Clock input to the MPC8548. Optionally, to clock the and the MPC8548 PIC MPC8548 IVOR: IVOR0 Caused when MSR[CE]=1 IVOR1 Caused when MSR[ME]=1 IVOR2 Caused of the following (DSI) write cache locking or synchronization IVOR3 Instruction Caused of the following (ISI) or IVOR4 Caused when MSR[EE]=1 IVOR5 Caused when the memory IVOR6 Caused of the following instruction, instruction, or IVOR7 Floating-Point If MSR[FP]=0, the floating and attempting to floating instruction floating IVOR8 Caused the of instruction IVOR10 00A00 Caused when TSR[DIS]=1, TCR[DIE]=1 and MSR[EE]=1 IVOR11 00B00 Caused when TSR[FIS]=1, TCR[FIE]=1 and MSR[EE]=1 IVOR12 00C00 Caused when TSR[WIS]=1, TCR[WIE]=1 and MSR[CE]=1 IVOR13 TLB 00D00 Caused TLB IVOR14 Instruction TLB 00E00 Caused Instruction TLB MPC8548 EXCEPTION HANDLING type of CPU to the The normally the first of RAM (with of or (with of E000,0000 to to or or Table the the MPC8548 and the that them. Address: Notes: KAT4000
Processing Unit: JTAG/COP Interface IVOR: IVOR15 00F00 Caused when the DBSR and when DBCR0[IDM]=1 and MSR[DE]=1 JP1 the JTAG/COP interface (P1) to CPU JTAG/COP access. Attempting to the JTAG/COP interface without this to the board. to Table JP1 JTAG/COP JTAG/COP KAT4000 Address: Notes: (continued) JTAG/COP INTERFACE JTAG/COP header the This interface boundary-scan testing of the CPU and with the IEEE The header assignments
Processing Unit: Table JTAG/COP Assignments (P1) CPU_CKSTP_OUT*: Checkstop Outputwhen asserted, this that the CPU and ceased operation. CPU_TCK: Clock latched the of this CPU_TDI: Inputthis acts as the input instructions and CPU_TDO: Outputthis acts as the instructions and CPU_TMS: Selectthis input the (TAP) DEBUG_HRESET*: Resetthis input that initiated the DEBUG_SRESET*: Soft Resetthis input that the initiate DEBUG_TRST*: Resetthis input the CPU_TDO Not connected CPU_TDI DEBUG_TRST* Not JT_3_ 3V (fused) CPU_TCK Not connected CPU_TMS Not connected DEBUG_SRESET* GND DEBUG_HRESET* Not connected CPU_CKSTP_OUT* GND NO PROCESSOR CONFIGURATION If the KAT4000, the Ethernet switch and switch (optional) internal to each switch. Cus- tom of the switch through of interfaces each switch. A information. KAT4000
KAT4000
Common Switch Network The KAT4000 interfaces. This chapter the Ethernet switch, switch Ethernet and PCI switch. The board (BAN) to the routing of the Ethernet using the VSC7376 Ether- switch or the using the PEX PCI switch. The Ethernet switch the the switch the Ethernet the AMC the the ATCA backplane and the (optional) The PCI switch the the AMC the and the switch Both switches optional, however least of the the board. The board both switches. KAT4000 Section
Common Switch Ethernet Core Switch (optional) information the switch this Please to the KAT4000 ETHERNET CORE SWITCH (OPTIONAL) The optional VSC7376 switch switch with SGMII Ethernet and The switch the following: SGMII Ethernet connected from the switch to the ATCA backplane (PICMG Ethernet routed the and the switch to Ethernet routed each AMC and the switch (AMC.2) One Ethernet routed the switch and the switch (AMC.2) Ethernet connected from the switch to the interface J20 the backplane (optional) Ethernet routed the switch and of the switch switching of features implemented: quality-of-service and to these include Network (VLAN) with the to the field. The and of the switch the the the on-chip and of the switch. IEEE 802.1Q and port-based IEEE 802.1D tree and IEEE 802.3AD of the switch. information, reference the G26 Ethernet Switch, VSC7376
Common Switch Ethernet Core Switch (optional) VSC7376 Switch Switch The to the Ethernet switch and the switch (reads and writes directly to the On the from and the initialized. To the switch, the KAT4000 the KAT4000 Ethernet switch or the KAT4000 the High-Speed Path The KAT4000 of high-speed and of the and from the performance. include strength, and The of Emerson and should that off the to AMC the backplane), the of both of the and them to specifications and performance. KAT4000
Common Switch Ethernet Core Switch (optional) On-board Emerson. these on-board information function or this Please the PHY or switch directly KAT4000 and information function or this Please the switch directly Ethernet Core Switch Off-Board KAT4000 On-Board Path the KAT4000 and their respective PHY: Address: 1/TSEC2 2/TSEC3 TSEC2 (from CPU to Ethernet switch) TSEC3 (from CPU to switch) The Ethernet switch the following on-board and The Ethernet switch the switch on-board Off-Board Path off-board with the switch_reg or commands. or switch_reg Table shows the Ethernet switch off-board Destination: AMC1-4
Common Switch Ethernet the KAT4000 Table Ethernet Switch Off-Board shows the Ethernet switch off-board Destination: AMC1 AMC2 AMC3 AMC4 Ethernet The 88E1111 Ethernet to interface the and the Ethernet switch They to switch to the and interfaces. The 88E1111 10/100/1000BASE-T IEEE The Broadcom BCM5241 10/100BASE-TX/FX physical interface to the Ethernet MAC The BCM5241 with the IEEE ETHERNET ADDRESS FOR THE KAT4000 The board and The consists of Access The that assigned to Communication Products IEEE. The of each of products. The Ethernet the KAT4000 referenced as with each representing The assigned to the KAT4000 the following F9 F9 The three of the Ethernet the the Ethernet memory (NVRAM). The KAT4000 assigned the Ethernet 00:80:F9:92:00:00 to 00:80:F9:95:FF:FF. The shown Table KAT4000
Common Switch Ethernet the Table Ethernet KAT4000 MAC: LSB of MSB of to IEEE F9 The of to the following where the assigned to each board. the of KAT4000 the (74B Therefore, the boards Ether- 00:80:F9:93:07:4B. The assigned as follows: eTSEC1Ethernet eTSEC2Ethernet switch, switch, and switch ETHERNET ADDRESS FOR THE GBE FAT PIPE SWITCH MODULE The switch assigned the Ethernet 00:80:F9:06:C0:00 to 00:80:F9:06:FF:FF. The the as Ethernet the KAT4000. Ethernet (Hex):
Common Switch PCI Switch (optional) The ID the PEX switch reads the PEX and PEX the information the switch this Please to the PLX PCI EXPRESS SWITCH (OPTIONAL) The optional PLX Inc. PEX PCI switch PCI and to The switch the following: One connected from each AMC to the switch (AMC.0 and AMC.1) One connected from the to the switch or connected from the switch to the switch with these four or of the switch PCI interface PCI and and to or to or (L0, L1, L2/L3 Ready and L3) and (D0 and EEPROM interface JTAG boundary interface with PCI and PCI information, reference the PEX PCI Switches KAT4000
Common Switch PCI Switch (optional) PEX The PCI Station and Downstream the from stations combined to KAT4000 PCI Interface The stations the PCI Physical, and Transaction layers. Each PCI to to integrated which PCI interface These to to four PCI station. The PEX stations (Station and Station connected Switch From the each PCI PCI-to-PCI and its of PCI One of the the (or PCI Through of the the the other PCI meration.
Common Switch PCI Switch (optional) PEX SPI EEPROM Interface PEX JTAG EEPROM Interface The PEX SPI EEPROM This interface the clock (EE_SK), (EE_CS*), and (EE_DO) the EEPROM; and input (EE_DI) from the EEPROM. JTAG Interface The PEX JTAG interface that with IEEE and Boundary-Scan The JTAG interface consists of the following JTAG_ TCK clock This the clock the PEX Access (TAP) and from to JTAG_ TDI input This to the TAP. JTAG_ TDO This from the TAP. JTAG_ TMS The TAP the TMS to the TAP JTAG_ TRST* This JTAG and the TAP. It should or the PEX to function properly. KAT4000
KAT4000
Switch The and The switch that high-speed the AMC the ATCA high-speed the and the Ethernet switch or the switch the KAT4000. There four of the switch and switch connected from each AMC to the switch of interchangeably or connected from the backplane high-speed to the switch from the switch to (optional) RTM The and One from the MPC8548 to the switch One from the Ethernet switch to the switch The One or four from the MPC8548 to the switch KAT4000 Section
Switch Switch AMC This such as It amounts of without significantly the of Routing of the Switch the KAT4000 KAT4000 GBE FAT PIPE SWITCH MODULE shows the switch to the AMC.0 the This to the of the (the of that to The following shows the of the switch the KAT4000:
Switch Switch Switch Block The following the switch KAT4000
Switch Switch Switch Top Switch KAT4000 Switch The following the the switch board. J1 R1 R6 R5 R4 R7 C4 C8 R12 R11 R14 R15 R20 R19 R22 R28 R16 C12 U3 PLD U2 R21 R23 R27 R30 R29 R32 R31 R33 C18 R34 R35 R37 R38 R39 EEPROM U4 KAT4000) U6 Switch SRAM R48 R47 U7 KAT4000) C38 C52 R82 C54 C53 C55 C56 C61 C63 C64 R84 C69 C76 C77 C83 C84 C92 C93 C99 C101 C100 C102 C107 C108 C123 C115 C122 C133 C134 C141 C142 C147 C159 C162 C163 C164 C161 C165 R117 R116 R119 R118 R113 R114 R115 YYYYYY XXXX- C1 R17 U5 VSC7376 Switch R36 C21 C22 C23 L2 R50 R55 R53 R54 R57 R56 R58 R59 R60 R61 R64 R65 R63 R62 R69 R68 R66 R67 R73 R72 R71 R70 J2 C24 C31 C32 C28 C27 C37 C34 C48 C33 C25 C26 C30 C29 C36 C50 C35 C41 C42 C51 C47 C46 C45 C40 C39 C49 C44 C43 R83 C62 C60 C59 C57 C66 C58 C68 C65 C71 C67 C73 C75 C74 C109 C124 C145 C80 C81 C72 C79 C70 C78 C82 R85 C87 C94 C88 C97 C90 C91 C89 C105 C98 C95 C103 C96 C104 C111 C106 C112 C110 C118 C125 C132 C138 C146 C117 C116 C119 C120 C114 C121 C128 C129 C131 C127 C130 C139 C137 C140 C136 C135 C144 C143 C148 C151 C150 C149 C156 C152 C155 C153 C154 C158 C160 R98 R101 R100 R99 R102 R103 R104 R108 R107 R105 R109 R147 R110 R112 R111 R106 R127 R128 R129 R130 R166 R165 R164 R163 R162 R161 R160 R159 R149 R141 R143 R144 R142 R145 R146 R133 R134 R135 R136 R138 R137 R139 R140 R155 R156 R157 R158 C3 Y1 C2 R2 R3 C7 C6 C5 R10 C9 R9 R8 R13 C11 U1 C14 C10 R18 C13 R25 R24 R26 L1 C17 C19 C20 C15 C16 CR1 R40 R41 R42 R44 R43 R46 R45 R49 R52 R51 R77 R76 R75 R74 R80 R79 R78 R81 CR5 CR4 CR3 CR2 C85 C86 R87 C11 R86 C12 R88 R90 R89 R93 R92 R96 R91 R95 R94 C157 R97 00001234-00-AA R126 R154 R125 R124 R123 R122 R121 R120 R131 R132 C166 R153 R148 R151 R152 R150
Switch Switch VSC7376, Switch: PLD: The PLD the interface the and the VSC7376 interface. It information, Switch PLD. C SROM EEPROM: The EEPROM to VSC7376 information. Flash: with the KAT4000 board.) The asynchronous to the VSC7376 switch. SRAM Memory: only with the KAT4000 board.) The SRAM the on-board VSC7376 firmware. JTAG: allow the JTAG to the switch. Switch JTAG CR2-4 and CR5 (red) the of the the firmware. High-Speed Connectors: and The following summary of the switch and features: The VSC7376 switch switch with SGMII Ethernet and integrated interfaces. It located from FC16,0000-FC17,FFFF. This type of switch the KAT4000 board. information about the VSC7376, Ethernet Core Switch (optional) The switch To the switch, the KAT4000 KAT4000
Switch Switch of the switch shown Switch Table PLD KAT4000 J1 high-speed that interface to the four AMC the Ethernet switch and 88E1111 PHY. J2 high-speed that interface to the RTM clock, PLD, and and Switch PLD The PLD to interface to the VSC7376 Ethernet switch and located from FC14,0000-FC15,FFFF. of the PLD the CPU when the built-in the VSC7376 switch. The PLD the Table the PLD the Access PIDV Product R/W SCR Scratch C C R/W R/W SDET R/W SRST Switch STAT R/W GPIO Switch GPIO R/W GPLED GPIN/LED Product The read-only Product the type, PLD and The of these the PLD.
Switch Switch Product (PIDV) PID3PID0: Product ID other PVER1, PVER0: PLD Revision HVER1, HVER0: Revision Scratch (SCR) SCR7SCR0: Scratch I2C (I2C) SDA: SDA the C C (pulled high externally) PID3 PID2 PID1 PID0 PVER1 PVER0 HVER1 HVER0 Scratch The Scratch software reads and writes. Accessing this operations. SCR7 SCR6 SCR5 SCR4 SCR3 SCR2 SCR1 SCR0 C The C operations the C SDA SCL ADD1 ADD0 R: KAT4000
Switch Switch SCL: SCL the C clock C clock (pulled high externally) ADD1, ADD0: C these to C ROM (SDET) SDET7SDET0: State externally pulled high Switch (SRST) SRST: Switch Switch Switch Software that the switch the amount of as the VSC7376 Ethernet switch KAT4000 The the the VSC7376 Ethernet switch. SDET7 SDET6 SDET5 SDET4 SDET3 SDET2 SDET1 SDET0 Switch The Switch allows software of to the VSC7376 Ethernet switch. R: The read-only information relating to the such as supply switch and switch SRST
Switch Switch (STAT) CPU: Switch interface S2V5: 2.5V supply of supply within S1V2: 1.2V supply of supply within INT1, INT0: Switch Switch GPIO (GPIO) GPIO7GPIO0: GPIO State high the internal as they other tions. The PLD these CPU S2V5 S1V2 INT1 INT0 R: Switch GPIO The Switch GPIO the GPIO the VSC7376 Ethernet switch. GPIO7 GPIO6 GPIO5 GPIO4 GPIO3 GPIO2 GPIO1 GPIO0 GPIN/LED The GPIN/LED to the PLD from the There four which software KAT4000
Switch Switch GPIN/LED (GPLED) GPIO2GPIO0: from VSC7376 RSVD: LED3LED0: LED State On KAT4000 GPIO2 GPIO1 GPIO0 RSVD LED3 LED2 LED1 LED0
Switch Switch AMC This such as It amounts of without the of Routing of the Switch the KAT4000 GBE-1 GBE FAT PIPE SWITCH MODULE shows the switch to the AMC.0 the This to the of the (the of that to The following shows the of the switch the KAT4000: KAT4000
Switch Switch Switch KAT4000 The following functional the switch
Switch Switch Switch Top Switch Switch The following the the switch board. J1 R84 R227 R214 R232 R231 CR9 R184 R213 R28 U5 PEX8111 to PCI CR6 R187 CR8 R212 R194 R235 R236 R180 R186 C12 C127 C18 C142 C455 U4 C432 C429 C431 R19 R20 R200 U9 U2 PLD R204 R224 C3 R174 R2 C56 R29 C29 Y7 U12 Y1 R210R233 C27 C28 R37 R209 R30 C462 C463 R31 Y2 00001234-00-AA R33 L7 R23 R179 R183 R198 R185 R173 R172 C294 C487 C295 R171 C292 C296 C291 C304 C173 C175 C297 C293 L18 C317 C212 C469 C299 C488 C158 C321 C307 C289 C319 C306 C305 C312 C210 C300 C227 C185 C163 C303 C302 C191 C233 C290 C475 C301 C280 C232 C26 C25 C22 C21 C298 C283 L10 C278 C236 C478 L21 C285 L22 L13 C2 L11 C1 C427 C424 C411 C410 C409 C408 C407 C406 C405 C404 C32 C31 R52 R203 R81 C24 JTAG J3 U13 C151 C252 C261 C174 C338 C170 C217 C166 C249 U8 BCM56580 Switch L9 C146 C145 C164 C214 L4 L8 C246 C269 L12 L16 C160 C242 C274 L20 L3 J2 C8 R192 C457 R191 R142 R141 R32 R202 R34 L15 L17 L2 L6 C375 C372 C373 C374 C153 C377 C376 C382 C383 C178 C177 C152 C453 C434 C385 C384 C380 C381 C179 C250 C226 C449 C215 C482 C440 C378 C379 L5 L14 C442 C387 C386 C287 C262 C251 C221 C218 C448 C491 C361 C360 C363 C362 C181 C154 C438 C446 C470 C367 C366 C364 C365 C370 C371 C258 C229 C228 C219 C169 C451 C216 C433 C155 C171 C224 C445 C369 C368 C211 C484 C332 C328 C325 C323 C318 C311 C213 C182 C439 C437 C167 C466 C259 C206 C481 C335 C330 C315 C310 C309 C480 C248 C485 C220 C156 L23 C430 C486 C489 C490 R217 R216 C247 C331 C264 C157 C187 C165 C193 R189 C329 R188 C326 C314 C265 C207 C205 U3 C464 C322 C223 R234 C188 C334 C333 C230 C327 C324 R190 C194 C344 C345 C320 C308 C347 C346 C180 C471 C199 C316 C313 C282 C273 C201 C222 C428 C465 C395 C394 R197 R201 C277 C392 C393 C200 C208 C472 C162 C113 C403 C402 C474 C477 C400 C401 C255 C254 C245 C186 C184 C198 C189 CR3 CR4 CR5 C396 C397 C268 R36 C479 C468 C399 C398 C275 C240 C183 C473 C476 C237 C467 C190 R7 R6 C391 C390 C388 C389 C202 C126 C270 C244 C241 C4 C353 C350 C352 C351 C196 C197 C356 C357 C359 C358 R88 C267 C192 C272 C204 C203 C483 C86 C253 C355 C354 R39 R38 R35 C144 C143 C340 C341 C343 C342 C426 C425 C423 C422 C421 C420 C419 C418 C417 C416 C415 C414 C413 C412 C349 C348 L19 R136 R135 R134 R133 R98 R87 R158 R156 R155 R149 R147 R140 R139 R138 R137 R122 R121 R120 KAT4000 C131 C459 C130 C139 C17 C129 R21 C141 R165 R161 U6 C133 C132 R163 R162 C135 C136 C137 C138 C140 C336 L24 C16 C15 C23 C266 C20 L1 C19 R26 R25 R24 C13 R18 U1 R164 C14 C134 C10 R13 R206 C339 C337 C11 R10 R166 R9 C5 C9 C458 C7 C6 CR7 C234 CR1 C279 C284 CR10 C238 C256 R225 R226 R181 C452 R182 R230 C447C435 C492 R215 R223 C454 C441 C436 C444 C450 R16 R17 J4 J5 R11 R22 C128 C443 R12 R14 R15 R218 R195 R27 R205 R199 C493 R196 R211 R3 R8 C456 CR2 R228 R229 R5 R4 C85 R1 XXXX- YYYYYY C461 C460 R170 R169 R168 R167 R208 R207 R175
Switch Switch BCM56580 Switch: BCM56580 Switch KAT4000 and The following summary of the switch and features: The BCM56580 and switch with and four The switch integrated XAUI the to the ATCA and each to the AMC complying with the CX-4 and PICMG Table the switchs when the the KAT4000. information about this switch, reference the BCM56580 Switch with www.broadcom.com. Switch XG1 (FC1) XG2 (FC2) XG3 XG4 CPU or Core Switch, build-time option only) GE1 AMC GE2 AMC GE3 AMC GE4 AMC GE5 AMC GE6 AMC GE7 AMC GE8 AMC GE9 AMC GE10 AMC GE11 AMC GE12 AMC GE13 AMC GE14 AMC GE15 AMC GE16 AMC
Switch Switch PEX to PCI Bridge: PLD: The PLD the interface the the BCM56580 switch, and the PEX to PCI It information, Switch PLD. SPI SROM EEPROM: The EEPROM to PEX information. JTAG: allows the JTAG to the switch and/or the PEX Switch JTAG CR2 and CR3-5 (red) the of the board the firmware. High-Speed Connectors: of the switch shown The BCM56580 switch the from the MPC8548 the PEX8111 The to PCI and the and PCI The PCI with throughput of MB/sec and The PEX with the PCI Specification the PCI to PCI Bridge the PCI Specification and the PCI to PCI/PCI-X Bridge Specification information about this reference the PEX PCI to PCI Bridge tech.com. J1 high-speed that interface to the four AMC the BCM56580 switch, and the PEX to PCI J2 high-speed tor that interface to the RTM PLD, the C to the and and J4 and J5 PMC that to PCI only. KAT4000
Switch Switch Switch Table PLD Product (PIDV) KAT4000 Switch PLD The PLD to interface to the BCM56580 switch. Table the PLD the Access PIDV Product R/W SCR Scratch C R/W I2C R/W SRST Switch STAT R/W GPIO Switch GPIO R/W GPLED GPIN/LED Product The read-only Product the type, PLD and The of these the PLD. PID3 PID2 PID1 PID0 PVER1 PVER0 HVER1 HVER0
Switch Switch PID3PID0: Product ID other PVER1, PVER0: PLD Revision HVER1, HVER0: Revision Scratch (SCR) SCR7SCR0: Scratch I2C (I2C) SDAS: SDA State This read-only the of the C SDA SCLS: SCL State This read-only the of the C SCL SDAC: SDA the C C high externally) Scratch The Scratch software reads and writes. Accessing this operations. SCR7 SCR6 SCR5 SCR4 SCR3 SCR2 SCR1 SCR0 C The C operations the C SDAS SCLS SDAC SCLC ADD1 ADD0 R: KAT4000
Switch Switch SCLC: SCL the C clock C clock (pulled high externally) ADD1, ADD0: C these to the switch Switch (SRST) EE_WP: PCI Bridge EEPROM Protect Writing to EEPROM Writing to EEPROM JTAG_EN: Switch JTAG JTAG switch Switch CMIC_TAP_CONTROL JTAG of the switch PCI or C. this cleared, the PLD and PCI JTAG. JTAG switch operation RESET: Switch Switch Switch KAT4000 This read-only R: Switch The Switch allows software of to the BCM56580 Ethernet switch. EE_WP JTAG_EN RESET R:
Switch Switch Software that the switch the amount of as the Ether- switch (STAT) S3V3: 3.3V supply of supply within S2V5: 2.5V supply of supply within S1V2: 1.0V supply of supply within Switch GPIO (GPIO) DIR3DIR0: GPIO Direction The read-only information relating to the such as supply switch and switch S3V3 S2V5 S1V0 R: Switch GPIO The Switch GPIO the GPIO the PLX8111 to the PCI DIR3 DIR2 DIR1 DIR0 GPIO3 GPIO2 GPIO1 GPIO0 reflects the of the GPIO The GPIO State becomes read-only. the GPIO to the of the KAT4000
Switch Switch GPIO3GPIO0: GPIO State high GPIN/LED (GPLED) GPIO2GPIO0: LEDCTRL: LED LED3 PCI LED2 3.3V supply LED1 2.5V supply LED0 1.0V supply LED3LED0: LED State On KAT4000 GPIN/LED The GPIN/LED to the PLD from the There four which software GPIO2 GPIO1 GPIO0 LEDCTRL LED3 LED2 LED1 LED0
Switch Switch This switch option currently AMC This such as It amounts of without significantly the of Routing of the Switch the KAT4000 GBE-10 GBE FAT PIPE SWITCH MODULE shows the switch to the AMC.0 the This to the of the (the of that to The following shows the of the switch the KAT4000: KAT4000
Switch Switch This switch option currently AMC This such as It amounts of without the of This to the of the (the of that to Routing of the Switch the KAT4000 KAT4000 SRIO FAT PIPE SWITCH MODULE shows the switch to the AMC.0 specification; the The following shows the of the switch the KAT4000:
Memory Memory The KAT4000 includes the following memory of NOR MB and of KB) to of DDR2 Synchronous DRAM (SDRAM) to of NAND of EEPROM memory BOOT MEMORY CONFIGURATION The KAT4000 the ROM which the physical FC80,0000. the JP7, the as the of FC40,0018 the selection. Function: JP7 Selects ROM ROM USER FLASH The KAT4000 three and NOR. The KAT4000 from and selected JP7 the location E000,0000 with the of the of NOR MB each memory One of PLCC includes to The interface to the of the the the as D[0:63], where D0 the and D63 the least The interface to NOR memory which to the If booting from Flash, the initially of memory FFF0,0000 the top of the the PLCC appears FC80,0000 (and FFF0,0000 when the the KAT4000 Section
Memory On-Card SDRAM PLCC specifically that the PLCC KAT4000 The KAT4000 This the to properly. The and from the as as IPMI. The the MPC8548 to the ON-CARD SDRAM The KAT4000 and of DDR2 SDRAM. This interface to the of Error-Correcting (ECC). ECC The SDRAM interface clock memory (SO-DIMM) to reduce and routing C EEPROM the SO- DIMM the (SPD). SDRAM physical from to 3FFF,FFFF to the SDRAM the DRAM-related and the following performance features: Supports SDRAM to the SDRAM and to to Supports Error-Correcting (ECC) and (RMW) the of writes than to DRAM ECC correction and NAND FLASH The KAT4000 MB or GB of DiskOnChip NAND Flash, FC00,0000, RAM and (TFFS). The DiskOnChip incorporates and memory, and features protection and security-enabling features, (XIP) functionality access, One (OTP) and Detection Correction (EDC/ECC).
Memory NVRAM NVRAM Memory EEPROM (write protected) Table Table NVRAM Memory EEPROM NVRAM ALLOCATION The KAT4000 C information such as board, and operating as as information to Emerson-specific the of each The of each the and Table the of within the (bytes): secondary EEPROM write protected to The the secondary to The operating VxWorks (bytes): Emerson (POST) The Emerson Emerson internal only software and KAT4000
KAT4000
CPLD PLD to and the (CPLD) the interface board revision, selection, and the The CPLD (ISP). JTAG interface the IPMC and connected to the CPLD. The board remotely the IPMI Software assert PLD REGISTER SUMMARY The PLD FC40,0000 Table the PLD the PIDR Product ID HVR PVR PLD PLLC PLL HCR0 JSR LEDR LED RER RCR1 Command RCR2 Command SCR1 Scratch BDRR Redirection MISC MISC RGSR RTM GPIO State RGCR RTM GPIO CSC1 Clock CSC2 Clock CSC3 Clock CPS1 Clock Source CPS2 Clock Source CPS3 Clock Source KAT4000 Section
CPLD: and ID Product ID (PIDR) KAT4000 CSS1 Clock Secondary Source CSS2 Clock Secondary Source CSS3 Clock Secondary Source CCR1 Clock AMC1 CLK1 CCR2 Clock AMC1 CLK2 CCR3 Clock AMC1 CLK3 CCR4 Clock AMC2 CLK1 CCR5 Clock AMC2 CLK2 CCR6 Clock AMC2 CLK3 CCR7 Clock AMC3 CLK1 CCR8 Clock AMC3 CLK2 CCR9 Clock AMC3 CLK3 CCR10 Clock AMC4 CLK1 CCR11 Clock AMC4 CLK2 CCR12 Clock AMC4 CLK3 CCR13 Clock CLK3 CCR14 Clock CLK3 CSI1 Clock CSI2 Clock CSI3 Clock VERSION AND ID REGISTERS Product ID (PIDR) The read-only Product ID the and The of these resistors. shown the bot- of the PID1 PID0 ECS PCIE
CPLD: and ID PID1, PID0: PID Select KAT4000 ECS: Ethernet Core Switch Core Switch Ethernet Core Switch PCIE: PCI Switch PCI Switch PCI Switch (HVR) HVR1, HVR0: This hard-coded the PLD and with PCB PLD (PVR) PCV7-0: PLD This the PLD and with R: (HVR) The read-only artwork and of other to the The of these resistors. HVR1 HVR0 R: PLD (PVR) The read-only PLD tracking that with each CPLD release. PCV7 PCV6 PCV5 PCV4 PCV3 PCV2 PCV1 PCV0 KAT4000
CPLD: (HCR0) BDR: BDR redirect redirect CF1, CF0, DDRF: CCB and Core PLL (PLLC) KAT4000 CONFIGURATION REGISTERS (HCR0) The read-only of the The of these resistors. BDR CF1 CF0 DDRF R: CCB: PLL (PLLC) The PLL PLL the MPC8548 The of these resistors. The software. CORE2 CORE1 CORE0 SYS3 SYS2 SYS1 SYS0 R:
CPLD: CORE2-0: Core CCB PLL Ratio SYS3-0: CCB PLL Ratio others LED (LEDR) CPUR: CPU LED On CPUG: CPU LED On MISCELLANEOUS REGISTERS LED (LEDR) The KAT4000 light-emitting (LED) and software Section LED location and The LED the the the LED. the shown the of the CPUR CPUG LDM DBG3 DBG2 DBG1 DBG0 R: KAT4000
CPLD: LDM: LED the four allowing software to them off/on individually. they and to internal/external DBG3-0: On (JSR) PRB: State IROM: SROM SROM SROM BFS: From from from NOR TID3-0: Transition ID RTM GPIO State (RGSR) KAT4000 (JSR) The read-only PRB IROM BFS TID3 TID2 TID1 TID0 R: RTM GPIO State (RGSR) The read-only RTM GPIO State reads the of the GPIO to/from the RTM. RIO7 RIO6 RIO5 RIO4 RIO3 RIO2 RIO1 RIO0
CPLD: RIO7-0: the the RTM GPIO (RGCR) RGC7-0: the the GPIO pulled high the GPIO MISC (MISC) PCIE: Complex Not the SRWP1: ROM Protect protected Not write protected SRWP0: ROM Protect protected Not write protected RTM GPIO (RGCR) The RTM GPIO GPIO the and the Rear tion (RTM). The GPIO the the RTM the GPIO to shown the of the RGC7 RGC6 RGC5 RGC4 RGC3 RGC2 RGC1 RGC0 MISC (MISC) The MISC of the SIO, C, Clock). shown the of the PCIE SRWP1 SRWP0 FWP1 FWP0 NFWP SDA SCL KAT4000
CPLD: and FWP1: Protect Not write protected protected FWP0: Protect Not write protected protected NFWP: NAND Protect protected Not write protected SDA: C SDA State the SCL: C SCL State the Scratch (SCR1) SCR7-0: Scratch KAT4000 Scratch (SCR1) Scratch as reading/writing shown the of the SCR7 SCR6 SCR5 SCR4 SCR3 SCR2 SCR1 SCR0 BOOT AND RESET REGISTERS The routed to and distributed the CPLD. To this functionality, the CPLD includes three the reason the and the other force of of (RER) The read-only the to the which caused If the On (POR)
CPLD: and (RER) SHR: Software The caused write to the Command WE: caused the of the COPS: MPC8548 COP Soft COP header (SRESET) occurred COPH: MPC8548 COP COP header (HRESET) occurred PAYR: IPMC occurred PBR: The switch (POR_RST) caused Command (RCR1) CPUH: CPU SHR WE COPS COPH PAYR PBR R: Command (RCR1) Command and force of of as shown below. initiated writing to then the cleared. this If when clock of To this, the from or The to the clock Software least these shown the of the CPUH CSR1 CSR2 CSR3 PCIE I2C FSHR CER KAT4000
CPLD: and CSR1: Clock CSR2: Clock CSR3: Clock PCIE: PCI I2C: C FSHR: NOR NOR to known CER: Core Ethernet Command (RCR2) FPR: KAT4000 Command (RCR2) this If when clock of To this, the from or The to the clock Software least these shown the of the FPR DER BCR NFR
CPLD: and DER: Ethernet BCR: Ethernet NFR: NAND R: Redirection (BDRR) The read-only Redirection which of the three the CPU as the The BDRR which as the The Redirected BRB[7], when the match the This that the the the expired, and the tried. The redirect or KAT4000
CPLD: and Redirection Redirection (BDRR) BRB: Redirected BSJ: from Active flash. SKT: The board booted from flash. FL1: The board booted from FL0: The board booted from KAT4000 BRB BSJ SKT FL1 FL0 The match the R:
CPLD: Clock Clock (CSC1-CSC3) respectively FS2, FS1: MS2, MS1: Select Normal PCCI: Phase Continuity and Normal Please to Chapter further RSEL: Reference Secondary Clock Clock CLOCK SYNCHRONIZER REGISTERS Clock (CSC1CSC3) The Clock the functionality of the clock and and FS2 FS1 MS2 MS1 PCCI RSEL shown the following CSC2 and CSC3 shown the following R: KAT4000
CPLD: Clock Clock Source (CPS1-CPS3) respectively PRI4-0: Source Selection KAT4000 Clock Source (CPS1CPS3) The Clock Source the input to the three clock and PRI4 PRI3 PRI2 PRI1 PRI0 CPS1 shown the following CPS2 shown the following CPS3 shown the following R: Source: aTCA CLK1 CLK1 CLK2 CLK2 CLK3 CLK3 AMC1 CLK1 AMC1 CLK2 AMC1 CLK3 AMC2 CLK1 AMC2 CLK2 AMC2 CLK3 AMC3 CLK1
CPLD: Clock Clock Secondary Source (CSS1-CSS3) respectively SEC4-0: Secondary Source Selection Source: AMC3 CLK2 AMC3 CLK3 AMC4 CLK1 AMC4 CLK2 AMC4 CLK3 Clock Secondary Source (CSS1CSS3) The Clock Secondary Source the input secondary to the three clock and SEC4 SEC3 SEC2 SEC1 SEC0 CSS1 shown the following CSS2 shown the following CSS3 shown the following R: Source: CLK1 CLK1 CLK2 KAT4000
CPLD: Clock KAT4000 Source: CLK2 CLK3 CLK3 AMC1 CLK1 AMC1 CLK2 AMC1 CLK3 AMC2 CLK1 AMC2 CLK2 AMC2 CLK3 AMC3 CLK1 AMC3 CLK2 AMC3 CLK3 AMC4 CLK1 AMC4 CLK2 AMC4 CLK3
CPLD: Clock Clock (CCR1-CCR14) respectively CSS4-0: Clock Source Select of clock to to If selected as Clock (CCR1CCR14) The Clock the clock to the clock shown the of the OE CSS4 CSS3 CSS2 CSS1 CSS0 OE: Clock clock to selected clock to R: Clock Source: AMC1 CLK1 AMC1 CLK2 AMC1 CLK3 AMC2 CLK1 AMC2 CLK2 AMC2 CLK3 AMC3 CLK1 AMC3 CLK2 AMC3 CLK3 AMC4 CLK1 AMC4 CLK2 AMC4 CLK3 aTCA CLK1 CLK1 CLK2 CLK2 CLK3 KAT4000
CPLD: Clock This the PLD based off clocks. Therefore, the this clock to active. Clock (CSI1-CSI3) respectively HM, PM: and PLL (read/write) from to CPU to to CPU affected HIC, PIC: and PLL Clear (write-only) the clears KAT4000 Clock Source: CLK3 Clock (CSI1-CSI3) The Clock the clock three shown the of the HM PM HIC PIC HPI PPI HS PS
CPLD: JTAG Interface HPI, PPI: and PLL (read-only) latched latched HS, PS: and PLL (read-only) Indicates Indicates PLL Table JP3 PLD JTAG Assignments JTAG INTERFACE The KAT4000 JTAG header (JP3) of board as as AMC The header assignments Clock (TCK) ground (TDO) VCC Select (TMS) connected connected connected (TDI) ground KAT4000
CPLD: JTAG Interface PLD JTAG Table JP1 Assignments KAT4000 JP1 the header PLD JP1, the JP3 PLD header. The header assignments TRANS: header CPU JTAG/COP access) LSBSEL0: Select KSL PLD LSBSEL1: Select AMC LSBSEL5: Select LSBSEL6: Select IPMC PLD
AMC using AMC the front that covers the front of the KAT4000 to EMC PICMG AMC.0 Advanced Card Specification the allowable height and PCB AMC specifically the KAT4000. Ports: These TTL The KAT4000 the from the AMC directly to the Ethernet Ports: PCI Ports: (Optional) The KAT4000 from each AMC the PCI switch (PEX or Ports: I/O: The AMC the I/O connectivity. The KAT4000 the user I/O from the AMC directly to the IPMB-L: The IPMB interfaces the IPMC and the AMC MMC. The KAT4000 four Advanced Card (AMC) of the following AMC factors: or double-width; or of the AMC including optional RTMs, B+ AMC nectors used. individually The following features AMC interfaces: The KAT4000 to Ethernet from each AMC the Ethernet switch (VSC7376). The KAT4000 four from each AMC the switch (optional) of using or KAT4000 Section
AMC AMC Connectors AMC B+ Connector AMCn_RXD/TXDn+/-: from AMC B1-B4 to the switch from AMC to ENABLE This to the IPMC PLD and the MMC the board. from AMC to to or PCI to the IPMC PLD BMR H8S Optional to B3 B4 B1 and B1 respectively. Optional to B4 B3 B2 B2 tively. and to KAT4000 AMC CONNECTORS The B1 through B4 and the Ethernet switch, the PCI Switch, the Switch and to the the location and of the AMC B+ the KAT4000. AMC SIGNALS The following four bi-directional stated otherwise. tristate high clock The the each they B1 through B4.
AMC AMC and to CLK1+/-: CLOCK to the AMC synchronization clock CLK2+/-: CLOCK to the AMC synchronization clock Optional to B3 (B1), B4 (B2), B1 (B3) and B2 (B4), respectively. PCI interface or input Optional to B3 (B1), B4 (B2), B1 (B3) and B2 (B4), respectively. Optional to B3 (B1), B4 (B2), B1 (B3) and B2 (B4), respectively. Optional to B3 (B1), B4 (B2), B1 (B3) and B2 (B4), respectively. Ethernet to Ethernet switch and tively. CLOCK to the PCI clock. SERIAL C CLOCK To IPMC C SERIAL C DATA/ADDRESS To IPMC C TCK: TEST CLOCK INPUT (JTAG) clocks information and and of the of the TAP. TDI: TEST DATA INPUT (JTAG) serially and instructions the TAP operations. TDO: TEST DATA OUTPUT (JTAG) serially and instructions of the TAP operations. TMS: TEST MODE SELECT (JTAG) the of the TAP (input the TRST*: TEST RESET (JTAG) the asynchronous the JTAG (input KAT4000
AMC Assignments Table B1-B4 AMC Assignments KAT4000 PIN ASSIGNMENTS and and the switch, the PCI switch, the switch I/O and B1-B4 B1-B4 GND GND GND GND GND GND GND GND GND GND GND GND Bn_SATA2_TXD+ Bn_SATA2_TXD- GND GND GND AMCn_TXD4+ AMCn_TXD4- GND GND AMCn_TXD5+ AMCn_TXD5- GND GND GND AMCn_TXD6+ AMCn_TXD6- GND
AMC Assignments B1-B4 B1-B4 GND AMCn_TXD7+ AMCn_TXD7- GND GND Bn_CLK1+ Bn_CLK1- GND Bn_CLK2+ Bn_CLK2- GND Bn_CLK3+ Bn_CLK3- GND GND GND GND GND GND GND GND GND GND GND GND Bn_CONSOLE_RX- GND GND GND GND GND GND GND GND GND GND GND KAT4000
AMC SATA of SATA KAT4000 B1-B4 B1-B4 GND GND GND GND GND GND GND TCK TMS TRST* TDO TDI GND SATA LINES This section displays the SATA the KAT4000. SATA to AMC with SATA or Emerson Ethernet
The KAT4000 as the AdvancedTCA (PICMG AMC.0). This Platform (IPMC) based the BMR-H8S-ATCA reference from The KAT4000 IPMC the Platform Interface (IPMI) commands and interfaces other such as LED and and The IPMC EIA-232 interface the Interface (SIPL) IPMI commands. IPMC OVERVIEW The features of the KAT4000 IPMC Conformance to ATCA Specification (PICMG Geographical to PICMG to and write Unit (FRU) each AMC to IPMC from IPMB-0 to and outlet to to to specified assertion and/or field field of the interface to redirection IPMB KAT4000 Section
IPMC IPMC Block KAT4000 The following shows the IPMC the KAT4000. IJ
IPMI Network Function IPMI MESSAGING IPMI Network Function field, which the command. Each assigned to itone and The the least of the field to while the the least of the field to Table the function (as the IPMI the IPMC. Chassis chassis chassis and Bridge to the Typically, the another which This function and and of and This function as the IPMI firmware firmware match the of as the 0A, 0B 0C-2F functions 30-3F OEM The functional and The field the and operation to IPMI and mechanisms. The ID the or group. 0A 0B that and services KAT4000
IPMI Table Completion KAT4000 IPMI Completion IPMI field that the of the operation. Table the (as the IPMI cation) the IPMC. C0-FF Command completed normally C0 busycommand because command-processing temporarily C1 commandindicates or C2 Command LUN C3 Time-out while command, C4 of spacecommand completed of of to the C5 Reservation or Reservation ID C6 C7 C8 field C9 of or the of the of This from field (CC) that the field(s) of CA of CB or CC field CD Command specified or type CE Command CF that the the instance of the These should commands that allow the of the to this the the to D0 Command provided, SDR D1 Command provided, D2 Command (BMC) or D3 Destination to selected (This to SMS, reception the D4 command, D5 command, FF Unspecified
IPMB Table Format IPMI (OEM) 01-7E 01-7E (OEM) codescommand-specific and of these knowledge of the Command-Specific 80-BE 80-BE command-specific command-specific this chapter) IPMB PROTOCOL The IPMB to and physical interfaces. The IPMC the IPMB interface. as or as indicated the least the Network tion of the Table shows the of IPMI each Command 7:N N+1 The first the Address, The the Network Function and the Unit The third the twos-complement the first bytes. The fourth the Address, The fifth the and Unit The to to The sixth the Command KAT4000
SIPL Format IPMI KAT4000 The seventh and commands required). The the twos-complement of of the the first IPMI Table to IPMI The ference that the seventh the Completion and the and from the (rather than to to the Also, the and Unit the and Command 8:N N+1 Checksum SIPL PROTOCOL The KAT4000 IPMC the Interface (SIPL) It IPMI SIPL and these the as IPMI from the IPMB-O that the to the or interface. as case-insensitive optionally as shown the following The IPMC however, SIPL ASCII text commands, as the IPMI specification. The KAT4000 IPMC commands, as OEM IPMI commands. These commands Network Function 2E/2F and the to IPMI as previously.
Bridging Command Command The following of and respectively. [B8 0A Command Bridge (2E LUN [BC 0A Command Bridge (2F LUN MESSAGE BRIDGING The Bridging facility of the KAT4000 IPMC. the AMC.0 the KAT4000 IPMC the IPMB-0 and IPMB-L interfaces the command. IANA IANA Completion KAT4000
Bridging KAT4000 The KAT4000 IPMC the Interface and IPMB-O, which allows the to to and them from other such as the the commands and LUN of the KAT4000 IPMC. The following the and Info the software to the physical location of the board the shelf: The software the Info to the BMR-H8S-ATCA. the SIPL [B0 The BMR-H8S-ATCA its IPMB the Info reply. this the IPMB-O of the H8S ATCA. {B4 FF FF The software Info the to its information FRU The the IPMB The to the The to the obtained the B0 8D] The software forwards the the previous to the the command. The SIPL B0 8D] The BMR-H8S-ATCA firmware the Info to the to this and this to the software the [1C B4 DA FF FF 1E] The software the info from the and the physical of the board from The LUN allows the to to to IPMB-0 the with tracking as as from IPMB-0. To this functionality, the KAT4000 IPMC to LUN from IPMB-0 and those the instead of the IPMC firmware. To from the the software the command. The software about to LUN the of the SIPL and the or, the LPC/KCS-based Interface used, using the KCS The of the KAT4000 IPMC to bytes, which
Commands Table IPMC IPMI Commands least three IPMB enough of this account, the software from the as as caching them the on-carrier further necessary. If the the KAT4000 IPMC to LUN with the and to this LUN. STANDARD COMMANDS The peripheral (IPMC) IPMI to information and to the of the board. These to: the the the and write the the and information, such as thresholds, each and write the Unit (FRU) and the Record (SDR) broadcasts IPMI to the IPMB and the Table the IPMI commands the IPMC with the each commands Network Function Unit (LUN), and Command Command: LUN: Platform SDR Information SDR SDR Reading Factors KAT4000
Commands KAT4000 Command: LUN: Thresholds Thresholds Rearm 2A 2B Reading 2D 2E 2F ID Application Broadcast ID' Application Cold Application Application Application GUID Application Application Watchdog Application Application Application FRU Inventory Info 0A, 0B FRU 0A, 0B FRU 0A, 0B PCIMG PICMG 2C, 2D Info PICMG 2C, 2D FRU PICMG 2C, 2D FRU LED PICMG 2C, 2D LED PICMG 2C, 2D FRU LED State PICMG 2C, 2D FRU LED State PICMG 2C, 2D IPMB State Command PICMG 2C, 2D FRU Activation PICMG 2C, 2D 0A FRU Activation PICMG 2C, 2D 0B FRU Activation PICMG 2C, 2D 0C Record ID PICMG 2C, 2D 0D State PICMG 2C, 2D 0E State PICMG 2C, 2D 0F PICMG 2C, 2D PICMG 2C, 2D
Commands Command: (continued) LUN: PICMG 2C, 2D (Release, Query, Force, The IPMC IPMI commands. software the commands to the health. Normally, the software the to from The IPMI allows actions such as off, and to the The of which software the Also, the time-out action and infor- mation to the (SEL) when the time-out Please to the IPMI Table about each mands and The IPMC ATCA commands, the ATCA Specification (PICMG PICMG 2C, 2D KAT4000
Commands Command Summary KAT4000 VENDOR COMMANDS The IPMC IPMI commands that to and/or Emerson. This section of those Command: LUN: OEM 2E, 2F Interface OEM 2E, 2F Interface OEM 2E, 2F OEM 2E, 2F OEM 2E, 2F OEM 2E, 2F OEM 2E, 2F Switch OEM 2E, 2F Switch OEM 2E, 2F OEM 2E, 2F OEM 2E, 2F 0A OEM 2E, 2F 0B OEM 2E, 2F 0C IPMC OEM 2E, 2F 0D IPMC OEM 2E, 2F 0E OEM 2E, 2F 0F OEM 2E, 2F OEM 2E, 2F OEM 2E, 2F Shutdown OEM 2E, 2F Shutdown OEM 2E, 2F State OEM 2E, 2F AMC OEM 2E, 2F AMC OEM 2E, 2F Command The IPMC the about of character (ASCII BELL) the Interface. The expected to the command to and other SIPL
Commands Command commands to necessary). The character and appear the of SIPL to the PPS IANA ID MS first PPS IANA ID MS first If to that the to initiate the These from the Release Force These from the Release Force If to that Shutdown If to that the to shutdown If to that the to If to that least of the IPMC threshold crossing The IPMC Normal If to the IPMC the KAT4000
Commands Interface Command KAT4000 Clock These Clock from the shelf Clock Clock Release Clock Force Clock Clock These Clock from the Clock Clock Release Clock Force Clock Clock These Clock from the Clock Clock Release Clock Force Clock Interface Command The Interface to the of interface. PPS IANA ID MS first Interface ID Interface Interface
Commands Table Interface Command Completion PPS IANA ID MS first On If this the IPMC the interface Interface Command The Interface command to the of interface. PPS IANA ID MS first Interface ID Interface Interface On If this the IPMC the interface PPS IANA ID MS first Rate ID The ID the interface as follows: Rate ID The ID the interface as follows: (unsupported) KAT4000
Commands Command KAT4000 Command The command the of the IPMC firmware. PPS IANA ID MS first Completion PPS IANA ID MS first IPMB If to the IPMC of IPMB that to/going from the IPMC IPMB-O If to the IPMC of SIPL activity the Interface the interface If to the IPMC the interface Low-level If to the IPMC low-level the interface If to the IPMC the interface
Commands Table Command Command Command The the of the IPMC firmware. PPS IANA ID MS first Completion PPS IANA ID MS first Command The reads the of the IPMC. PPS IANA ID MS first Completion PPS IANA ID MS first IPMB If to the IPMC of IPMB that to/going from the IPMC IPMB-O If to the IPMC of SIPL activity the Interface the interface If to the IPMC the interface Low-level If to the IPMC low-level the interface If to the IPMC the interface KAT4000
Commands Table Command Switch Command KAT4000 Command The allows of the from when the IPMC operates PPS IANA ID MS first If to the to the PPS IANA ID MS first Switch Command The Switch reads the of the of the IPMC. of the switch allowed only the IPMC operates PPS IANA ID MS first Completion PPS IANA ID MS first Switch The switch The switch closed The switch from NOTE: IPMC IPMC Command
Commands Switch Command Table Communication Command Switch Command The Switch the of the switch PPS IANA ID MS first Switch The switch The switch closed The switch from Completion PPS IANA ID MS first Command The Communication command reads the time-out PPS IANA ID MS first Completion PPS IANA ID MS first Time-out time-out measured of milliseconds. the time-out from to seconds. KAT4000
Commands Communication Command Command Table Command KAT4000 Communication Command The Communication the time-out PPS IANA ID MS first Time-out time-out measured of milliseconds. the time-out from to seconds. PPS IANA ID MS first Command The from the PPS IANA ID MS first PPS IANA ID MS first Command The from the interface. PPS IANA ID MS first Completion PPS IANA ID MS first
Commands IPMC Command IPMC Command IPMC Command The IPMC allows the to the IPMC the SIPL. PPS IANA ID MS first Cold IPMC to the Cold IPMC to the Normal Cold IPMC to the Cold IPMC to the the IPMC and PPS IANA ID MS first IPMC Command The IPMC to the the IPMC command, which firmware PPS IANA ID MS first Completion PPS IANA ID MS first KAT4000
Commands Table Command KAT4000 Command To to the the the of the SIPL. PPS IANA ID MS first Command Shelf to board of the Release to release of the Force to release of immediately informs that the ID clock (CLK1A and CLK1B clock (CLK2A and CLK2B clock (CLK3A and CLK3B Completion PPS IANA ID MS first Shelf acknowledges that board as Shelf should of the (optional) Shelf of the board Command If the IPMC from IPMB-0, asserts and the which the command the SIPL. the IPMC command, the respective the IPMC cleared. The the time-out If the such the time-out the IPMC the the command reply. Command to Shelf to of the of the Shelf reassign of Shelf that of the bussed to this board from another authorized board
Commands Command PPS IANA ID MS first Command Shelf to of the Release board to release of the 1=Refused, Force board to release of immediately informs that the 1=Not ID clock (CLK1A and CLK1B clock (CLK2A and CLK2B Synch clock (CLK3A and CLK3B Shelf acknowledges that board as Shelf should of the (optional) Shelf of the board Completion PPS IANA ID MS first Command The IPMC the option of the FRU command. On such command, the IPMC the of the IPMC to the and the from the If the IPMC such the time-out the (Success) to the Other- the Command to Shelf to of the of the Shelf reassign of Shelf that of the bussed to this from another authorized KAT4000
Commands Table Command Table Command KAT4000 The IPMC the the or If the IPMC necessary, the the IPMC to The command to the IPMC about the of the shutdown PPS IANA ID MS first PPS IANA ID MS first The IPMC the of the FRU command. The about the SIPL. The expected to the time-out using the of the SIPL. PPS IANA ID MS first If the the time-out, the to the shelf as the of the FRU the Completion PPS IANA ID MS first Shutdown Command the shelf commands the IPMC to the the command), the IPMC the asserting and to the this the software expected to initiate the shutdown this the should the to the IPMC the Interface to the IPMC that the shutdown
Commands Table Shutdown Command Table Shutdown Command Table State Command To that the software respond, the IPMC time-out the shutdown If the the command within of the IPMC that the shutdown finished, and to the KAT4000 PPS IANA ID MS first PPS IANA ID MS first measured of milliseconds, LSB first Shutdown Command The Shutdown as follows. PPS IANA ID MS first measured of milliseconds, LSB first PPS IANA ID MS first State Command The State command to the of AMC of the interfaces. PPS IANA ID MS first AMC ID KAT4000
Commands AMC Command AMC Command KAT4000 PPS IANA ID MS first AMC AMC AMC AMC AMC IPMB-L attached IPMB-L attached IPMB-L ready IPMB-L ready AMC Command The AMC to AMC PPS IANA ID MS first AMC ID Completion PPS IANA ID MS first AMC Command The AMC to AMC If AMC the IPMC firmware the AMC and acts as the AMC PPS IANA ID MS first AMC ID
IPMC Commands Table IPMC Commands (continued) Completion PPS IANA ID MS first IPMC WATCHDOG TIMER COMMANDS The IPMC that of time-out functions Software (SMS) or the time-out of allows the selected time-out action to immediately. This the IPMB to recovery Command: Optional/Mandatory: Actions The following actions of the The and time-out selections The whenever the to the the and The field that the assigned to the The of tion that to the type of time-out(s) that occurred. The time-out their and as as the IPMC The normally cleared the command; with the of the which cleared or KAT4000
IPMC Commands FRB-2 Time-out: POST Time-out: OS Time-out: The or caused the to the from to OS and This software, or OS The should clear this this POST. SMS OS Time-out: OEM: This that the function. KAT4000 The (FRB-2) time-out occurred. This that the or to the time-out POST, to caused or related to the this the time-out occurred while the the tor other than FRB-2 or OS This that the Software (SMS). SMS the then to from expiring. This action as heartbeat that that the OS (or least the SMS functioning. If SMS the and the IPMC SMS the should the SMS to that the its OS the and The software that the field the associated Software (SMS) the to SMS/OS then that SMS acting and clearing the associated software should or the that the should tions or clear the of the This to allow the that the to that matching occurred. the IPMC the when to temporarily the The cleared whenever
IPMC Commands Command This selects the and whether This selects the time-out action and type. This the If the to the action concurrently with the time-out action. This clears the of this clears the of the Watchdog command. and These the least and bytes, respectfully, of the countdown The count/100 The counter when the count reaches If the counter with and the issued to the the associated immediately. If the while the tor POST. Therefore, the should to or the watch- early POST. the POST or the OS booted. Command The Watchdog and restarting the from the countdown that specified the mand. If configured, the Watchdog the once the reached. The to the once reached this the command. Completion Command The and the The the If the already the the the and clears the the IPMI IPMC and the Cold the and clear the KAT4000
IPMC Commands Command KAT4000 IPMI immediately. If already countdown to and countdown from that If already If the cleared. Actions when (this the as allocated to the interface) time-out action action Pretime-out seconds, based when when FRB-2 010b=Monitor/POST
IPMC Commands Table Command (continued) clear 1b=clear OEM SMS/OS OS FRB-2 Initial countdown ms/count) Initial countdown with of this option. If the or time-out to the time-out the To this recommended that software this than three counts the or time-out reached. Command This command the and countdown of the The their and With the of the the ration cleared using the command. They become cleared of of IPMC firmware or other of IPMC of the cleared to whenever the when the or KAT4000
IPMC Commands KAT4000 (continued) Completion FRB-2 010b=Monitor/POST Actions (this the as allocated to the interface) time-out action action Pretime-out seconds, 1based while associated selected) OEM SMS/OS OS FRB-2
FRU FRU Initial countdown ms/count) Initial countdown, (continued) countdown The countdown and countdown should match immediately the countdown and countdown FRU LEDS This section the front the IPMC and to each LED with the FRU LED commands. Reference the PICMG Revision AdvancedTCA Specification information. The KAT4000 four Light-Emitting the front their location. ID Reference CR2001 The LED displays four Onthe extracted Offthe board operating and Short blinkrequesting OOS CR2003 The Service LED the IPMI (North America) or this LED the KAT4000 CR2002 The LED as Service as Service LED that the KAT4000 functioning properly. CR2000 The LED user that internal the IPMC software to to the countdown and reflected the command. KAT4000
FRU Table FRU LED Command LED Command KAT4000 FRU LED Command This allows software to which IPMC PICMG that this PICMG command. FRU ID Completion PICMG that this PICMG command. LED Propertiesindicates the to the four the FRU the associated LED. to LED3 LED2 LED1 LED Application LED Countis the of IPMC of IPMC If this LED Command LED or this to the to FRU LED State command. PICMG that this PICMG command. FRU ID LED ID
FRU Completion If the LED ID the the FRU PICMG that this PICMG command. LED Capabilitieswhen the LED the to LED white LED LED LED LED LED to LED State to White LED State to White KAT4000
FRU FRU LED State Command KAT4000 FRU LED State Command The FRU LED State allows the of the FRU to the PICMG that this PICMG command. FRU ID LED ID LED LED (OOS) LED LED OEM
FRU (continued) LED Function LED off LED Turn LED specified the then to the highest LED to LED On Duration LED measured of milliseconds of milliseconds than Other when this field and to the when LED Function and This the when LED Function This or to the the when LED Function to White PICMG that this PICMG command. KAT4000
FRU FRU LED State Command KAT4000 FRU LED State Command The FRU LED State allows the of the FRU to the PICMG that this PICMG command. FRU ID LED ID LED LED (OOS) LED LED OEM PICMG that this PICMG command. LED States to IPMC LED Function LED off supported) LED specified this specified of milliseconds) LED On Duration LED measured of milliseconds of milliseconds than Other when this field and to
and Entity Associations (continued) to White State LED Function or LED off LED specified this specified of milliseconds) LED State On Duration or of milliseconds). State to White Duration optional of milliseconds). ENTITIES AND ENTITY ASSOCIATIONS The AdvancedTCA PICMG Notice Entity IDs and Instances to physical associated with Device-relative to IPMC and referenced as follows the specification: ID>,<Entity Instance this terminology, KAT4000 (CPU and (IPMB the KAT4000
and Records IPMB Entity IPMI Entity Event/Reading Entity ID: Instance: PICMG FRU PICMG Board=A0 relative=60 B1 PICMG FRU PICMG AMC relative=61 KAT4000 FF FF FF FF FF FF FF FF FF FF FF FGF FGF FGF FGF FGF FGF FGF FGF FF FGF FGF FF FGF FGF FF FGF FGF FF FGF FGF SENSORS AND SENSOR DATA RECORDS The KAT4000 of as B the KAT4000 Record (SDR)
and Records Entity Event/Reading Entity ID: Instance: B2 PICMG FRU PICMG AMC relative=62 B3 PICMG FRU PICMG AMC relative=63 B4 PICMG FRU PICMG AMC relative=64 IPMB Physical PICMG IPMB Physical PICMG Board=A0 relative=60 BMC Watchdog relative=60 -48V Threshold=01 Supply=0A relative=60 -48V Curr Threshold=01 Supply=0A relative=60 -48V Threshold=01 Supply=0A relative=60 -48V Threshold=01 Supply=0A relative=60 +3.3V Threshold=01 Supply=0A relative=60 +12V Threshold=01 Supply=0A relative=60 +12V Curr Threshold=01 Supply=0A relative=60 +3.3V Threshold=01 Module/DC-to-DC +2.5V Threshold=01 Module/DC-to-DC +1.8V Threshold=01 Module/DC-to-DC +1.5V Threshold=01 Module/DC-to-DC +1.2V Threshold=01 Module/DC-to-DC +1.0V Threshold=01 Module/DC-to-DC KAT4000 relative=60 relative=60 relative=60 relative=60 relative=60 relative=60
and Records Entity Event/Reading Entity ID: Instance: CPU Threshold=01 relative=60 B1 Threshold=01 PICMG AMC relative=61 B1 Curr Threshold=01 PICMG AMC relative=61 B2 Threshold=01 PICMG AMC relative=62 B2 Curr Threshold=01 PICMG AMC relative=62 B3 Threshold=01 PICMG AMC relative=63 B3 Curr Threshold=01 PICMG AMC relative=63 B4 Threshold=01 PICMG AMC relative=64 B4 Curr Threshold=01 PICMG AMC relative=64 Inflow Threshold=01 PICMG Board=A0 relative=60 Outflow Threshold=01 PICMG Board=A0 F/W PICMG (0F) Board=A0 relative=60 with CPU. with CPU and switch. KAT4000 The IPMC Record (SDR) that the IPMC, the FRU and each the SDR to the and the of the board. Please to the IPMI Table information Records and the SDR Repository. connected to the IPMC the To these the to the IPMC, with the of the Table shows the of
and Records Table Format of Function LUN of board IPMB) LUN Command Revision IPMI Indicates or type of that the indicating the that the type of threshold crossing or and type (Optional) and type (Optional) and type with Threshold Event/Reading initiate when reading the threshold. The thresholds the IPMC Thresholds command. The the IPMC Reading to the reading. Please to the IPMI these commands. KAT4000
FRU Inventory Table FRU Definitions KAT4000 FRU INVENTORY The IPMC Unit (FRU) information its memory (SROM). The information such as the and information. Please to the IPMI the FRU Table the of the FRU information. Item: Common of the FRU the IPMI FRU of the the IPMI FRU this Information of the Information the IPMI FRU English as the of AM Emerson Network Product KAT4000 as 711A-XXXX as 10XXXXXX-YY-Z FRU ID Product Information of the Product Information the IPMI FRU English Emerson Network Product KAT4000 Product as 10XXXXXX-YY-Z Product Not used, information the Product as 711A-XXXX Not Used FRU ID Record Records
Table Item: (continued) Amps Amps E-KEYING This section the interfaces and the they Specifically, this includes the interfaces the KAT4000 and the inition that to each interface. The IPMC the KAT4000 the PICMG Revision PICMG Revision and specifications. The information the the Connectivity Record and Connectivity Record located the of the FRU Inventory Information The Connectivity Record and Connectivity Record each tor where each type of the referenced Connectivity The KAT4000 10/100/1000BASE-T Interface and and four 10/100/1000BASE-BX the Interface the the KAT4000 of the following Interface Chan- and B: or four 1000BASE-BX Switch or Switch shows the Connectivity Record the KAT4000 with Switch Enabled; Interface; PICMG Interface 10/100/1000BASE-T Grouping ID Enabled; Interface; PICMG Interface 10/100/1000BASE-T KAT4000
KAT4000 Grouping ID Enabled; Interface; PICMG Ethernet Interface 1000BASE-BX ID Enabled; Interface; PICMG Ethernet Interface 1000BASE-BX Grouping ID Enabled; Interface; PICMG Ethernet Interface 1000BASE-BX ID Enabled; Interface; PICMG Ethernet Interface 1000BASE-BX ID Enabled; Interface; PICMG Ethernet Interface 1000BASE-BX Grouping ID Enabled; Interface; PICMG Ethernet Interface 1000BASE-BX Grouping ID Enabled; Interface; OEM Grouping ID Connectivity The KAT4000 1000BASE-BX AMC of AMC B1, B2, B3, and B4. The KAT4000 1000BASE-BX or AMC of AMC B1, B2, B3, and B4, the
Table Command Command FIRMWARE UPGRADE The IPMC using of and that to and from the IPMC the as IPMI information, to Platform Communication specification). These commands collectively to as the this commands the function that the IPMI commands. Each protected with that to the they to the IPMC interface. to the of of the function the and the If the the with the The expected to the this The protected with of the commands the Command: LUN: Complete Revision The following sections the of the firmware and Command The the or the IPMC about the This command both the IPMC firmware and the which the and the reply. KAT4000
Table Command KAT4000 Completion PPS IANA ID MS first IPMC the firmware IPMC the firmware IPMC the firmware and already to the ESC character from the Interface The firmware The H8S IPMC occurred while the IPMC The H8S IPMC firmware too Command The command switches the IPMC to the If the IPMC firmware this command, tion of SRAM indicating that the to the with the and the the reply, the this the IPMC already to the the the If has, the with the If the and reply. This both the IPMC firmware and the
Command Command The the IPMC of Preparation of the H8S memory includes the H8S flash, while of the H8S memory includes the following: the of the firmware the H8S of the H8S the H8S Fetching the H8S firmware SPI and of the H8S the H8S firmware This the If the IPMC firmware this command, with the Command) This the that should and of the following The memory of the H8S The memory of the H8S Command The of the IPMC. The internally gathers to and to when the This only the If the IPMC firmware this command, with the Command) KAT4000
Table Command Complete Command KAT4000 the that to with the the The offset of the location which the to to the LSB/MSB The offset of the location which the to to the 5:N 1/N to sequentially, the IPMC firmware the operations. N+1 Completion Complete Command The Complete the of the IPMC. the this writes to flash, reply, the and the the firmware and they the IPMC firmware. This the If the IPMC this command, with the Command) Completion Command The the the firm- from the If the this command, the follow- the H8S memory the H8S firmware the H8S with the the H8S memory the H8S firmware with the the H8S memory
Table Command Table Revision Command This only the If the IPMC this command, with the Command) Revision Command The Revision command reads the of the firm- the H8S memory. the this command, it the of the firmware of the and If of the corrupted (the the Not the the and of the firmware and them. This the If the IPMC firmware this command, with the Command) and Minor Revisions of the Termination The the (the Complete command) from the Additionally, the the from the firmware and, the than amount of the the and to the This that the the its to the KAT4000 or shelf, or another reason. The IPMC as follows the The IPMC firmware command. this command, the firmware and to the The the KAT4000
KAT4000 The the and the indicating that The H8S flash) to the H8S flash. The the H8S and reply. The writes the H8S firmware to the H8S flash the command. The acknowledges each write to the The H8S flash) to the H8S flash. The writes the to the H8S flash, the H8S flash, and reply. The writes the H8S to the H8S the command. The acknowledges each write to the initiator. The Complete to the The writes the to the H8S and the IPMC. the the H8S firmware and to the IPMC.
Synchronization Clocks The TCLKC and TCLKD routed to the interface. If these there with AMC that these clocks. Synchronization Clock The KAT4000 clocking based clock selection/holdover with PLD wrapper. This PLD wrapper allows software of the clock selection from these input options: backplane CLK1A/B, backplane CLK2A/B, CLK3A/B, TCLKA, TCLKB or FCLKA. of these clock to the following clocks: backplane CLK3A/B, TCLKA, TCLKB or FCLKA. to M-LVDS clocks to/from TTL CLK1 and CLK2 the backplane only. of this Clock information the clock buffers, selecting the and secondary clock and selecting the output KAT4000 Section
Synchronization Clocks: MT9045 and MT9046 Clock KAT4000 clock and the synchronization clock interface as stated the PICMG3.0 and AMC.0 specifications, as as those AMC subspecifications. Backplane CLK1A/B and CLK2A/B 4E and or 3E respectively, from the clock There the on-board clocks that from these input clocks. CLK3A/B as or CLK3A/B REF clk and clock interfaces to within the specified bused M-LVDS AMC synchronization clocks sourced from or the ATCA synchronization clock interface. AMC clock interfaces to within the specified M-LVDS from and to AMC of this with clock interface circuitry. MT9045 AND MT9046 CLOCK SYNCHRONIZERS The MT9045 and MT9046 T1/E1 phase-locked (DPLL), which and synchronization T1 and E1 The reference switching and to connectivity temporary synchronization interruptions. The MT9045 to and 4/4E specifications. The MT9046 to cost-reduced clock interface, to 4/4E tions.
Clock M41T00 Clock The Clock (RTC) the KAT4000 M41T00 from STMicroelectronics. This and of RAM the function. The M41T00 from the operation, and which hour BLOCK DIAGRAM OPERATION The M41T00 clock operates as the To access, the RTC the Access the the following Seconds Century/Hours Month KAT4000 Section
Clock: Clock Table RTC CEB: Century CB to from to or from to the of the century CB KAT4000 Years The M41T00 clock continually the supply of If below switch-over the M41T00: Terminates the counter from written) At the M41T00 and inputs. CLOCK OPERATION the Clock or the Con- location to the Clock to allow the to completed the This the clock The clock the clock and reads the and from the clock, as Table Address: Function/Range: D7 D6 D5 D4 D3 D2 D1 D0 BCD Format ST Seconds Seconds Seconds CEB CB Century/ Month Month Years Years Years OUT FT ST: the the within CB: Century
Clock: Clock Operation of the of the month OUT: FT/OUT when FT The or counts from the the The of (subtracted, ative or this five-bit counts the clock, and subtracting counts the clock FT: the FT/OUT The FT/OUT S: Negative X: Dont KAT4000
KAT4000
Connectors Connector, P10 Connector, P10 Assignments There the KAT4000. Reference and their tions. Whether backplane the KAT4000 the The backplane through this chapter. ZONE Connector P10 the ATCA -48V DC) and of functionality insertion or Insertion NA NA NA NA (HA0) third HA1 third HA2 third HA3 third HA4 third HA5 third HA6 third HA7 third KAT4000 Section
Connectors: KAT4000 Insertion IPMBA Clock (SCL A) third IPMBA (SDA A) third IPMBB Clock (SCL B) third IPMBB (SDA B) third third third third third third third third third Shelf ground first ground first fourth (-48RTNA) first (-48RTNB) first Early first Early first fourth (-48A) (-48B) third ZONE (ZD) backplane J20 through J24, which the interface. The KAT4000 therefore the J23 to the 10BASE-T, and/or 100BASE-TX, and/or 1000BASE-T Connector J20 the optional and synchronization clock interface. with each carrying ground The tor three of the third and shortest with PICMG backplanes. The four interfaces to the ATCA backplane: Interface (J23) Interface (J23) (The interface the process)
Connectors: Connectors, J20 and J23, and Connectors, J30-J32 Connector, J20 Assignments to the optional Synchronization Clock Interface (J20) and clocks optional interface (J20) C CLK1A+ CLK1A- CLK1B+ CLK1B- UC_TX2+ UC_TX2- UC_RX2+ UC_RX2- UC_TX0+ UC_TX0- UC_RX0+ UC_RX0- CLK2A+ CLK2A- CLK2B+ CLK2B- CLK3A+ CLK3A- CLK3B+ CLK3B- UC_TX3+ UC_TX3- UC_RX3+ UC_RX3- UC_TX1+ UC_TX1- UC_RX1+ UC_RX1- Table the (A-D) KAT4000
Connectors: Connector, J23 Assignments KAT4000 the the polarity Interface: C Ethernet XBC1_TR0+ XBC1_TR0- XBC1_TR1+ XBC1_TR1- Ethernet XBC2_TR0+ XBC2_TR0- XBC2_TR1+ XBC2_TR1- Interface: Ethernet XBC1_TR2+ XBC1_TR2- XBC1_TR3+ XBC1_TR3- Ethernet XBC2_TR2+ XBC2_TR2- XBC2_TR3+ XBC2_TR3- ZONE These optional type J30 through J33, Rear Transition (RTM). from the Ethernet switch Routing AMC I/O routed to active with C from IPMC C from Ethernet KAT4000 with CPU: interfaces the KAT4000 without CPU: interfaces the Ethernet switch and Ethernet switch Connectors J30 through J32 the as
Connectors: Table Connector, J30 Assignments Table Connector, J31 Assignments AMC I/O routed to as carrying thing from to TDM to GPIO and of rates as high as C FP_CONN_TX FP_CONN_RX B3_RTIP4 B3_RRING4 B3_TTIP6 B3_TRING6 B3_RTIP6 B3_RRING6 B3_TTIP8 B3_TRING8 B3_RTIP8 B3_RRING8 RTM_ENET_TX+ RTM_ENET_TX- RTM_ENET_RX+ RTM_ENET_RX- B4_RTIP2 B4_RRING2 HOST_CONN_TX HOST_CONN_RX RTM_ID1 PB_RST* B4_TTIP3 B4_TRING3 IPMC_RST_PB* RTM_ID0 B4_TTIP4 B4_TRING4 RTM_ID3 B4_TTIP5 B4_TRING5 B4_RTIP5 B4_RRING5 B4_TTIP7 B4_TRING7 B4_RTIP7 B4_RRING7 B3_TTIP5 B3_TRING5 B3_RTIP5 B3_RRING5 B3_TTIP7 B3_TRING7 B3_RTIP7 B3_RRING7 GIG6_TX+ GIG6_TX- B4_TTIP2 B4_TRING2 B4_TTIP1 B4_TRING1 B4_RTIP1 B4_RRING1 GIG6_RX+ GIG6_RX- RTM_PS1_CONN* AMC_PP_EN* B4_RTIP3 B4_RRING3 RTM_ID2 B4_RTIP4 B4_RRING4 B4_TTIP6 B4_TRING6 B4_RTIP6 B4_RRING6 B4_TTIP8 B4_TRING8 B4_RTIP8 B4_RRING8 C RTM_GPIO7 RTM_GPIO6 B2_TTIP3 B2_TRING3 RTM_GPIO5 RTM_GPIO4 B2_TTIP4 B2_TRING4 B2_TTIP5 B2_TRING5 B2_RTIP5 B2_RRING5 B2_TTIP7 B2_TRING7 B2_RTIP7 B2_RRING7 RTM_RX0+ RTM_RX0- RTM_RX1+ RTM_RX1- B3_TTIP2 B3_TRING2 B3_TTIP1 B3_TRING1 B3_RTIP1 B3_RRING1 RTM_RX2+ RTM_RX2- B3_RTIP3 B3_RRING3 RTM_RX3+ RTM_RX3- KAT4000
Connectors: Connector, J32 Assignments KAT4000 RTM_GPIO3 RTM_GPIO2 B2_RTIP3 B2_RRING3 RTM_GPIO1 RTM_GPIO0 GIG4_TX+ GIG4_TX- B2_RTIP4 B2_RRING4 B2_TTIP6 B2_TRING6 B2_RTIP6 B2_RRING6 B2_TTIP8 B2_TRING8 B2_RTIP8 B2_RRING8 GIG4_RX+ GIG4_RX- RTM_TX0+ RTM_TX0- B3_RTIP2 B3_RRING2 RTM_TX1+ RTM_TX1- B3_TTIP3 B3_TRING3 RTM_TX2+ RTM_TX2- B3_TTIP4 B3_TRING4 RTM_TX3+ RTM_TX3- C FP_CONN_TX FP_CONN_RX B1_TTIP2 B1_TRING2 B1_TTIP1 B1_TRING1 B1_RTIP1 B1_RRING1 RTM_PS0_ CONN B1_RTIP3 B1_RRING3 B1_RTIP4 B1_RRING4 B1_TTIP6 B1_TRING6 B1_RTIP6 B1_RRING6 B1_TTIP8 B1_TRING8 B1_RTIP8 B1_RRING8 B2_RTIP2 B2_RRING2 HOST_CONN_TX HOST_CONN_RX I2C_RTM_SCL_ I2C_RTM_SDA_ B1_RTIP2 B1_RRING2 BUFF BUFF B1_TTIP3 B1_TRING3 12V_RTM B1_TTIP4 B1_TRING4 B1_TTIP5 B1_TRING5 B1_RTIP5 B1_RRING5 B1_TTIP7 B1_TRING7 B1_RTIP7 B1_RRING7 B2_TTIP2 B2_TRING2 B2_TTIP1 B2_TRING1 B2_RTIP1 B2_RRING1
Connectors: Connector, J33 Connector, J33 Assignments (AMC4): (AMC3): C (AMC2): (AMC1): B4_CONSOLE_TX B3_CONSOLE_TX B2_CONSOLE_TX B1_CONSOLE_TX B4_CONSOLE_RX B3_CONSOLE_RX B2_CONSOLE_RX B1_CONSOLE_RX GND GND GND GND B4_LEDCTRL_TX B3_LEDCTRL_TX B2_LEDCTRL_TX B1_LEDCTRL_TX B4_LEDCTRL_RX B3_LEDCTRL_RX B2_LEDCTRL_RX B1_LEDCTRL_RX 12V RTM IPMB_RTM_SDA_ MP RTM IPMB_RTM_SCL_ BUFF BUFF KAT4000
KAT4000
Rear Transition ATCA RTM Factor: The RTM K1 A1 and ESD four AMC and board and IPMI switches. Interface: EIA-232 routed through (P1, P2, P4-P7) and RJ45 (P3) the rear I/O The RTM front switches: board and IPMI The RTM switches with the KAT4000. The KAT-Z3DB optional, ATCA Rear Transition (RTM) I/O the KAT4000. This RTM only. It tested EMI, EMC or ESD. This RTM to the J30-J32, and ATCA J33. This chapter the physical of the RTM and the COMPONENTS AND FEATURES KAT4000 Section
Rear Transition Functional RTM with Plate KAT4000 FUNCTIONAL OVERVIEW The following functional the KAT-Z3DB.
Rear Transition RTM CIRCUIT BOARD The KAT-Z3DB assembly. It board with the following Width: Depth: The following shows the the KAT-Z3DB board. KAT4000
Rear Transition RTM Top KAT4000 A1 ATCA P33 R26 R25 R23 R24 P32 ATCA P31 ATCA R7 R6 R8 R5 R14 R4 R10 R11 R9 R12 R13 R19 R20 CR1 P30 ATCA R1 R22 R21 K1 ATCA R17 R18 P2 P1 L23 L22 L24 L21 L1 L3 L2 L4 P3 RJ45 SW1 SW2 P7 P6 P5 P4 L20 L17 L18 L19 L14 L15 L16 L13 L12 L9 L10 L11 L8 L6 L5 L7
Rear Transition Plate Table Assignments, P1, P2 and P4-P7 FACE PLATE The includes and RJ45 I/O There switches: board and IPMI CONNECTORS There the KAT-Z3DB and assign- below. There the P1 the P2 the and P4-P7 AMC These EIA-232 functionality. The nectors the with the following assign- RXD TXD ground The Emerson cross-pinned, as shown straight-through KAT4000
Rear Transition Table Ethernet Assignments, P3 KAT4000 Ethernet The 10/100BASE-T Ethernet P3, that through P30 to the Core Switch. This functional with the KAT4000 This RJ45 with the following assignments. TX+ TX- RX- RX+ P30-P32 the ATCA (ZD) routing and Table Table and Table assignments. The P33 I/O to the Table assign- SETUP You the following items to and the operation of the Emerson KAT-Z3DB: The KAT4000 Compatible AMC Emerson C0007665-00 (cross-pinned) or C0007664-00 (straight-through)
Rear Transition To the and/or force the the protection and KAT4000 boards only when necessary. wear wriststrap to ground touching board. grounded while the board. the its or the board it static-shielding The ESD the of the RTM the tors Card and the the and or the KAT-Z3DB should the following information: The board 711G- The board appears located the top of the A1 The board (ID): This ID located the of the board from P5 and P6 It to these when Technical INSTALLATION KAT-Z3DB to the backplane, follow these To ESD to the KAT4000, wear grounding wrist and grounded while the board. The KAT-Z3DB its from the front board. To or the KAT- Z3DB, the KAT4000 or the KAT-Z3DB with the switch the RTM (P30-P33) to the KAT4000 (J30-J33). Then both ATCA the RTMs A1 and K1 to the KAT4000
Rear Transition KAT-Z3DB RTM the KAT4000 KAT4000 K2 and K1, respectively. Finally the RTMs P33 to the KAT4000 J33 and manually the the
Auto-Repeat: command, the ENTER or RETURN Command History: commands the and arrow TFTP You the TFTP to Ethernet the memory. Auto-Boot: You commands the to You write the U-Boot The MB the of and KB of each the and One the of The both of with the and The KAT4000 based the (U-Boot) the GNU (GPL). instructions to the this GPL please syncp.com, to or Emerson This chapter the features, operation, and This chapter as reference the commands and tions. COMMAND-LINE FEATURES The KAT4000 command-line interface with the following features: BDRR and the to both of the that then from the flash At or the and reports the the the the the to the If the that autoboot the to the from the specified If the or the command-line the optional only, to the and that off the KAT4000. Table information. KAT4000 Section
Command-Line KAT4000 with Switch KAT4000 The command the of of the KAT4000 with switch
Command-Line KAT4000 with Switch The command the of of the KAT4000 with switch KAT4000
LED KAT4000 This displayed as that the finished command or function the command when the and to The KAT4000, and the software displayed the to the the four-bit LED1 through LED4 to the Table the LED locations. the of the LED and the LED LED BOARD_PRE_INIT SERIAL_INIT CHECKBOARD and SDRAM_INIT RAM ECC AFTER_RELOC U-Boot relocated to RAM MISC_R init including Ethernet GONE_TO_PROMPT BASIC OPERATION The or This section the operation of the KAT4000 board. The the and text Power-up/Reset The KAT4000 follows the auto-booting the or software. At or the free memory tion, and necessary, the The U-Boot the optional PCI and I/O switches that the U-Boot the to timeout while PCIE_WAIT.
Power-up/Reset RESET HID0 MSR LED the MPC8548 CCSRBDR TLBs CPU, board, and LED the L2 cache LED C SDRAM. Clear clearmem and and the L1 cache and cache U-Boot to RAM LED the MPC8548 selects LED the U-Boot board MPC8548 IRQ and IRQ and icache icache L2 cache and LED KAT4000 PCI Ethernet disk-on-chip Ethernet switch, Ethernet switch, Turn off and front LED
Recovery and Table POST Assignments The the to overwrite) of memory the writes to these operation of the KAT4000 POST The KAT4000 Self-Test (POST) as C NVRAM the offset the Products section and FRU user other Each the of therefore this field the of to tests. assigns the to tests. SDRAM C Ethernet Core Switch (currently implemented) SDRAM SDRAM typically around MB and Please that the from below where the the KB). The C typically KB, therefore the MB of SDRAM MONITOR RECOVERY AND UPDATES This section to recover and/or the or of the following If there the and recovering the Recovering the section). If the operating properly, then to the the section). If the to the the MAC from the Passed the
Recovery and Table Press the s the to force the to loaded. information. Recovering the that ROM the PLCC the KAT4000. there JP7, and the following command, where the boards the KAT4000 to the To from flash, the board and the from JP7, and The the top KB of NOR as shown Table E1F8,0000-E1FF,FFFF Location MB) E0F8,0000-E0FF,FFFF Location MB) E1F6,0000-E1F6,1000 E0F6,0000-E0F6,1000 To the the following commands and the the KAT4000 Optionally, KAT4000 the TFTP To the TFTP, that VLAN the Ethernet switch the KAT4000 and the following the the If necessary, KAT4000 KAT4000 KAT4000 KAT4000 KAT4000 KAT4000
Command Reference KAT4000 Optionally, KAT4000 TFTP the to memory location KAT4000 tftpboot path_to_file_on_tftp_server the KAT4000 If burn the to ROM and follow the recovery the Recovering the section. MONITOR COMMAND REFERENCE This section the and typographic the KAT4000 commands. sections this chapter commands, which the following memory, Flash, and other commands. Command The the following Command The three and with the of which below. commands that base. commands commands character that with There white and command. command, while commands the first characters that the command. type instead of commands when You type and the command
Commands Definition: Definition: Definition: Definition: [loadAddress] [bootfilename] Command Access commands the or Access the commands command The to the Typographic the following text shows the optional and type or that input. BOOT COMMANDS The commands booting and operating from the the bootcmd The command from ELF memory, where the of the ELF The memory, to the booting the of If specified, the as the The the BootP/TFTP If or bootfilename specified, the and bootfile as the KAT4000
Commands Static IP Ethernet Definition: bootup. Definition: KAT4000 To commands tftpboot), the Table To IP, these specified through the interface. IP the board. TFTP/NFS Gateway IP MAC that each MAC the The the the Flash) and If the the secondary Flash) and If the back to the to and NVRAM. <primary|secondary> write NVRAM based Flash. <primary|secondary> of Flash. <primary|secondary> The VxWorks from ELF where the of the VxWorks ELF To this command, the The (DHCP) to IP and DHCP and from
Commands Definition: [bootfilename] Table DHCP Ethernet Definition: rarpboot [bootfilename] To the command, DHCP with the nated Table IP the board. DHCP. TFTP/NFS This the DHCP IP Obtained DHCP. IP Obtained DHCP. Ethernet DHCP. MAC from TFTP DHCP and the The obtained the DHCP to that each MAC the If or to that the DHCP information autoboot. If information rarpboot The rarpboot the RARP/TFTP If or bootfilename specified, the and bootfile as the To this command, the Table tftpboot The tftpboot network the TFTP The and as to this command. If or bootfilename specified, the and bootfile as the To this command, the Table The the If selected the TFTP through each found or KAT4000
Commands Definition: tftpboot [bootfilename] offset: The offset allows the to location than what indicated within the the off to the The allows the to instead of the Definition: [off] The offset allows the to location than what indicated within the S-Record the off to the The allows the to instead of the Definition: [off] Definition: The bytes. Definition: The Definition: The KAT4000 FILE LOAD COMMANDS The commands the The the The optional The executed, the only the memory. The S-Record the The optional The executed, the the memory. MEMORY COMMANDS The memory commands allow to of memory. memory commands, the the following These optional and the which the ates. If memory commands to
Memory Commands Definition: count If the located the of the the with count from the The command the to copying the The manually the command to the command. Definition: count this the command to from to Definition: this the to search the the and Definition: of this the to thirty-two the physical The count and the The count located the to the The searches from to top_add the to properly, the of match the of the The option searches the of the specified find.1 Searching from to Match found: The command displays the of memory The of optional third of The memorys and its ASCII displayed. KAT4000
Memory Commands Definition: this the to write the Definition: Definition: [count] this the command to write the three the physical KAT4000 The memory Once started, the the ENTER the to the location. Pressing ENTER without the that unchanged. To the command, (such as ENTER. .#4E The command repeatedly. Once started, the the selected ENTER the memory and then the displayed. The then to written the Pressing ENTER with- the unchanged. To the command, (such as ENTER. The writes to memory The of optional fourth count
Commands Definition: of the sectors the from to Definition: information memory FLASH COMMANDS The commands the StrataFlash the KAT4000 board. There the KAT4000 board. The following commands the as To the sectors within each the tor and than the of sectors the with sectors, the following commands the sectors as through The to the the to Memory Commands The the specified of memory. of the sectors SF (first sector) to SL sector) N. N:SF[-SL] of the sectors N. of the sectors of the The the of sectors, and of each sector. information the memory N. KAT4000
EEPROM/I2C Commands Definition: Protect of the sectors the from to Definition: Read/write from EEPROM offset off KAT4000 The command or the sector protection the specified sector. Protection using software only. The protection the physical used. Protect of the sectors SF (first sector) to SL sector) N. N:SF[-SL] Protect of the sectors N. Protect of the sectors of the protection of the sectors the from to off protection of the sectors SF (first sector) to SL sector) N. off N:SF[-SL] protection of the sectors N. off protection of the sectors of the off EEPROM/I C COMMANDS This section commands that allow to and write memory the and C The reads and writes from the EEPROM. reads from offset EEPROM (right-shifted and memory off write off
EEPROM/I2C Commands Definition: count Definition: of Definition: of Definition: of Definition: Definition: The CRC32 The command reads the specified The command displays the C memory. displays from offset of C (right-shifted The the of the offset the length, bytes, of the offset information to the The offset The Clock (RTC) one-byte offset length. The offset The displays the secondary C memory. displays from offset of C (right-shifted The the of the offset the length, bytes, of the offset information to the The offset The RTC one-byte offset length. The offset The the C memory and the The command the secondary C memory and the KAT4000
IPMC Commands Definition: [count] Definition: inm Definition: Definition: Definition: switchsrom switchsrom write Definition: <command> <section [chassis|board|product]><field><value> KAT4000 The command writes memory. inm The inm C memory, reads and the The to C The command to secondary C switchsrom The switchsrom reads from the VSC7376 switch EEPROM and writes to the EEPROM. IPMC COMMANDS IPMI (BMC) and serviced throughout the process. The BMC the to the The shows, and to and from the IPMC. <section> <field> section chassis board
IPMC Commands Definition: Definition: function (on/off)> function (on/off)> the out-of-service LED Definition: chassis <field> field type board <field> field <field> field <address><size> the internal <internal <count> The to The the following and the board and The allows the to the of the out-of- service LED or to the LED or off when to the out-of-service LED off. The the previous IPMC from the IPMC firm- the The the IPMC firmware with the memory. The reads, and the information from the IPMI. KAT4000
Commands Definition: KAT4000 each and the reading the Record (SDR) information ENVIRONMENT PARAMETER COMMANDS The on-board, memory the of as ASCII with the following board and the The commands with the reading and writing of these to of allow to of should they become The the To to to both and secondary to to the the to the secondary
Commands Definition: the of Definition: Definition: the to or the and to the Definition: Definition: The displays of the and their to the the of match) The writes the to memory. The the of existing and the from the TEST COMMANDS The commands this section and memory tests. The the (POST). The SDRAM read/write KAT4000
Other Commands Definition: Definition: the offset the memory commands. Definition: Definition: count KAT4000 The memory Press the to this the tor the iteration, and to the the completed iterations. OTHER COMMANDS This section the commands the KAT4000 The from memory. header The or the offset memory commands. the offset the memory commands to off off The displays the Information The command displays the information The CRC32 count The or the and and the RTC
Other Commands Definition: the and Definition: Definition: Definition: Definition: Definition: [MMDDhhmm[[CC]YY][.ss]] the and the RTC The to The the (when the the the The the optional to the The (or displays the Without commands with each. To information command, the as The displays the header information that memory of the header, and The displays the SDRAM information from to KAT4000
Other Commands Definition: Definition: number_of_objects Definition: Definition: and NVRAM and the from the to NOR Flash. Definition: or of PCI the specified KAT4000 The The displays the boards memory The command the NVRAM and and writes the to Flash. The KAT4000 booted from the this command to function the The of memory and to copying the software The or force the to to (.s) of or of flash. If the used, then the of of flash. If there of flash, then both redundancy. Also, the obtained from the as moninit[.s, or and NVRAM the NOR Flash. moninit[.s, or and NVRAM and the from NOR moninit[.s, or The the PCI It displays information about each detected The allows to and the PCI Con-
Other Commands Definition: [R|W|A] The following of of Definition: Definition: the header of PCI bus.device.function header the PCI (CFG). of read, and the CFG next[.b, the CFG Write to the CFG write[.b, The reads or writes to the of the PHY The this and clear or The options and and base1 and base2 the switch. R reads the the specified. W writes the to the specified. A reads the of The following of write to where the to write. The Ethernet to the reached. The the If selected the through each found or The command of the CPU writing to the the board. Without the KAT4000 CPU KAT4000
Other Commands Definition: console=tty0 cons_opts=console=tty0 to characters. Definition: Definition: Definition: showpci Definition: seconds (N KAT4000 The the commands the should the character to of the as the this the when executed. The of commands of memory. The ASCII of commands the character and terminated with the the location of the The command displays the MAC assigned to each Ethernet showpci The showpci the and the of the The PCI interface PCI The of seconds.
Other Commands Definition: switch_reg [switch] sub-block [R|W]] The following of of Definition: Definition: To VLAN the switch: switch_reg The switch_reg command reads or writes to the Ethernet switch or Ethernet switch The this and clear or Option as follows: switch or and sub-block R reads the the specified. W writes the to the specified. switch_reg The following of write to where the to write. switch_reg The displays the The or using as the VLAN (VID) and or existing whose VLAN ID matches the VLAN ID These of This port-based VLAN and the VLAN with the VID. this each assigned to VLAN. To the switch: To VLAN the switch: To the switch: To the switch: KAT4000
KAT4000 To the switch: ENVIRONMENT VARIABLES Press the s the to force the to testing. Table the rates: bmc_wd_timeout This the time-out seconds the BMC booting the OS. If to then the BMC booting the OS. options: bootcmd Command to when auto-booting or the command. Choose the of seconds the counts booting user options: seconds, to autoboot bootfile Path to with this to path/file.bin to and location of the to bootretry the of seconds the counts booting user with If the commands bootretry seconds. options: seconds, to bootretry Press power-up/reset to terminate the autoboot and to the cachemode write the L1 cache to write-through or copy-back. write, clearmem Select whether to clear SDRAM (memory excluded) and off the L1 cache. off ECC of memory cleared ECC off
off the reporting of ECC to the of or reported). off PCI enumeration. options: off 00:80:F9: 00:80:F9: 92:FF:FF 00:80:F9: 00:80:F9: 93:FF:FF 00:80:F9: 00:80:F9: 94:FF:FF 00:80:F9: 00:80:F9: 95:FF:FF Select which Ethernet TFTP and The assigned as follows: eTSEC1Ethernet eTSEC2Ethernet switch, eTSEC3Ethernet switch, and switch to KAT4000 bootup from the IPMC Select the IP EMERSON _KAT4000 the L1 instruction cache. off IP the L2 cache. off the to to with TFTP). ATCA chassis of KAT4000 location. options: Not bootup from the IPMC KAT4000 sub-network KAT4000 Ethernet TSEC_1 The the board KAT4000 board Ethernet TSEC_2 The the board KAT4000 Ethernet TSEC_3 The the board KAT4000 board Ethernet TSEC_4 The the KAT4000
Table Optional KAT4000 (continued) to and POST seconds physical_slot ATCA chassis physical of KAT4000 location. Not reported bootup from the IPMC POST or off power-on/reset. options: off Command to immediately auto-booting or to the rootpath Pathname of the NFS IP ATCA chassis shelf shelf-manager. Not bootup from the IPMC the reporting. options: the input. options: the switch_srom_init off Switch EEPROM or PCI off tftp_port TSEC_1 Selects which Ethernet options: TSEC_1, TSEC_2, TSEC_3, TSEC_4 write_enable_socket off writing to the options: off The optional that functionality. The clears and the to the optional clear optional Table the optional app_lock_base Assigns where to protection the of NOR flash. If assigned within the NOR locking the protection.
Troubleshooting (continued) of NOR protection the U-Boot that to the and secondary when the command. If the U-Boot command as the the (Option the DHCP dhcp-user-class the Class Information (Option the DHCP the and that off the KAT4000: switch to high-speed switch to and from switch to Ethernet switch. only. If to or the the disabled. The only the that the when the command. If the bootargs the the amount of SDRAM memory the PCI The If MB of SDRAM PCI. This options: MB) This memory the top of memory and reservednot to cleared or of the protected memory and The allowable and the recommended MB). should otherwise U-Boot round to the sec_bootargs the that the secondary when the command. If the bootargs both the and secondary The command these Each from the and of the TROUBLESHOOTING To the board to the located the front of the KAT4000. the to parity, the KAT4000 while holding the s Pressing the s forces tion based KAT4000
Download KAT4000 DOWNLOAD FORMATS The KAT4000 and S-Record as the following The (and associated commands) VxWorks and QNX ELF (bootm, or VxWorks and QNX ELF (bootm) (gzipped) (bootm) S-Record S-Record the S-Record This includes section and ASCII
AMC Advanced Card ASCII American Information ATA Advanced ATCA Advanced Computing Architecture or AdvancedTCA BIOS Input/output BDRR Redirection BMC Command CPU Processing Unit CRT Cathode CSA Association CT Telephony DDR2 Rate EC Community ECC Error-correcting EIA Industries EMC ESD ETSI Telecommunications FCC FRU Unit Ethernet GMII Interface GNU Not Unix GPIO GPL C Inter-integrated IANA Authority IEC International IO IPMB Platform IPMC Platform IPMI Platform Interface ISP In-system IVOR JTAG Action LED Light-emitting KAT4000 Section
KAT4000 LPC Count LUN Unit MAC MMC NEBS Network Network Function OEM OS PCI Peripheral PCI PHY Physical Interface PLD known as FPGA, CPLD, EPLD) POST RMA Authorization RMII Reduced Interface RTC Clock RTM Transition SATA ATA SDR Record SDRAM Synchronous Access Memory SEL SERDES SGMII Interface SMC SO-DIMM Memory SPI Interface IO SROM Memory TBD To TDM UART UL USB Universal XAUI Unit Interface
A-1: KAT4000 NO-CPU KAT4000 The following functional the KAT4000 This includes of SRAM memory the internal the VSC7376 Ethernet switch This SDRAM and NOR and NAND flash. Also, this IPMC features. A-1 KAT4000 Section
A: Ethernet Switch The interface offers of the CLI options. Therefore, Ethernet switch the CLI properly the interface. Switching interfaces while switch recommended. A-2 KAT4000 ETHERNET SWITCH CONFIGURATION If the KAT4000, the Ethernet switch and switch (optional) internal to each switch. Cus- tom of the switch through of interfaces each switch: interface (CLI) interface Both interfaces the VSC7376 switchs internal to and the switch. EEPROM and through To the switches and or the COM the Command Interface (CLI) or interface, the KAT4000 the Switch The switch VLAN L2 switch with learn- The or The and inactivity timeout The and MAC The empty, learning and The seconds. The KAT4000 the the port-based the Ethernet switch and switch the command. aggregated, to XOR. and includes The four highest VLAN high priority. high. and
A: Command Interface (CLI) Mirroring IP: IP and IP address/mask/gateway To the interface, IP SERIAL COMMAND LINE INTERFACE (CLI) Through the switch the options found the and The offers the option of the directly, without to VLAN the tion. The allows the board to without Ethernet CLI instructions and command below. In/Log Procedures To to the CLI, when prompted. and the command. Access the or The info the At top of displayed. At of the command the displayed. If the issued command, the and of the shown. The and the the following Commands top commands commands commands MAC MAC commands VLAN VLAN commands commands commands commands commands IP IP commands commands Commands Timeout [<timeout>] A-3 KAT4000
A: Command Interface (CLI) The Emerson internal only. A-4 KAT4000 Prompt or The the of to characters. Command The CLI hierarchical with top and The consists of the following MAC VLAN IP At top the including group, or the of the group. At commands the chosen without specifying the or to the top the command. The and indicated the At top the At the the group,
A: Command Interface (CLI) The following command IDs the the physical of the ID-1) when Ethernet switch VLAN ID the as Ethernet switch Table A-1: Command Also, the to to to the top from the group, or the Command Instructions Commands the and to the within the command the backspace using that the BS character when the backspace pressed) to chars from the the arrow-keys and to through history of the commands issued. If that and HyperTerminal), these to the to respectively the of the and the of the command Commands A-1 shows and Command the Comma and/or This type specifying or of The to specify The to specify MAC or The the to 00-00-24-F1-02-03 VLAN ID: the The to specify VLAN IDs. A-5 KAT4000
A: Command Interface (CLI) A-6 KAT4000 Command Comma and/or VLAN ID This type specifying VLAN IDs or of VLAN IDs. The to VLAN ID <class> of service, (highest=1). Comma and/or This type specifying or of user The The type when the the following commands the and VLAN awareness: Command Timeout [<timeout>] Prompt [<prompt_string>] Flow State Statistics [clear] Collisions MAC MAC MAC MAC MAC Table MAC MAC MAC Learning VLAN VLAN VLAN VLAN
A: Command Interface (CLI) Command VLAN VLAN PVID VLAN [<class>] [<class>] [<class>] Source IP IP IP IP ARP IP <number_of_passes> PHY PHY [clear of the commands optional If the optional or the the function as command). the as the command: SuperSwitch-01 the as the (VLAN ID MAC 010203ABCDEF The following sections the commands showing the and tion of each command. A-7 KAT4000
A: Command Interface (CLI) A-8 KAT4000 Commands software and MAC Optionally the the switch only). factory Preserve IP Not or the The clears the of to characters Ethernet and NVRAM to of the boards the 711A-1001 the switch. Commands and timeout. or the The the
A: Command Interface (CLI) Timeout: Flow of to characters. Timeout [<timeout>] or the inactivity timeout seconds. The timeout. [<timeout>] seconds, Prompt [<prompt_string>] or the The clears the [<prompt_string>] Command of to characters. Commands the and flow and the or the and the and and of and Flow or flow the A-9 KAT4000
A: Command Interface (CLI) Statistics: Collisions MAC MAC A-10 KAT4000 flow State or the the or the (including FCS) the allowed to than the the option to to the or to Statistics [clear] or clear statistics the [clear] Clear statistics statistics). Collisions or of when MAC MAC the permanently MAC and the MAC
A: Command Interface (CLI) MAC MAC MAC MAC MAC MAC Learning: MAC MAC and VLAN ID MAC optionally with or 010203ABCDEF, 01-02-03-AB-CD-EF or 01:02:03:AB:CD:EF). to VLAN ID, MAC MAC and VLAN ID. MAC optionally with or 010203ABCDEF, 01-02-03-AB-CD-EF or 01:02:03:AB:CD:EF). VLAN ID MAC MAC and VLAN ID. MAC optionally with or 010203ABCDEF, 01-02-03-AB-CD-EF or 01:02:03:AB:CD:EF). VLAN ID, MAC Table MAC the VLAN IDs specified. Since the the first shown. VLAN ID MAC MAC MAC or the MAC age seconds. The seconds, or A-11 KAT4000
A: Command Interface (CLI) VLAN VLAN VLAN VLAN VLAN Aware: A-12 KAT4000 MAC Learning MAC auto-learning. or MAC learning VLAN Commands IDs the the physical of the ID-1) when Ethernet switch VLAN ID the as Ethernet switch VLAN the VLAN VLAN ID and type the and the permanently VLAN VLAN VLAN and include VLAN ID VLAN VLAN from VLAN ID VLAN VLAN and VLAN ID VLAN or the VLAN awareness the VLAN the VLAN from and the PVID). VLAN the from or the ted
A: Command Interface (CLI) VLAN PVID: VLAN VLAN awareness awareness). VLAN PVID or the VLAN ID. the classified to this VLAN ID. classified to this VLAN ID the VLAN ID, PVID). The option VLAN or the type the or type). Commands the and the including group. including of the A-13 KAT4000
A: Command Interface (CLI) A-14 KAT4000 and group. including of the shown. or SMAC, DMAC or XOR other than groupings. With to the user user including the ID entry. ID user and ID Commands
A: Command Interface (CLI) the and DSCP the or the the or IP services of service the [<class>] or the class. the the as the priority. the [<class>] of service class). [<class>] or the VLAN VLAN [<class>] of service class). [<class>] or the IP Differentiated Services IP DSCP DSCP [<class>] of service class). or the VLAN user A-15 KAT4000
A: Command Interface (CLI) Shaper: Source: IP A-16 KAT4000 VLAN priority, priority). or the or to of the or the or to of the Commands the and or the Source or the Source of IP Commands
A: Command Interface (CLI) IP IP IP IP IP IP VLAN ID and IP or IP IP IP IP class). IP VLAN ID, IP or the IP IP IP IP the of the ARP IP <number_of_passes> ICMP ECHO to the IP IP to <number_of_passes> of to Commands Read or or within or A-17 KAT4000
A: Interface PHY Read: PHY A-18 KAT4000 to Block or or within or or PHY PHY or PHY to PHY or to write, or [clear user switch to EEPROM to or clears/resets or to WEB INTERFACE From the interface flow port-based
A: Interface The interface IDs the the physical of the ID-1) when Ethernet switch VLAN ID the as Ethernet switch It to the switch the interface to the interface through VID that the using to the interface VLAN If the interface the CLI to recover. Read and clear statistics counters operations protected. The The the as that the interface. IP the factory To the interface, first and the IP the command interface. the IP and to below of to the interface the interface (CLI): >IP It recommended that the to to the interface its VLAN. This where or KAT4000 nected to another Ethernet switch, to the interface through that switch the switch and A-19 KAT4000
A: Interface A-2: Interface the Ethernet Core Switch A-20 KAT4000
B-1: IPMI Record SENSOR DATA RECORDS This the KAT4000 IPMI Record (SDR) from and Records B-1 summary of the KAT4000 with to the record. The KAT4000 includes of the B-1 with the of the following: BMC CPU and F/W Progress. Record ID Table Information: KAT4000 Table B-2 B-2 B-3 B-2 IPMB Physical Table B-4 B-4 BMC Table B-5 B-5 Table B-6 B-7 Table B-7 B-9 Table B-8 B-11 Table B-9 B-13 B-10 B-15 CPU Table B-11 B-17 Inflow B-12 B-19 Outflow Table B-13 B-21 Table B-14 B-24 B1 B-15 B-25 B2 B-16 B-27 B3 Table B-17 B-28 B4 Table B-18 B-30 B1 +12V Table B-19 B-31 B1 +12V B-20 B-33 B2 +12V Table B-21 B-35 B2 +12V B-22 B-36 B3 +12V Table B-23 B-38 B3 +12V Table B-24 B-40 B4 +12V Table B-25 B-41 B4 +12V Table B-26 B-43 -48V B-27 B-45 -48V B-28 B-47 -48V Source Table B-29 B-48 -48V Source B-30 B-50 +3.3V B-31 B-52 B-1 KAT4000 Section
B: Records Table B-2: KAT4000 IPMC SDR KAT4000: Record ID SDR Record Record State ACPI State IPMB FRU Entity ID PICMG FRU Entity Instance OEM B-3: SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance B-2 KAT4000 Table Information: Record ID +12V B-32 B-54 +12V B-33 B-56 F/W (Firmware) Table B-34 B-58 ACPI State Accessing Info from FRU Inventory
B: Records KAT4000 Records: Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Scanning Threshold Access threshold Rate Unit Unit B-3 KAT4000
B: Records KAT4000 Records: Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-4: IPMB Physical SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified B-4 KAT4000 Scanning Threshold Access threshold Rate Unit Unit
B: Records KAT4000 Records: (continued) Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-5: BMC SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID B-5 KAT4000
B: Records (continued) KAT4000 Records: Entity Instance Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal B-6 KAT4000 Scanning Threshold threshold only Rate Unit Unit
B: Records KAT4000 Records: Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-6: SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID DC-to-DC Entity Instance Scanning Thresholds Scanning B-7 KAT4000
B: Records KAT4000 Records: Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading B-8 KAT4000 Threshold threshold Non-Recoverable Going High Non-Critical Going Non-Recoverable Going High Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: (continued) Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-7: SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID DC-to-DC Converter Entity Instance Scanning Thresholds Scanning B-9 KAT4000
B: Records KAT4000 Records: Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading B-10 KAT4000 Threshold Access threshold only Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-8: SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID DC-to-DC Converter Entity Instance Scanning Thresholds Scanning Threshold Access threshold only B-11 KAT4000
B: Records (continued) KAT4000 Records: Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold B-12 KAT4000 Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: (continued) Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-9: SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID DC-to-DC Converter Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold B-13 KAT4000
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-14 KAT4000 Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: (continued) Positive-Going Threshold Negative-Going Threshold OEM ID B-10: SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID DC-to-DC Converter Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Thresholds Scanning Threshold threshold only B-15 KAT4000
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-16 KAT4000 Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: (continued) Positive-Going Threshold Negative-Going Threshold OEM ID Table B-11: CPU SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold B-17 KAT4000
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified Linear M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-18 KAT4000 Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: Positive-Going Threshold Negative-Going Threshold OEM ID Table B-12: Inflow SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Thresholds Scanning Threshold Access threshold B-19 KAT4000
B: Records KAT4000 Records: Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit C Units Unit Unspecified M, B-20 KAT4000 Threshold Non-Critical Threshold Non-Recoverable Going High Going High Non-Critical Going High Non-Recoverable Going Going Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Going High Going High Non-Critical Going High Non-Recoverable Going Going Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-13: Outflow SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance B-21 KAT4000
B: Records KAT4000 Records: Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold B-22 KAT4000 Thresholds Scanning Threshold Access threshold only Threshold Non-Critical Threshold Non-Recoverable Going High Going High Non-Critical Going High Non-Recoverable Going Going Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Going High Going High Non-Critical Going High Non-Recoverable Going Going Non-Critical Going
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Units Format Units Unit C Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit B-23 KAT4000
B: Records KAT4000 Records: Positive-Going Threshold Negative-Going Threshold OEM ID Table B-14: SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified Units Unit Unspecified B-24 KAT4000 Scanning Threshold Access threshold Rate Unit Unit
B: Records KAT4000 Records: M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-15: B1 SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance B-25 KAT4000
B: Records KAT4000 Records: Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold B-26 KAT4000 Scanning Threshold threshold Rate Unit Unit
B: Records KAT4000 Records: Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-16: B2 SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified Scanning Threshold Access threshold Rate Unit Unit B-27 KAT4000
B: Records KAT4000 Records: Units Unit Unspecified M, B, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-17: B3 SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance B-28 KAT4000
B: Records KAT4000 Records: Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Scanning Threshold Access threshold Rate Unit Unit B-29 KAT4000
B: Records KAT4000 Records: Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-18: B4 SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance Scanning Event/Reading Assertion Deassertion Reading Units Format Units Unit Unspecified B-30 KAT4000 Scanning Threshold Access threshold Rate Unit Unit
B: Records KAT4000 Records: (continued) Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-19: B1 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance B-31 KAT4000
B: Records KAT4000 Records: Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Amps Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading B-32 KAT4000 Thresholds Scanning Threshold Access threshold only Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-20: B1 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Thresholds Scanning Threshold Access threshold B-33 KAT4000
B: Records KAT4000 Records: Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM B-34 KAT4000 Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: ID B-21: B2 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Amps Thresholds Scanning Threshold Access threshold Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit B-35 KAT4000
B: Records KAT4000 Records: Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-22: B2 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance B-36 KAT4000
B: Records KAT4000 Records: Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Thresholds Scanning Threshold Access threshold Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit B-37 KAT4000
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-23: B3 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High B-38 KAT4000 Thresholds Scanning Threshold Access threshold
B: Records KAT4000 Records: Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Amps Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit B-39 KAT4000
B: Records KAT4000 Records: ID Table B-24: B3 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit B-40 KAT4000 Thresholds Scanning Threshold Access threshold Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-25: B4 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC B-41 KAT4000
B: Records KAT4000 Records: Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Amps Units Unit Unspecified Linearization M, B, Accuracy, Characteristic Reading Normal Normal Reading B-42 KAT4000 Thresholds Scanning Threshold Access threshold only Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: (continued) Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-26: B4 +12V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID AMC Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Thresholds Scanning Threshold Access threshold only B-43 KAT4000
B: Records KAT4000 Records: Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold B-44 KAT4000 Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: OEM ID Table B-27: -48V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold Non-Recoverable Going High Non-Critical Going Non-Recoverable Going High Non-Critical Going B-45 KAT4000
B: Records KAT4000 Records: Reading Non-Recoverable Threshold Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-46 KAT4000 Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit
B: Records KAT4000 Records: Positive-Going Threshold Negative-Going Threshold OEM ID Table B-28: -48V SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold only Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-47 KAT4000
B: Records KAT4000 Records: Units Format Units Unit Amps Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-29: -48V Source SDR KAT4000 Records: Record ID SDR Record Record Record B-48 KAT4000 Rate Unit Unit
B: Records KAT4000 Records: ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold Non-Recoverable Going High Non-Critical Going Non-Recoverable Going High Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-49 KAT4000
B: Records KAT4000 Records: Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-30: -48V Source SDR KAT4000 Records: Record ID SDR Record Record Record B-50 KAT4000 Rate Unit Unit
B: Records KAT4000 Records: ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold only Non-Recoverable Going High Non-Critical Going Non-Recoverable Going High Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-51 KAT4000
B: Records KAT4000 Records: Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-31: +3.3V SDR KAT4000 Records: Record ID SDR Record Record Record B-52 KAT4000 Rate Unit Unit
B: Records KAT4000 Records: ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold only Non-Recoverable Going High Non-Critical Going Non-Recoverable Going High Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-53 KAT4000
B: Records (continued) KAT4000 Records: Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-32: +12V SDR KAT4000 Records: Record ID SDR Record Record Record B-54 KAT4000 Rate Unit Unit
B: Records KAT4000 Records: ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Threshold Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Thresholds Scanning Threshold Access threshold Non-Recoverable Going High Non-Critical Going Non-Recoverable Going High Non-Critical Going Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold B-55 KAT4000
B: Records (continued) KAT4000 Records: Units Format Units Unit Units Unit Unspecified M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-33: -12V SDR KAT4000 Records: Record ID SDR Record Record Record B-56 KAT4000 Rate Unit Unit
B: Records KAT4000 Records: (continued) ID LUN Entity ID Entity Instance Scanning Event/Reading Threshold Assertion Non-Recoverable Going High Deassertion Non-Recoverable Threshold Reading Non-Recoverable Threshold Units Format Units Unit Amps Units Unit Unspecified M, B, Thresholds Scanning Threshold Access threshold only Non-Recoverable Going High Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Rate Unit Unit B-57 KAT4000
B: Records (continued) KAT4000 Records: Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID Table B-34: F/W (Firmware) SDR KAT4000 Records: Record ID SDR Record Record Record ID LUN Entity ID Entity Instance Scanning B-58 KAT4000 Scanning
B: Records KAT4000 Records: (continued) Event/Reading Assertion Deassertion Reading Units Format Units Unit Units Unit M, B, Accuracy, Characteristic Reading Normal Normal Reading Reading Non-Recoverable Threshold Threshold Non-Critical Threshold Non-Recoverable Threshold Threshold Access threshold only Rate Unit Unit B-59 KAT4000
B: Records KAT4000 Records: Threshold Non-Critical Threshold Positive-Going Threshold Negative-Going Threshold OEM ID B-60 KAT4000
flow AMC assignments reference ATCA reference back CPU IPMC clock board optional ID from memory commands, C board boards without front PLCC writes to chip-select CPU top AMC assignments backplane J20 through J24 J30 through J33 P1, P2, P4-P7 P10 of CPLD JTAG header reference CPU cache memory chip-select functions the KAT4000 and peripheral reference and clocking AMC technical DRAM reference EEPROM reference EIA-232 commands, ESD Ethernet switch reference switch Ethernet switch CPU switch PLD PLD IPMI of commands, commands, reference switch of grounding to header, JP4 reference I2C of the IPMB reference IPMI information and instances FRU information function reference KAT4000
Interface (SIPL) commands commands IPMI records B-1 JP4 header JTAG CPLD header, JP1 CPLD interface CPLD JTAG header, JP3 CPU JTAG/COP CPU JTAG/COP header, P1 interface IPMC header, J35 optional interfaces JTAG selection L2 cache, CPU FRU/IPMC (MSR) (MTBF) memory commands, auto-booting basic commands history reference command-line interface commands commands commands KAT4000 memory commands S-record other commands power-up/reset recovery of KAT4000 with of KAT4000 with commands TFTP booting troubleshooting typographic U-Boot commands inm rarpboot showpci switch_reg switchsrom tftpboot NAND KAT4000 A-1 Ethernet switch A-2 A-2 interface (CLI) A-3 VLAN A-2 interface A-18 NVRAM memory operating
overview, IPMI PCI and ID ID PCI switch EEPROM JTAG reference PLD supply Ethernet ID (PLD) clock reference and switch to switch to BDRR and to CCR clock to to CPS CSC CSI CSS switch to HCR0 HVR JSR LEDR MISC to PIDR PLLC PVR RCR1 RCR2 RER RGCR RGSR SCR1 and ID to and clocking CPU boards RoHS RTC RTM plate features SATA SDR SDRAM. DRAM. records interface (CLI) commands A-13 command A-4 A-6 commands A-5 commands A-8 commands .A-17 A-3 IP commands .A-16 in/log A-3 MAC commands .A-10 commands .A-16 KAT4000 A-3 commands A-9 commands A-14 commands A-8 user commands A-14 VLAN commands A-12 I/O interface reference ROM PCI mechanical SROM switches synchronization clock reference of of technical technical terminology commands, timer/counters troubleshooting UL UL operating VLAN KAT4000
BMC KAT4000 interface KAT4000 .A-18 VLAN .A-18
Notes KAT4000
Emerson Network The Business-Critical Continuity Emerson Network Computing WI USA US FAX: www.artesyncp.com AC Connectivity DC Computing N. C D. Integrated Switching Business-Critical Continuity, Emerson Network and the Emerson Network and service of Emerson Emerson Precision Cooling Services Protection